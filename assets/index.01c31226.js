var y_=Object.defineProperty,b_=Object.defineProperties;var w_=Object.getOwnPropertyDescriptors;var za=Object.getOwnPropertySymbols;var hg=Object.prototype.hasOwnProperty,fg=Object.prototype.propertyIsEnumerable;var dg=(t,e,n)=>e in t?y_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||(e={}))hg.call(e,n)&&dg(t,n,e[n]);if(za)for(var n of za(e))fg.call(e,n)&&dg(t,n,e[n]);return t},B=(t,e)=>b_(t,w_(e));var Q=(t,e)=>{var n={};for(var r in t)hg.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&za)for(var r of za(t))e.indexOf(r)<0&&fg.call(t,r)&&(n[r]=t[r]);return n};const x_=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};x_();var v={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),k_=Symbol.for("react.portal"),E_=Symbol.for("react.fragment"),__=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),C_=Symbol.for("react.provider"),T_=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),R_=Symbol.for("react.memo"),A_=Symbol.for("react.lazy"),pg=Symbol.iterator;function P_(t){return t===null||typeof t!="object"?null:(t=pg&&t[pg]||t["@@iterator"],typeof t=="function"?t:null)}var ky={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ey=Object.assign,_y={};function ki(t,e,n){this.props=t,this.context=e,this.refs=_y,this.updater=n||ky}ki.prototype.isReactComponent={};ki.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sy(){}Sy.prototype=ki.prototype;function Cf(t,e,n){this.props=t,this.context=e,this.refs=_y,this.updater=n||ky}var Tf=Cf.prototype=new Sy;Tf.constructor=Cf;Ey(Tf,ki.prototype);Tf.isPureReactComponent=!0;var mg=Array.isArray,Cy=Object.prototype.hasOwnProperty,If={current:null},Ty={key:!0,ref:!0,__self:!0,__source:!0};function Iy(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Cy.call(e,r)&&!Ty.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ia,type:t,key:i,ref:s,props:o,_owner:If.current}}function D_(t,e){return{$$typeof:ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ia}function O_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gg=/\/+/g;function Wu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O_(""+t.key):e.toString(36)}function El(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ia:case k_:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Wu(s,0):r,mg(o)?(n="",t!=null&&(n=t.replace(gg,"$&/")+"/"),El(o,e,n,"",function(c){return c})):o!=null&&(Nf(o)&&(o=D_(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(gg,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",mg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Wu(i,a);s+=El(i,e,n,l,o)}else if(l=P_(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Wu(i,a++),s+=El(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ja(t,e,n){if(t==null)return t;var r=[],o=0;return El(t,r,"","",function(i){return e.call(n,i,o++)}),r}function L_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},_l={transition:null},$_={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:_l,ReactCurrentOwner:If};X.Children={map:ja,forEach:function(t,e,n){ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!Nf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=ki;X.Fragment=E_;X.Profiler=S_;X.PureComponent=Cf;X.StrictMode=__;X.Suspense=N_;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ey({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=If.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cy.call(e,l)&&!Ty.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ia,type:t.type,key:o,ref:i,props:r,_owner:s}};X.createContext=function(t){return t={$$typeof:T_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C_,_context:t},t.Consumer=t};X.createElement=Iy;X.createFactory=function(t){var e=Iy.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:I_,render:t}};X.isValidElement=Nf;X.lazy=function(t){return{$$typeof:A_,_payload:{_status:-1,_result:t},_init:L_}};X.memo=function(t,e){return{$$typeof:R_,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=_l.transition;_l.transition={};try{t()}finally{_l.transition=e}};X.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};X.useCallback=function(t,e){return vt.current.useCallback(t,e)};X.useContext=function(t){return vt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};X.useEffect=function(t,e){return vt.current.useEffect(t,e)};X.useId=function(){return vt.current.useId()};X.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return vt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};X.useRef=function(t){return vt.current.useRef(t)};X.useState=function(t){return vt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return vt.current.useTransition()};X.version="18.1.0";v.exports=X;var fn=v.exports,Hd={},Rf={exports:{}},Ut={},Ny={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,j){var V=P.length;P.push(j);e:for(;0<V;){var ae=V-1>>>1,le=P[ae];if(0<o(le,j))P[ae]=j,P[V]=le,V=ae;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],V=P.pop();if(V!==j){P[0]=V;e:for(var ae=0,le=P.length,ln=le>>>1;ae<ln;){var lt=2*(ae+1)-1,Yt=P[lt],At=lt+1,cn=P[At];if(0>o(Yt,V))At<le&&0>o(cn,Yt)?(P[ae]=cn,P[At]=V,ae=At):(P[ae]=Yt,P[lt]=V,ae=lt);else if(At<le&&0>o(cn,V))P[ae]=cn,P[At]=V,ae=At;else break e}}return j}function o(P,j){var V=P.sortIndex-j.sortIndex;return V!==0?V:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=P)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function k(P){if(w=!1,b(P),!m)if(n(l)!==null)m=!0,Eo(C);else{var j=n(c);j!==null&&Wn(k,j.startTime-P)}}function C(P,j){m=!1,w&&(w=!1,y(S),S=-1),p=!0;var V=d;try{for(b(j),h=n(l);h!==null&&(!(h.expirationTime>j)||P&&!se());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,d=h.priorityLevel;var le=ae(h.expirationTime<=j);j=t.unstable_now(),typeof le=="function"?h.callback=le:h===n(l)&&r(l),b(j)}else r(l);h=n(l)}if(h!==null)var ln=!0;else{var lt=n(c);lt!==null&&Wn(k,lt.startTime-j),ln=!1}return ln}finally{h=null,d=V,p=!1}}var A=!1,E=null,S=-1,F=5,z=-1;function se(){return!(t.unstable_now()-z<F)}function He(){if(E!==null){var P=t.unstable_now();z=P;var j=!0;try{j=E(!0,P)}finally{j?bt():(A=!1,E=null)}}else A=!1}var bt;if(typeof g=="function")bt=function(){g(He)};else if(typeof MessageChannel!="undefined"){var wt=new MessageChannel,Pe=wt.port2;wt.port1.onmessage=He,bt=function(){Pe.postMessage(null)}}else bt=function(){x(He,0)};function Eo(P){E=P,A||(A=!0,bt())}function Wn(P,j){S=x(function(){P(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Eo(C))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var V=d;d=j;try{return P()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=d;d=P;try{return j()}finally{d=V}},t.unstable_scheduleCallback=function(P,j,V){var ae=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ae+V:ae):V=ae,P){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=V+le,P={id:u++,callback:j,priorityLevel:P,startTime:V,expirationTime:le,sortIndex:-1},V>ae?(P.sortIndex=V,e(c,P),n(l)===null&&P===n(c)&&(w?(y(S),S=-1):w=!0,Wn(k,V-ae))):(P.sortIndex=le,e(l,P),m||p||(m=!0,Eo(C))),P},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(P){var j=d;return function(){var V=d;d=j;try{return P.apply(this,arguments)}finally{d=V}}}})(Ry);Ny.exports=Ry;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=v.exports,$t=Ny.exports;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Py=new Set,Is={};function mo(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(Is[t]=e,t=0;t<e.length;t++)Py.add(e[t])}var On=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Wd=Object.prototype.hasOwnProperty,M_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vg={},yg={};function U_(t){return Wd.call(yg,t)?!0:Wd.call(vg,t)?!1:M_.test(t)?yg[t]=!0:(vg[t]=!0,!1)}function F_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z_(t,e,n,r){if(e===null||typeof e=="undefined"||F_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yt(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Af=/[\-:]([a-z])/g;function Pf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Af,Pf);Je[e]=new yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Af,Pf);Je[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Af,Pf);Je[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Df(t,e,n,r){var o=Je.hasOwnProperty(e)?Je[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z_(e,n,o,r)&&(n=null),r||o===null?U_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=Ay.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Po=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),Oy=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),Ly=Symbol.for("react.offscreen"),bg=Symbol.iterator;function Bi(t){return t===null||typeof t!="object"?null:(t=bg&&t[bg]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Ku;function es(t){if(Ku===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ku=e&&e[1]||""}return`
`+Ku+t}var qu=!1;function Gu(t,e){if(!t||qu)return"";qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{qu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?es(t):""}function j_(t){switch(t.tag){case 5:return es(t.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return t=Gu(t.type,!1),t;case 11:return t=Gu(t.type.render,!1),t;case 1:return t=Gu(t.type,!0),t;default:return""}}function Qd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case Po:return"Portal";case Kd:return"Profiler";case Of:return"StrictMode";case qd:return"Suspense";case Gd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Oy:return(t.displayName||"Context")+".Consumer";case Dy:return(t._context.displayName||"Context")+".Provider";case Lf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $f:return e=t.displayName||null,e!==null?e:Qd(t.type)||"Memo";case Qn:e=t._payload,t=t._init;try{return Qd(t(e))}catch{}}return null}function B_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qd(e);case 8:return e===Of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $y(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V_(t){var e=$y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Va(t){t._valueTracker||(t._valueTracker=V_(t))}function My(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$y(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xd(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function wg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uy(t,e){e=e.checked,e!=null&&Df(t,"checked",e,!1)}function Yd(t,e){Uy(t,e);var n=yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jd(t,e.type,yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jd(t,e,n){(e!=="number"||Vl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ts=Array.isArray;function qo(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Zd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(ts(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yr(n)}}function Fy(t,e){var n=yr(e.value),r=yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Eg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ha,jy=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H_=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){H_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),us[e]=us[t]})});function By(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||us.hasOwnProperty(t)&&us[t]?(""+e).trim():e+"px"}function Vy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=By(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var W_=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(t,e){if(e){if(W_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function nh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function Mf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oh=null,Go=null,Qo=null;function _g(t){if(t=la(t)){if(typeof oh!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Wc(e),oh(t.stateNode,t.type,e))}}function Hy(t){Go?Qo?Qo.push(t):Qo=[t]:Go=t}function Wy(){if(Go){var t=Go,e=Qo;if(Qo=Go=null,_g(t),e)for(t=0;t<e.length;t++)_g(e[t])}}function Ky(t,e){return t(e)}function qy(){}var Qu=!1;function Gy(t,e,n){if(Qu)return t(e,n);Qu=!0;try{return Ky(t,e,n)}finally{Qu=!1,(Go!==null||Qo!==null)&&(qy(),Wy())}}function Rs(t,e){var n=t.stateNode;if(n===null)return null;var r=Wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var ih=!1;if(On)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){ih=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{ih=!1}function K_(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ds=!1,Hl=null,Wl=!1,sh=null,q_={onError:function(t){ds=!0,Hl=t}};function G_(t,e,n,r,o,i,s,a,l){ds=!1,Hl=null,K_.apply(q_,arguments)}function Q_(t,e,n,r,o,i,s,a,l){if(G_.apply(this,arguments),ds){if(ds){var c=Hl;ds=!1,Hl=null}else throw Error(N(198));Wl||(Wl=!0,sh=c)}}function go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sg(t){if(go(t)!==t)throw Error(N(188))}function X_(t){var e=t.alternate;if(!e){if(e=go(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Sg(o),t;if(i===r)return Sg(o),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Xy(t){return t=X_(t),t!==null?Yy(t):null}function Yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yy(t);if(e!==null)return e;t=t.sibling}return null}var Jy=$t.unstable_scheduleCallback,Cg=$t.unstable_cancelCallback,Y_=$t.unstable_shouldYield,J_=$t.unstable_requestPaint,_e=$t.unstable_now,Z_=$t.unstable_getCurrentPriorityLevel,Uf=$t.unstable_ImmediatePriority,Zy=$t.unstable_UserBlockingPriority,Kl=$t.unstable_NormalPriority,eS=$t.unstable_LowPriority,eb=$t.unstable_IdlePriority,jc=null,mn=null;function tS(t){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(jc,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:oS,nS=Math.log,rS=Math.LN2;function oS(t){return t>>>=0,t===0?32:31-(nS(t)/rS|0)|0}var Wa=64,Ka=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ql(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ns(a):(i&=s,i!==0&&(r=ns(i)))}else s=n&~o,s!==0?r=ns(s):i!==0&&(r=ns(i));if(r===0)return 0;if(e!==0&&e!==r&&(e&o)===0&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rn(e),o=1<<n,r|=t[n],e&=~o;return r}function iS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-rn(i),a=1<<s,l=o[s];l===-1?((a&n)===0||(a&r)!==0)&&(o[s]=iS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ah(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tb(){var t=Wa;return Wa<<=1,(Wa&4194240)===0&&(Wa=64),t}function Xu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rn(e),t[e]=n}function aS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-rn(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Ff(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ie=0;function nb(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var rb,zf,ob,ib,sb,lh=!1,qa=[],lr=null,cr=null,ur=null,As=new Map,Ps=new Map,Jn=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tg(t,e){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":As.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(e.pointerId)}}function Hi(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=la(e),e!==null&&zf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function cS(t,e,n,r,o){switch(e){case"focusin":return lr=Hi(lr,t,e,n,r,o),!0;case"dragenter":return cr=Hi(cr,t,e,n,r,o),!0;case"mouseover":return ur=Hi(ur,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return As.set(i,Hi(As.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ps.set(i,Hi(Ps.get(i)||null,t,e,n,r,o)),!0}return!1}function ab(t){var e=jr(t.target);if(e!==null){var n=go(e);if(n!==null){if(e=n.tag,e===13){if(e=Qy(n),e!==null){t.blockedOn=e,sb(t.priority,function(){ob(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ch(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rh=r,n.target.dispatchEvent(r),rh=null}else return e=la(n),e!==null&&zf(e),t.blockedOn=n,!1;e.shift()}return!0}function Ig(t,e,n){Sl(t)&&n.delete(e)}function uS(){lh=!1,lr!==null&&Sl(lr)&&(lr=null),cr!==null&&Sl(cr)&&(cr=null),ur!==null&&Sl(ur)&&(ur=null),As.forEach(Ig),Ps.forEach(Ig)}function Wi(t,e){t.blockedOn===e&&(t.blockedOn=null,lh||(lh=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,uS)))}function Ds(t){function e(o){return Wi(o,t)}if(0<qa.length){Wi(qa[0],t);for(var n=1;n<qa.length;n++){var r=qa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lr!==null&&Wi(lr,t),cr!==null&&Wi(cr,t),ur!==null&&Wi(ur,t),As.forEach(e),Ps.forEach(e),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)ab(n),n.blockedOn===null&&Jn.shift()}var Xo=jn.ReactCurrentBatchConfig,Gl=!0;function dS(t,e,n,r){var o=ie,i=Xo.transition;Xo.transition=null;try{ie=1,jf(t,e,n,r)}finally{ie=o,Xo.transition=i}}function hS(t,e,n,r){var o=ie,i=Xo.transition;Xo.transition=null;try{ie=4,jf(t,e,n,r)}finally{ie=o,Xo.transition=i}}function jf(t,e,n,r){if(Gl){var o=ch(t,e,n,r);if(o===null)sd(t,e,r,Ql,n),Tg(t,r);else if(cS(o,t,e,n,r))r.stopPropagation();else if(Tg(t,r),e&4&&-1<lS.indexOf(t)){for(;o!==null;){var i=la(o);if(i!==null&&rb(i),i=ch(t,e,n,r),i===null&&sd(t,e,r,Ql,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else sd(t,e,r,null,n)}}var Ql=null;function ch(t,e,n,r){if(Ql=null,t=Mf(r),t=jr(t),t!==null)if(e=go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ql=t,null}function lb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z_()){case Uf:return 1;case Zy:return 4;case Kl:case eS:return 16;case eb:return 536870912;default:return 16}default:return 16}}var sr=null,Bf=null,Cl=null;function cb(){if(Cl)return Cl;var t,e=Bf,n=e.length,r,o="value"in sr?sr.value:sr.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return Cl=o.slice(t,1<r?1-r:void 0)}function Tl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function Ng(){return!1}function Ft(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ga:Ng,this.isPropagationStopped=Ng,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vf=Ft(Ei),aa=we({},Ei,{view:0,detail:0}),fS=Ft(aa),Yu,Ju,Ki,Bc=we({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ki&&(Ki&&t.type==="mousemove"?(Yu=t.screenX-Ki.screenX,Ju=t.screenY-Ki.screenY):Ju=Yu=0,Ki=t),Yu)},movementY:function(t){return"movementY"in t?t.movementY:Ju}}),Rg=Ft(Bc),pS=we({},Bc,{dataTransfer:0}),mS=Ft(pS),gS=we({},aa,{relatedTarget:0}),Zu=Ft(gS),vS=we({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=Ft(vS),bS=we({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wS=Ft(bS),xS=we({},Ei,{data:0}),Ag=Ft(xS),kS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_S[t])?!!e[t]:!1}function Hf(){return SS}var CS=we({},aa,{key:function(t){if(t.key){var e=kS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ES[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(t){return t.type==="keypress"?Tl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TS=Ft(CS),IS=we({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Ft(IS),NS=we({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),RS=Ft(NS),AS=we({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),PS=Ft(AS),DS=we({},Bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=Ft(DS),LS=[9,13,27,32],Wf=On&&"CompositionEvent"in window,hs=null;On&&"documentMode"in document&&(hs=document.documentMode);var $S=On&&"TextEvent"in window&&!hs,ub=On&&(!Wf||hs&&8<hs&&11>=hs),Dg=String.fromCharCode(32),Og=!1;function db(t,e){switch(t){case"keyup":return LS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function MS(t,e){switch(t){case"compositionend":return hb(e);case"keypress":return e.which!==32?null:(Og=!0,Dg);case"textInput":return t=e.data,t===Dg&&Og?null:t;default:return null}}function US(t,e){if(Oo)return t==="compositionend"||!Wf&&db(t,e)?(t=cb(),Cl=Bf=sr=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ub&&e.locale!=="ko"?null:e.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FS[t.type]:e==="textarea"}function fb(t,e,n,r){Hy(r),e=Xl(e,"onChange"),0<e.length&&(n=new Vf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fs=null,Os=null;function zS(t){_b(t,0)}function Vc(t){var e=Mo(t);if(My(e))return t}function jS(t,e){if(t==="change")return e}var pb=!1;if(On){var ed;if(On){var td="oninput"in document;if(!td){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),td=typeof $g.oninput=="function"}ed=td}else ed=!1;pb=ed&&(!document.documentMode||9<document.documentMode)}function Mg(){fs&&(fs.detachEvent("onpropertychange",mb),Os=fs=null)}function mb(t){if(t.propertyName==="value"&&Vc(Os)){var e=[];fb(e,Os,t,Mf(t)),Gy(zS,e)}}function BS(t,e,n){t==="focusin"?(Mg(),fs=e,Os=n,fs.attachEvent("onpropertychange",mb)):t==="focusout"&&Mg()}function VS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vc(Os)}function HS(t,e){if(t==="click")return Vc(e)}function WS(t,e){if(t==="input"||t==="change")return Vc(e)}function KS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:KS;function Ls(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Wd.call(e,o)||!on(t[o],e[o]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fg(t,e){var n=Ug(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ug(n)}}function gb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vb(){for(var t=window,e=Vl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vl(t.document)}return e}function Kf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qS(t){var e=vb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gb(n.ownerDocument.documentElement,n)){if(r!==null&&Kf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Fg(n,i);var s=Fg(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GS=On&&"documentMode"in document&&11>=document.documentMode,Lo=null,uh=null,ps=null,dh=!1;function zg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dh||Lo==null||Lo!==Vl(r)||(r=Lo,"selectionStart"in r&&Kf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&Ls(ps,r)||(ps=r,r=Xl(uh,"onSelect"),0<r.length&&(e=new Vf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lo)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},nd={},yb={};On&&(yb=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Hc(t){if(nd[t])return nd[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yb)return nd[t]=e[n];return t}var bb=Hc("animationend"),wb=Hc("animationiteration"),xb=Hc("animationstart"),kb=Hc("transitionend"),Eb=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){Eb.set(t,e),mo(e,[t])}for(var rd=0;rd<jg.length;rd++){var od=jg[rd],QS=od.toLowerCase(),XS=od[0].toUpperCase()+od.slice(1);Tr(QS,"on"+XS)}Tr(bb,"onAnimationEnd");Tr(wb,"onAnimationIteration");Tr(xb,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(kb,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function Bg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Q_(r,e,void 0,t),t.currentTarget=null}function _b(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Bg(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Bg(o,a,c),i=l}}}if(Wl)throw t=sh,Wl=!1,sh=null,t}function fe(t,e){var n=e[gh];n===void 0&&(n=e[gh]=new Set);var r=t+"__bubble";n.has(r)||(Sb(e,t,2,!1),n.add(r))}function id(t,e,n){var r=0;e&&(r|=4),Sb(n,t,r,e)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function $s(t){if(!t[Xa]){t[Xa]=!0,Py.forEach(function(n){n!=="selectionchange"&&(YS.has(n)||id(n,!1,t),id(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xa]||(e[Xa]=!0,id("selectionchange",!1,e))}}function Sb(t,e,n,r){switch(lb(e)){case 1:var o=dS;break;case 4:o=hS;break;default:o=jf}n=o.bind(null,e,n,t),o=void 0,!ih||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function sd(t,e,n,r,o){var i=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=jr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Gy(function(){var c=i,u=Mf(n),h=[];e:{var d=Eb.get(t);if(d!==void 0){var p=Vf,m=t;switch(t){case"keypress":if(Tl(n)===0)break e;case"keydown":case"keyup":p=TS;break;case"focusin":m="focus",p=Zu;break;case"focusout":m="blur",p=Zu;break;case"beforeblur":case"afterblur":p=Zu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=RS;break;case bb:case wb:case xb:p=yS;break;case kb:p=PS;break;case"scroll":p=fS;break;case"wheel":p=OS;break;case"copy":case"cut":case"paste":p=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pg}var w=(e&4)!==0,x=!w&&t==="scroll",y=w?d!==null?d+"Capture":null:d;w=[];for(var g=c,b;g!==null;){b=g;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Rs(g,y),k!=null&&w.push(Ms(g,k,b)))),x)break;g=g.return}0<w.length&&(d=new p(d,m,null,n,u),h.push({event:d,listeners:w}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==rh&&(m=n.relatedTarget||n.fromElement)&&(jr(m)||m[Ln]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?jr(m):null,m!==null&&(x=go(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(w=Rg,k="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=Pg,k="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?d:Mo(p),b=m==null?d:Mo(m),d=new w(k,g+"leave",p,n,u),d.target=x,d.relatedTarget=b,k=null,jr(u)===c&&(w=new w(y,g+"enter",m,n,u),w.target=b,w.relatedTarget=x,k=w),x=k,p&&m)t:{for(w=p,y=m,g=0,b=w;b;b=Co(b))g++;for(b=0,k=y;k;k=Co(k))b++;for(;0<g-b;)w=Co(w),g--;for(;0<b-g;)y=Co(y),b--;for(;g--;){if(w===y||y!==null&&w===y.alternate)break t;w=Co(w),y=Co(y)}w=null}else w=null;p!==null&&Vg(h,d,p,w,!1),m!==null&&x!==null&&Vg(h,x,m,w,!0)}}e:{if(d=c?Mo(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=jS;else if(Lg(d))if(pb)C=WS;else{C=VS;var A=BS}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=HS);if(C&&(C=C(t,c))){fb(h,C,n,u);break e}A&&A(t,d,c),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Jd(d,"number",d.value)}switch(A=c?Mo(c):window,t){case"focusin":(Lg(A)||A.contentEditable==="true")&&(Lo=A,uh=c,ps=null);break;case"focusout":ps=uh=Lo=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,zg(h,n,u);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":zg(h,n,u)}var E;if(Wf)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Oo?db(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(ub&&n.locale!=="ko"&&(Oo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Oo&&(E=cb()):(sr=u,Bf="value"in sr?sr.value:sr.textContent,Oo=!0)),A=Xl(c,S),0<A.length&&(S=new Ag(S,t,null,n,u),h.push({event:S,listeners:A}),E?S.data=E:(E=hb(n),E!==null&&(S.data=E)))),(E=$S?MS(t,n):US(t,n))&&(c=Xl(c,"onBeforeInput"),0<c.length&&(u=new Ag("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=E))}_b(h,e)})}function Ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xl(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Rs(t,n),i!=null&&r.unshift(Ms(t,i,o)),i=Rs(t,e),i!=null&&r.push(Ms(t,i,o))),t=t.return}return r}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vg(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Rs(n,i),l!=null&&s.unshift(Ms(n,l,a))):o||(l=Rs(n,i),l!=null&&s.push(Ms(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var JS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function Hg(t){return(typeof t=="string"?t:""+t).replace(JS,`
`).replace(ZS,"")}function Ya(t,e,n){if(e=Hg(e),Hg(t)!==e&&n)throw Error(N(425))}function Yl(){}var hh=null,fh=null;function ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,e5=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,t5=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg!="undefined"?function(t){return Wg.resolve(null).then(t).catch(n5)}:mh;function n5(t){setTimeout(function(){throw t})}function ad(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Ds(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ds(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _i=Math.random().toString(36).slice(2),hn="__reactFiber$"+_i,Us="__reactProps$"+_i,Ln="__reactContainer$"+_i,gh="__reactEvents$"+_i,r5="__reactListeners$"+_i,o5="__reactHandles$"+_i;function jr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ln]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kg(t);t!==null;){if(n=t[hn])return n;t=Kg(t)}return e}t=n,n=t.parentNode}return null}function la(t){return t=t[hn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Wc(t){return t[Us]||null}var vh=[],Uo=-1;function Ir(t){return{current:t}}function me(t){0>Uo||(t.current=vh[Uo],vh[Uo]=null,Uo--)}function ce(t,e){Uo++,vh[Uo]=t.current,t.current=e}var br={},at=Ir(br),It=Ir(!1),Zr=br;function ii(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Nt(t){return t=t.childContextTypes,t!=null}function Jl(){me(It),me(at)}function qg(t,e,n){if(at.current!==br)throw Error(N(168));ce(at,e),ce(It,n)}function Cb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(N(108,B_(t)||"Unknown",o));return we({},n,r)}function Zl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,Zr=at.current,ce(at,t),ce(It,It.current),!0}function Gg(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Cb(t,e,Zr),r.__reactInternalMemoizedMergedChildContext=t,me(It),me(at),ce(at,t)):me(It),ce(It,n)}var En=null,Kc=!1,ld=!1;function Tb(t){En===null?En=[t]:En.push(t)}function i5(t){Kc=!0,Tb(t)}function Nr(){if(!ld&&En!==null){ld=!0;var t=0,e=ie;try{var n=En;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}En=null,Kc=!1}catch(o){throw En!==null&&(En=En.slice(t+1)),Jy(Uf,Nr),o}finally{ie=e,ld=!1}}return null}var s5=jn.ReactCurrentBatchConfig;function Zt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ec=Ir(null),tc=null,Fo=null,qf=null;function Gf(){qf=Fo=tc=null}function Qf(t){var e=ec.current;me(ec),t._currentValue=e}function yh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yo(t,e){tc=t,qf=Fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Tt=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(qf!==t)if(t={context:t,memoizedValue:e,next:null},Fo===null){if(tc===null)throw Error(N(308));Fo=t,tc.dependencies={lanes:0,firstContext:t}}else Fo=Fo.next=t;return e}var nn=null,Xn=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ib(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dr(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,vw(t)?(t=n.interleaved,t===null?(e.next=e,nn===null?nn=[n]:nn.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function Il(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ff(t,n)}}function Qg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nc(t,e,n,r){var o=t.updateQueue;Xn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=o.baseState;s=0,u=c=l=null,a=i;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(d=e,p=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=we({},h,d);break e;case 2:Xn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,s|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(1);if(u===null&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);no|=s,t.lanes=s,t.memoizedState=h}}function Xg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(N(191,o));o.call(r)}}}var Nb=new Ay.Component().refs;function bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qc={isMounted:function(t){return(t=t._reactInternals)?go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),o=fr(t),i=Rn(r,o);i.payload=e,n!=null&&(i.callback=n),dr(t,i),e=Kt(t,o,r),e!==null&&Il(e,t,o)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),o=fr(t),i=Rn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),dr(t,i),e=Kt(t,o,r),e!==null&&Il(e,t,o)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=fr(t),o=Rn(n,r);o.tag=2,e!=null&&(o.callback=e),dr(t,o),e=Kt(t,r,n),e!==null&&Il(e,t,r)}};function Yg(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ls(n,r)||!Ls(o,i):!0}function Rb(t,e,n){var r=!1,o=br,i=e.contextType;return typeof i=="object"&&i!==null?i=Gt(i):(o=Nt(e)?Zr:at.current,r=e.contextTypes,i=(r=r!=null)?ii(t,o):br),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Jg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qc.enqueueReplaceState(e,e.state,null)}function wh(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=Nb,Xf(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Gt(i):(i=Nt(e)?Zr:at.current,o.context=ii(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bh(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&qc.enqueueReplaceState(o,o.state,null),nc(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}var zo=[],jo=0,rc=null,oc=0,jt=[],Bt=0,eo=null,Sn=1,Cn="";function Lr(t,e){zo[jo++]=oc,zo[jo++]=rc,rc=t,oc=e}function Ab(t,e,n){jt[Bt++]=Sn,jt[Bt++]=Cn,jt[Bt++]=eo,eo=t;var r=Sn;t=Cn;var o=32-rn(r)-1;r&=~(1<<o),n+=1;var i=32-rn(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Sn=1<<32-rn(e)+o|n<<o|r,Cn=i+t}else Sn=1<<i|n<<o|r,Cn=t}function Yf(t){t.return!==null&&(Lr(t,1),Ab(t,1,0))}function Jf(t){for(;t===rc;)rc=zo[--jo],zo[jo]=null,oc=zo[--jo],zo[jo]=null;for(;t===eo;)eo=jt[--Bt],jt[Bt]=null,Cn=jt[--Bt],jt[Bt]=null,Sn=jt[--Bt],jt[Bt]=null}var Ot=null,_t=null,ge=!1,tn=null;function Pb(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,_t=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:Sn,overflow:Cn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,_t=null,!0):!1;default:return!1}}function xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kh(t){if(ge){var e=_t;if(e){var n=e;if(!Zg(t,e)){if(xh(t))throw Error(N(418));e=_n(n.nextSibling);var r=Ot;e&&Zg(t,e)?Pb(r,n):(t.flags=t.flags&-4097|2,ge=!1,Ot=t)}}else{if(xh(t))throw Error(N(418));t.flags=t.flags&-4097|2,ge=!1,Ot=t}}}function e0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function qi(t){if(t!==Ot)return!1;if(!ge)return e0(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ph(t.type,t.memoizedProps)),e&&(e=_t)){if(xh(t)){for(t=_t;t;)t=_n(t.nextSibling);throw Error(N(418))}for(;e;)Pb(t,e),e=_n(e.nextSibling)}if(e0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=Ot?_n(t.stateNode.nextSibling):null;return!0}function si(){_t=Ot=null,ge=!1}function Zf(t){tn===null?tn=[t]:tn.push(t)}function Gi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===Nb&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Ja(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t0(t){var e=t._init;return e(t._payload)}function Db(t){function e(y,g){if(t){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function o(y,g){return y=wr(y,g),y.index=0,y.sibling=null,y}function i(y,g,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,b,k){return g===null||g.tag!==6?(g=pd(b,y.mode,k),g.return=y,g):(g=o(g,b),g.return=y,g)}function l(y,g,b,k){var C=b.type;return C===Do?u(y,g,b.props.children,k,b.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Qn&&t0(C)===g.type)?(k=o(g,b.props),k.ref=Gi(y,g,b),k.return=y,k):(k=Dl(b.type,b.key,b.props,null,y.mode,k),k.ref=Gi(y,g,b),k.return=y,k)}function c(y,g,b,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=md(b,y.mode,k),g.return=y,g):(g=o(g,b.children||[]),g.return=y,g)}function u(y,g,b,k,C){return g===null||g.tag!==7?(g=Gr(b,y.mode,k,C),g.return=y,g):(g=o(g,b),g.return=y,g)}function h(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pd(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ba:return b=Dl(g.type,g.key,g.props,null,y.mode,b),b.ref=Gi(y,null,g),b.return=y,b;case Po:return g=md(g,y.mode,b),g.return=y,g;case Qn:var k=g._init;return h(y,k(g._payload),b)}if(ts(g)||Bi(g))return g=Gr(g,y.mode,b,null),g.return=y,g;Ja(y,g)}return null}function d(y,g,b,k){var C=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(y,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ba:return b.key===C?l(y,g,b,k):null;case Po:return b.key===C?c(y,g,b,k):null;case Qn:return C=b._init,d(y,g,C(b._payload),k)}if(ts(b)||Bi(b))return C!==null?null:u(y,g,b,k,null);Ja(y,b)}return null}function p(y,g,b,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,a(g,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ba:return y=y.get(k.key===null?b:k.key)||null,l(g,y,k,C);case Po:return y=y.get(k.key===null?b:k.key)||null,c(g,y,k,C);case Qn:var A=k._init;return p(y,g,b,A(k._payload),C)}if(ts(k)||Bi(k))return y=y.get(b)||null,u(g,y,k,C,null);Ja(g,k)}return null}function m(y,g,b,k){for(var C=null,A=null,E=g,S=g=0,F=null;E!==null&&S<b.length;S++){E.index>S?(F=E,E=null):F=E.sibling;var z=d(y,E,b[S],k);if(z===null){E===null&&(E=F);break}t&&E&&z.alternate===null&&e(y,E),g=i(z,g,S),A===null?C=z:A.sibling=z,A=z,E=F}if(S===b.length)return n(y,E),ge&&Lr(y,S),C;if(E===null){for(;S<b.length;S++)E=h(y,b[S],k),E!==null&&(g=i(E,g,S),A===null?C=E:A.sibling=E,A=E);return ge&&Lr(y,S),C}for(E=r(y,E);S<b.length;S++)F=p(E,y,S,b[S],k),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?S:F.key),g=i(F,g,S),A===null?C=F:A.sibling=F,A=F);return t&&E.forEach(function(se){return e(y,se)}),ge&&Lr(y,S),C}function w(y,g,b,k){var C=Bi(b);if(typeof C!="function")throw Error(N(150));if(b=C.call(b),b==null)throw Error(N(151));for(var A=C=null,E=g,S=g=0,F=null,z=b.next();E!==null&&!z.done;S++,z=b.next()){E.index>S?(F=E,E=null):F=E.sibling;var se=d(y,E,z.value,k);if(se===null){E===null&&(E=F);break}t&&E&&se.alternate===null&&e(y,E),g=i(se,g,S),A===null?C=se:A.sibling=se,A=se,E=F}if(z.done)return n(y,E),ge&&Lr(y,S),C;if(E===null){for(;!z.done;S++,z=b.next())z=h(y,z.value,k),z!==null&&(g=i(z,g,S),A===null?C=z:A.sibling=z,A=z);return ge&&Lr(y,S),C}for(E=r(y,E);!z.done;S++,z=b.next())z=p(E,y,S,z.value,k),z!==null&&(t&&z.alternate!==null&&E.delete(z.key===null?S:z.key),g=i(z,g,S),A===null?C=z:A.sibling=z,A=z);return t&&E.forEach(function(He){return e(y,He)}),ge&&Lr(y,S),C}function x(y,g,b,k){if(typeof b=="object"&&b!==null&&b.type===Do&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ba:e:{for(var C=b.key,A=g;A!==null;){if(A.key===C){if(C=b.type,C===Do){if(A.tag===7){n(y,A.sibling),g=o(A,b.props.children),g.return=y,y=g;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Qn&&t0(C)===A.type){n(y,A.sibling),g=o(A,b.props),g.ref=Gi(y,A,b),g.return=y,y=g;break e}n(y,A);break}else e(y,A);A=A.sibling}b.type===Do?(g=Gr(b.props.children,y.mode,k,b.key),g.return=y,y=g):(k=Dl(b.type,b.key,b.props,null,y.mode,k),k.ref=Gi(y,g,b),k.return=y,y=k)}return s(y);case Po:e:{for(A=b.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(y,g.sibling),g=o(g,b.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=md(b,y.mode,k),g.return=y,y=g}return s(y);case Qn:return A=b._init,x(y,g,A(b._payload),k)}if(ts(b))return m(y,g,b,k);if(Bi(b))return w(y,g,b,k);Ja(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(y,g.sibling),g=o(g,b),g.return=y,y=g):(n(y,g),g=pd(b,y.mode,k),g.return=y,y=g),s(y)):n(y,g)}return x}var ai=Db(!0),Ob=Db(!1),ca={},gn=Ir(ca),Fs=Ir(ca),zs=Ir(ca);function Br(t){if(t===ca)throw Error(N(174));return t}function ep(t,e){switch(ce(zs,e),ce(Fs,t),ce(gn,ca),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eh(e,t)}me(gn),ce(gn,e)}function li(){me(gn),me(Fs),me(zs)}function Lb(t){Br(zs.current);var e=Br(gn.current),n=eh(e,t.type);e!==n&&(ce(Fs,t),ce(gn,n))}function tp(t){Fs.current===t&&(me(gn),me(Fs))}var ye=Ir(0);function ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cd=[];function np(){for(var t=0;t<cd.length;t++)cd[t]._workInProgressVersionPrimary=null;cd.length=0}var Nl=jn.ReactCurrentDispatcher,ud=jn.ReactCurrentBatchConfig,to=0,be=null,De=null,je=null,sc=!1,ms=!1,js=0,a5=0;function tt(){throw Error(N(321))}function rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function op(t,e,n,r,o,i){if(to=i,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nl.current=t===null||t.memoizedState===null?d5:h5,t=n(r,o),ms){i=0;do{if(ms=!1,js=0,25<=i)throw Error(N(301));i+=1,je=De=null,e.updateQueue=null,Nl.current=f5,t=n(r,o)}while(ms)}if(Nl.current=ac,e=De!==null&&De.next!==null,to=0,je=De=be=null,sc=!1,e)throw Error(N(300));return t}function ip(){var t=js!==0;return js=0,t}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?be.memoizedState=je=t:je=je.next=t,je}function Qt(){if(De===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=je===null?be.memoizedState:je.next;if(e!==null)je=e,De=t;else{if(t===null)throw Error(N(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},je===null?be.memoizedState=je=t:je=je.next=t}return je}function Bs(t,e){return typeof e=="function"?e(t):e}function dd(t){var e=Qt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=De,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((to&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,be.lanes|=u,no|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,on(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,be.lanes|=i,no|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hd(t){var e=Qt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);on(i,e.memoizedState)||(Tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $b(){}function Mb(t,e){var n=be,r=Qt(),o=e(),i=!on(r.memoizedState,o);if(i&&(r.memoizedState=o,Tt=!0),r=r.queue,sp(zb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Vs(9,Fb.bind(null,n,r,o,e),void 0,null),Le===null)throw Error(N(349));(to&30)!==0||Ub(n,e,o)}return o}function Ub(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fb(t,e,n,r){e.value=n,e.getSnapshot=r,jb(e)&&Kt(t,1,-1)}function zb(t,e,n){return n(function(){jb(e)&&Kt(t,1,-1)})}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function n0(t){var e=dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=u5.bind(null,be,t),[e.memoizedState,t]}function Vs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bb(){return Qt().memoizedState}function Rl(t,e,n,r){var o=dn();be.flags|=t,o.memoizedState=Vs(1|e,n,void 0,r===void 0?null:r)}function Gc(t,e,n,r){var o=Qt();r=r===void 0?null:r;var i=void 0;if(De!==null){var s=De.memoizedState;if(i=s.destroy,r!==null&&rp(r,s.deps)){o.memoizedState=Vs(e,n,i,r);return}}be.flags|=t,o.memoizedState=Vs(1|e,n,i,r)}function r0(t,e){return Rl(8390656,8,t,e)}function sp(t,e){return Gc(2048,8,t,e)}function Vb(t,e){return Gc(4,2,t,e)}function Hb(t,e){return Gc(4,4,t,e)}function Wb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kb(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4,4,Wb.bind(null,e,t),n)}function ap(){}function qb(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gb(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qb(t,e,n){return(to&21)===0?(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n):(on(n,e)||(n=tb(),be.lanes|=n,no|=n,t.baseState=!0),e)}function l5(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=ud.transition;ud.transition={};try{t(!1),e()}finally{ie=n,ud.transition=r}}function Xb(){return Qt().memoizedState}function c5(t,e,n){var r=fr(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yb(t)?Jb(e,n):(Zb(t,e,n),n=mt(),t=Kt(t,r,n),t!==null&&ew(t,e,r))}function u5(t,e,n){var r=fr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yb(t))Jb(e,o);else{Zb(t,e,o);var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,on(a,s))return}catch{}finally{}n=mt(),t=Kt(t,r,n),t!==null&&ew(t,e,r)}}function Yb(t){var e=t.alternate;return t===be||e!==null&&e===be}function Jb(t,e){ms=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zb(t,e,n){vw(t)?(t=e.interleaved,t===null?(n.next=n,nn===null?nn=[e]:nn.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function ew(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ff(t,n)}}var ac={readContext:Gt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},d5={readContext:Gt,useCallback:function(t,e){return dn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:r0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4194308,4,Wb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rl(4,2,t,e)},useMemo:function(t,e){var n=dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=c5.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=dn();return t={current:t},e.memoizedState=t},useState:n0,useDebugValue:ap,useDeferredValue:function(t){return dn().memoizedState=t},useTransition:function(){var t=n0(!1),e=t[0];return t=l5.bind(null,t[1]),dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,o=dn();if(ge){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Le===null)throw Error(N(349));(to&30)!==0||Ub(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,r0(zb.bind(null,r,i,t),[t]),r.flags|=2048,Vs(9,Fb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dn(),e=Le.identifierPrefix;if(ge){var n=Cn,r=Sn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=js++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=a5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h5={readContext:Gt,useCallback:qb,useContext:Gt,useEffect:sp,useImperativeHandle:Kb,useInsertionEffect:Vb,useLayoutEffect:Hb,useMemo:Gb,useReducer:dd,useRef:Bb,useState:function(){return dd(Bs)},useDebugValue:ap,useDeferredValue:function(t){var e=Qt();return Qb(e,De.memoizedState,t)},useTransition:function(){var t=dd(Bs)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:$b,useSyncExternalStore:Mb,useId:Xb,unstable_isNewReconciler:!1},f5={readContext:Gt,useCallback:qb,useContext:Gt,useEffect:sp,useImperativeHandle:Kb,useInsertionEffect:Vb,useLayoutEffect:Hb,useMemo:Gb,useReducer:hd,useRef:Bb,useState:function(){return hd(Bs)},useDebugValue:ap,useDeferredValue:function(t){var e=Qt();return De===null?e.memoizedState=t:Qb(e,De.memoizedState,t)},useTransition:function(){var t=hd(Bs)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:$b,useSyncExternalStore:Mb,useId:Xb,unstable_isNewReconciler:!1};function lp(t,e){try{var n="",r=e;do n+=j_(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o}}function Eh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p5=typeof WeakMap=="function"?WeakMap:Map;function tw(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cc||(cc=!0,Ph=r),Eh(t,e)},n}function nw(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Eh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Eh(t,e),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function o0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new p5;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=T5.bind(null,t,e,n),e.then(t,t))}function i0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s0(t,e,n,r,o){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,dr(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=o,t)}var rw,_h,ow,iw;rw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_h=function(){};ow=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Br(gn.current);var i=null;switch(n){case"input":o=Xd(t,o),r=Xd(t,r),i=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":o=Zd(t,o),r=Zd(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yl)}th(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Is.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Is.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};iw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qi(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function m5(t,e,n){var r=e.pendingProps;switch(Jf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return Nt(e.type)&&Jl(),nt(e),null;case 3:return r=e.stateNode,li(),me(It),me(at),np(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,tn!==null&&(Lh(tn),tn=null))),_h(t,e),nt(e),null;case 5:tp(e);var o=Br(zs.current);if(n=e.type,t!==null&&e.stateNode!=null)ow(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return nt(e),null}if(t=Br(gn.current),qi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[Us]=i,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<rs.length;o++)fe(rs[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":wg(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":kg(r,i),fe("invalid",r)}th(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),o=["children",""+a]):Is.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":Va(r),xg(r,i,!0);break;case"textarea":Va(r),Eg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yl)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[hn]=e,t[Us]=r,rw(t,e,!1,!1),e.stateNode=t;e:{switch(s=nh(n,r),n){case"dialog":fe("cancel",t),fe("close",t),o=r;break;case"iframe":case"object":case"embed":fe("load",t),o=r;break;case"video":case"audio":for(o=0;o<rs.length;o++)fe(rs[o],t);o=r;break;case"source":fe("error",t),o=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),o=r;break;case"details":fe("toggle",t),o=r;break;case"input":wg(t,r),o=Xd(t,r),fe("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),fe("invalid",t);break;case"textarea":kg(t,r),o=Zd(t,r),fe("invalid",t);break;default:o=r}th(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jy(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ns(t,l):typeof l=="number"&&Ns(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Is.hasOwnProperty(i)?l!=null&&i==="onScroll"&&fe("scroll",t):l!=null&&Df(t,i,l,s))}switch(n){case"input":Va(t),xg(t,r,!1);break;case"textarea":Va(t),Eg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qo(t,!!r.multiple,i,!1):r.defaultValue!=null&&qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Yl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)iw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Br(zs.current),Br(gn.current),qi(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:Ya(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ya(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return nt(e),null;case 13:if(me(ye),r=e.memoizedState,ge&&_t!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=_t;r;)r=_n(r.nextSibling);return si(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=qi(e),t===null){if(!r)throw Error(N(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[hn]=e}else si(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return nt(e),null}return tn!==null&&(Lh(tn),tn=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?qi(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ye.current&1)!==0?Oe===0&&(Oe=3):pp())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return li(),_h(t,e),t===null&&$s(e.stateNode.containerInfo),nt(e),null;case 10:return Qf(e.type._context),nt(e),null;case 17:return Nt(e.type)&&Jl(),nt(e),null;case 19:if(me(ye),i=e.memoizedState,i===null)return nt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Qi(i,!1);else{if(Oe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=ic(t),s!==null){for(e.flags|=128,Qi(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&_e()>ci&&(e.flags|=128,r=!0,Qi(i,!1),e.lanes=4194304)}else{if(!r)if(t=ic(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ge)return nt(e),null}else 2*_e()-i.renderingStartTime>ci&&n!==1073741824&&(e.flags|=128,r=!0,Qi(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_e(),e.sibling=null,n=ye.current,ce(ye,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return fp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Pt&1073741824)!==0&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}var g5=jn.ReactCurrentOwner,Tt=!1;function ut(t,e,n,r){e.child=t===null?Ob(e,null,n,r):ai(e,t.child,n,r)}function a0(t,e,n,r,o){n=n.render;var i=e.ref;return Yo(e,o),r=op(t,e,n,r,i,o),n=ip(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,$n(t,e,o)):(ge&&n&&Yf(e),e.flags|=1,ut(t,e,r,o),e.child)}function l0(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!mp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sw(t,e,i,r,o)):(t=Dl(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,(t.lanes&o)===0){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(s,r)&&t.ref===e.ref)return $n(t,e,o)}return e.flags|=1,t=wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function sw(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Ls(i,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=i,(t.lanes&o)!==0)(t.flags&131072)!==0&&(Tt=!0);else return e.lanes=t.lanes,$n(t,e,o)}return Sh(t,e,n,r,o)}function aw(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Vo,Pt),Pt|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Vo,Pt),Pt|=r;else return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Vo,Pt),Pt|=t,null;else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ce(Vo,Pt),Pt|=r;return ut(t,e,o,n),e.child}function lw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sh(t,e,n,r,o){var i=Nt(n)?Zr:at.current;return i=ii(e,i),Yo(e,o),n=op(t,e,n,r,i,o),r=ip(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,$n(t,e,o)):(ge&&r&&Yf(e),e.flags|=1,ut(t,e,n,o),e.child)}function c0(t,e,n,r,o){if(Nt(n)){var i=!0;Zl(e)}else i=!1;if(Yo(e,o),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Rb(e,n,r),wh(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gt(c):(c=Nt(n)?Zr:at.current,c=ii(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Jg(e,s,r,c),Xn=!1;var d=e.memoizedState;s.state=d,nc(e,r,s,o),l=e.memoizedState,a!==r||d!==l||It.current||Xn?(typeof u=="function"&&(bh(e,n,u,r),l=e.memoizedState),(a=Xn||Yg(e,n,a,r,d,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Ib(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zt(e.type,a),s.props=c,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Nt(n)?Zr:at.current,l=ii(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Jg(e,s,r,l),Xn=!1,d=e.memoizedState,s.state=d,nc(e,r,s,o);var m=e.memoizedState;a!==h||d!==m||It.current||Xn?(typeof p=="function"&&(bh(e,n,p,r),m=e.memoizedState),(c=Xn||Yg(e,n,c,r,d,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ch(t,e,n,r,i,o)}function Ch(t,e,n,r,o,i){lw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Gg(e,n,!1),$n(t,e,i);r=e.stateNode,g5.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ai(e,t.child,null,i),e.child=ai(e,null,a,i)):ut(t,e,a,i),e.memoizedState=r.state,o&&Gg(e,n,!0),e.child}function cw(t){var e=t.stateNode;e.pendingContext?qg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qg(t,e.context,!1),ep(t,e.containerInfo)}function u0(t,e,n,r,o){return si(),Zf(o),e.flags|=256,ut(t,e,n,r),e.child}var Za={dehydrated:null,treeContext:null,retryLane:0};function el(t){return{baseLanes:t,cachePool:null,transitions:null}}function d0(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function uw(t,e,n){var r=e.pendingProps,o=ye.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ce(ye,o&1),t===null)return kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hc(o,r,0,null),t=Gr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=el(n),e.memoizedState=Za,t):Th(e,o));if(o=t.memoizedState,o!==null){if(a=o.dehydrated,a!==null){if(s)return e.flags&256?(e.flags&=-257,tl(t,e,n,Error(N(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=hc({mode:"visible",children:r.children},o,0,null),i=Gr(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,(e.mode&1)!==0&&ai(e,t.child,null,n),e.child.memoizedState=el(n),e.memoizedState=Za,i);if((e.mode&1)===0)e=tl(t,e,n,null);else if(a.data==="$!")e=tl(t,e,n,Error(N(419)));else if(r=(n&t.childLanes)!==0,Tt||r){if(r=Le,r!==null){switch(n&-n){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}r=(i&(r.suspendedLanes|n))!==0?0:i,r!==0&&r!==o.retryLane&&(o.retryLane=r,Kt(t,r,-1))}pp(),e=tl(t,e,n,Error(N(421)))}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=I5.bind(null,t),a._reactRetry=e,e=null):(n=o.treeContext,_t=_n(a.nextSibling),Ot=e,ge=!0,tn=null,n!==null&&(jt[Bt++]=Sn,jt[Bt++]=Cn,jt[Bt++]=eo,Sn=n.id,Cn=n.overflow,eo=e),e=Th(e,e.pendingProps.children),e.flags|=4096);return e}return i?(r=f0(t,e,r.children,r.fallback,n),i=e.child,o=t.child.memoizedState,i.memoizedState=o===null?el(n):d0(o,n),i.childLanes=t.childLanes&~n,e.memoizedState=Za,r):(n=h0(t,e,r.children,n),e.memoizedState=null,n)}return i?(r=f0(t,e,r.children,r.fallback,n),i=e.child,o=t.child.memoizedState,i.memoizedState=o===null?el(n):d0(o,n),i.childLanes=t.childLanes&~n,e.memoizedState=Za,r):(n=h0(t,e,r.children,n),e.memoizedState=null,n)}function Th(t,e){return e=hc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function h0(t,e,n,r){var o=t.child;return t=o.sibling,n=wr(o,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function f0(t,e,n,r,o){var i=e.mode;t=t.child;var s=t.sibling,a={mode:"hidden",children:n};return(i&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=wr(t,a),n.subtreeFlags=t.subtreeFlags&14680064),s!==null?r=wr(s,r):(r=Gr(r,i,o,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function tl(t,e,n,r){return r!==null&&Zf(r),ai(e,t.child,null,n),t=Th(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yh(t.return,e,n)}function fd(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function dw(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(ut(t,e,r.children,n),r=ye.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p0(t,n,e);else if(t.tag===19)p0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(ye,r),(e.mode&1)===0)e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&ic(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),fd(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ic(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}fd(e,!0,n,null,i);break;case"together":fd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function v5(t,e,n){switch(e.tag){case 3:cw(e),si();break;case 5:Lb(e);break;case 1:Nt(e.type)&&Zl(e);break;case 4:ep(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ce(ec,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(ye,ye.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?uw(t,e,n):(ce(ye,ye.current&1),t=$n(t,e,n),t!==null?t.sibling:null);ce(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return dw(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,aw(t,e,n)}return $n(t,e,n)}function y5(t,e){switch(Jf(e),e.tag){case 1:return Nt(e.type)&&Jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return li(),me(It),me(at),np(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return tp(e),null;case 13:if(me(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ye),null;case 4:return li(),null;case 10:return Qf(e.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var nl=!1,ot=!1,b5=typeof WeakSet=="function"?WeakSet:Set,D=null;function Bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function Ih(t,e,n){try{n()}catch(r){xe(t,e,r)}}var m0=!1;function w5(t,e){if(hh=Gl,t=vb(),Kf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var p;h!==n||o!==0&&h.nodeType!==3||(a=s+o),h!==i||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++c===o&&(a=s),d===i&&++u===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fh={focusedElem:t,selectionRange:n},Gl=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Zt(e.type,w),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;if(b.nodeType===1)b.textContent="";else if(b.nodeType===9){var k=b.body;k!=null&&(k.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(C){xe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return m=m0,m0=!1,m}function gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ih(e,n,i)}o=o.next}while(o!==r)}}function Qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hw(t){var e=t.alternate;e!==null&&(t.alternate=null,hw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[Us],delete e[gh],delete e[r5],delete e[o5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fw(t){return t.tag===5||t.tag===3||t.tag===4}function g0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yl));else if(r!==4&&(t=t.child,t!==null))for(Rh(t,e,n),t=t.sibling;t!==null;)Rh(t,e,n),t=t.sibling}function Ah(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ah(t,e,n),t=t.sibling;t!==null;)Ah(t,e,n),t=t.sibling}var Ke=null,en=!1;function Kn(t,e,n){for(n=n.child;n!==null;)pw(t,e,n),n=n.sibling}function pw(t,e,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(jc,n)}catch{}switch(n.tag){case 5:ot||Bo(n,e);case 6:var r=Ke,o=en;Ke=null,Kn(t,e,n),Ke=r,en=o,Ke!==null&&(en?(t=Ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(en?(t=Ke,n=n.stateNode,t.nodeType===8?ad(t.parentNode,n):t.nodeType===1&&ad(t,n),Ds(t)):ad(Ke,n.stateNode));break;case 4:r=Ke,o=en,Ke=n.stateNode.containerInfo,en=!0,Kn(t,e,n),Ke=r,en=o;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&((i&2)!==0||(i&4)!==0)&&Ih(n,e,s),o=o.next}while(o!==r)}Kn(t,e,n);break;case 1:if(!ot&&(Bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,e,a)}Kn(t,e,n);break;case 21:Kn(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Kn(t,e,n),ot=r):Kn(t,e,n);break;default:Kn(t,e,n)}}function v0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new b5),e.forEach(function(r){var o=N5.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,en=!1;break e;case 3:Ke=a.stateNode.containerInfo,en=!0;break e;case 4:Ke=a.stateNode.containerInfo,en=!0;break e}a=a.return}if(Ke===null)throw Error(N(160));pw(i,s,o),Ke=null,en=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){xe(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mw(e,t),e=e.sibling}function mw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),un(t),r&4){try{gs(3,t,t.return),Qc(3,t)}catch(m){xe(t,t.return,m)}try{gs(5,t,t.return)}catch(m){xe(t,t.return,m)}}break;case 1:Jt(e,t),un(t),r&512&&n!==null&&Bo(n,n.return);break;case 5:if(Jt(e,t),un(t),r&512&&n!==null&&Bo(n,n.return),t.flags&32){var o=t.stateNode;try{Ns(o,"")}catch(m){xe(t,t.return,m)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Uy(o,i),nh(a,s);var c=nh(a,i);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];u==="style"?Vy(o,h):u==="dangerouslySetInnerHTML"?jy(o,h):u==="children"?Ns(o,h):Df(o,u,h,c)}switch(a){case"input":Yd(o,i);break;case"textarea":Fy(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qo(o,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?qo(o,!!i.multiple,i.defaultValue,!0):qo(o,!!i.multiple,i.multiple?[]:"",!1))}o[Us]=i}catch(m){xe(t,t.return,m)}}break;case 6:if(Jt(e,t),un(t),r&4){if(t.stateNode===null)throw Error(N(162));c=t.stateNode,u=t.memoizedProps;try{c.nodeValue=u}catch(m){xe(t,t.return,m)}}break;case 3:if(Jt(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ds(e.containerInfo)}catch(m){xe(t,t.return,m)}break;case 4:Jt(e,t),un(t);break;case 13:Jt(e,t),un(t),c=t.child,c.flags&8192&&c.memoizedState!==null&&(c.alternate===null||c.alternate.memoizedState===null)&&(dp=_e()),r&4&&v0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(u=ot)||c,Jt(e,t),ot=u):Jt(e,t),un(t),r&8192){u=t.memoizedState!==null;e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=By("display",s))}catch(m){xe(t,t.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){xe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(u&&!c&&(t.mode&1)!==0)for(D=t,t=t.child;t!==null;){for(c=D=t;D!==null;){switch(u=D,h=u.child,u.tag){case 0:case 11:case 14:case 15:gs(4,u,u.return);break;case 1:if(Bo(u,u.return),i=u.stateNode,typeof i.componentWillUnmount=="function"){d=u,p=u.return;try{o=d,i.props=o.memoizedProps,i.state=o.memoizedState,i.componentWillUnmount()}catch(m){xe(d,p,m)}}break;case 5:Bo(u,u.return);break;case 22:if(u.memoizedState!==null){b0(c);continue}}h!==null?(h.return=u,D=h):b0(c)}t=t.sibling}}break;case 19:Jt(e,t),un(t),r&4&&v0(t);break;case 21:break;default:Jt(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fw(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ns(o,""),r.flags&=-33);var i=g0(t);Ah(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=g0(t);Rh(t,a,s);break;default:throw Error(N(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x5(t,e,n){D=t,gw(t)}function gw(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var o=D,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||nl;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||ot;a=nl;var c=ot;if(nl=s,(ot=l)&&!c)for(D=o;D!==null;)s=D,l=s.child,s.tag===22&&s.memoizedState!==null?w0(o):l!==null?(l.return=s,D=l):w0(o);for(;i!==null;)D=i,gw(i),i=i.sibling;D=o,nl=a,ot=c}y0(t)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,D=i):y0(t)}}function y0(t){for(;D!==null;){var e=D;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:ot||Qc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Zt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xg(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(N(163))}ot||e.flags&512&&Nh(e)}catch(d){xe(e,e.return,d)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function b0(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function w0(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qc(4,e)}catch(l){xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){xe(e,o,l)}}var i=e.return;try{Nh(e)}catch(l){xe(e,i,l)}break;case 5:var s=e.return;try{Nh(e)}catch(l){xe(e,s,l)}}}catch(l){xe(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var k5=Math.ceil,lc=jn.ReactCurrentDispatcher,cp=jn.ReactCurrentOwner,Wt=jn.ReactCurrentBatchConfig,Z=0,Le=null,Ie=null,Qe=0,Pt=0,Vo=Ir(0),Oe=0,Hs=null,no=0,Xc=0,up=0,vs=null,Et=null,dp=0,ci=1/0,kn=null,cc=!1,Ph=null,hr=null,rl=!1,ar=null,uc=0,ys=0,Dh=null,Al=-1,Pl=0;function mt(){return(Z&6)!==0?_e():Al!==-1?Al:Al=_e()}function fr(t){return(t.mode&1)===0?1:(Z&2)!==0&&Qe!==0?Qe&-Qe:s5.transition!==null?(Pl===0&&(Pl=tb()),Pl):(t=ie,t!==0||(t=window.event,t=t===void 0?16:lb(t.type)),t)}function Kt(t,e,n){if(50<ys)throw ys=0,Dh=null,Error(N(185));var r=Yc(t,e);return r===null?null:(sa(r,e,n),((Z&2)===0||r!==Le)&&(r===Le&&((Z&2)===0&&(Xc|=e),Oe===4&&Zn(r,Qe)),Rt(r,n),e===1&&Z===0&&(t.mode&1)===0&&(ci=_e()+500,Kc&&Nr())),r)}function Yc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function vw(t){return(Le!==null||nn!==null)&&(t.mode&1)!==0&&(Z&2)===0}function Rt(t,e){var n=t.callbackNode;sS(t,e);var r=ql(t,t===Le?Qe:0);if(r===0)n!==null&&Cg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cg(n),e===1)t.tag===0?i5(x0.bind(null,t)):Tb(x0.bind(null,t)),t5(function(){Z===0&&Nr()}),n=null;else{switch(nb(r)){case 1:n=Uf;break;case 4:n=Zy;break;case 16:n=Kl;break;case 536870912:n=eb;break;default:n=Kl}n=Sw(n,yw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yw(t,e){if(Al=-1,Pl=0,(Z&6)!==0)throw Error(N(327));var n=t.callbackNode;if(Jo()&&t.callbackNode!==n)return null;var r=ql(t,t===Le?Qe:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=dc(t,r);else{e=r;var o=Z;Z|=2;var i=ww();(Le!==t||Qe!==e)&&(kn=null,ci=_e()+500,qr(t,e));do try{S5();break}catch(a){bw(t,a)}while(1);Gf(),lc.current=i,Z=o,Ie!==null?e=0:(Le=null,Qe=0,e=Oe)}if(e!==0){if(e===2&&(o=ah(t),o!==0&&(r=o,e=Oh(t,o))),e===1)throw n=Hs,qr(t,0),Zn(t,r),Rt(t,_e()),n;if(e===6)Zn(t,r);else{if(o=t.current.alternate,(r&30)===0&&!E5(o)&&(e=dc(t,r),e===2&&(i=ah(t),i!==0&&(r=i,e=Oh(t,i))),e===1))throw n=Hs,qr(t,0),Zn(t,r),Rt(t,_e()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:$r(t,Et,kn);break;case 3:if(Zn(t,r),(r&130023424)===r&&(e=dp+500-_e(),10<e)){if(ql(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){mt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=mh($r.bind(null,t,Et,kn),e);break}$r(t,Et,kn);break;case 4:if(Zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-rn(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k5(r/1960))-r,10<r){t.timeoutHandle=mh($r.bind(null,t,Et,kn),r);break}$r(t,Et,kn);break;case 5:$r(t,Et,kn);break;default:throw Error(N(329))}}}return Rt(t,_e()),t.callbackNode===n?yw.bind(null,t):null}function Oh(t,e){var n=vs;return t.current.memoizedState.isDehydrated&&(qr(t,e).flags|=256),t=dc(t,e),t!==2&&(e=Et,Et=n,e!==null&&Lh(e)),t}function Lh(t){Et===null?Et=t:Et.push.apply(Et,t)}function E5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!on(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zn(t,e){for(e&=~up,e&=~Xc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rn(e),r=1<<n;t[n]=-1,e&=~r}}function x0(t){if((Z&6)!==0)throw Error(N(327));Jo();var e=ql(t,0);if((e&1)===0)return Rt(t,_e()),null;var n=dc(t,e);if(t.tag!==0&&n===2){var r=ah(t);r!==0&&(e=r,n=Oh(t,r))}if(n===1)throw n=Hs,qr(t,0),Zn(t,e),Rt(t,_e()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$r(t,Et,kn),Rt(t,_e()),null}function hp(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(ci=_e()+500,Kc&&Nr())}}function ro(t){ar!==null&&ar.tag===0&&(Z&6)===0&&Jo();var e=Z;Z|=1;var n=Wt.transition,r=ie;try{if(Wt.transition=null,ie=1,t)return t()}finally{ie=r,Wt.transition=n,Z=e,(Z&6)===0&&Nr()}}function fp(){Pt=Vo.current,me(Vo)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e5(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Jf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:li(),me(It),me(at),np();break;case 5:tp(r);break;case 4:li();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Qf(r.type._context);break;case 22:case 23:fp()}n=n.return}if(Le=t,Ie=t=wr(t.current,null),Qe=Pt=e,Oe=0,Hs=null,up=Xc=no=0,Et=vs=null,nn!==null){for(e=0;e<nn.length;e++)if(n=nn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}nn=null}return t}function bw(t,e){do{var n=Ie;try{if(Gf(),Nl.current=ac,sc){for(var r=be.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}sc=!1}if(to=0,je=De=be=null,ms=!1,js=0,cp.current=null,n===null||n.return===null){Oe=1,Hs=e,Ie=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if((u.mode&1)===0&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=i0(s);if(p!==null){p.flags&=-257,s0(p,s,a,i,e),p.mode&1&&o0(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if((e&1)===0){o0(i,c,e),pp();break e}l=Error(N(426))}}else if(ge&&a.mode&1){var x=i0(s);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),s0(x,s,a,i,e),Zf(l);break e}}i=l,Oe!==4&&(Oe=2),vs===null?vs=[i]:vs.push(i),l=lp(l,a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=tw(a,l,e);Qg(a,y);break e;case 1:i=l;var g=a.type,b=a.stateNode;if((a.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hr===null||!hr.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=nw(a,i,e);Qg(a,k);break e}}a=a.return}while(a!==null)}kw(n)}catch(C){e=C,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(1)}function ww(){var t=lc.current;return lc.current=ac,t===null?ac:t}function pp(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Le===null||(no&268435455)===0&&(Xc&268435455)===0||Zn(Le,Qe)}function dc(t,e){var n=Z;Z|=2;var r=ww();(Le!==t||Qe!==e)&&(kn=null,qr(t,e));do try{_5();break}catch(o){bw(t,o)}while(1);if(Gf(),Z=n,lc.current=r,Ie!==null)throw Error(N(261));return Le=null,Qe=0,Oe}function _5(){for(;Ie!==null;)xw(Ie)}function S5(){for(;Ie!==null&&!Y_();)xw(Ie)}function xw(t){var e=_w(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?kw(t):Ie=e,cp.current=null}function kw(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=m5(n,e,Pt),n!==null){Ie=n;return}}else{if(n=y5(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ie=null;return}}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Oe===0&&(Oe=5)}function $r(t,e,n){var r=ie,o=Wt.transition;try{Wt.transition=null,ie=1,C5(t,e,n,r)}finally{Wt.transition=o,ie=r}return null}function C5(t,e,n,r){do Jo();while(ar!==null);if((Z&6)!==0)throw Error(N(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(aS(t,i),t===Le&&(Ie=Le=null,Qe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||rl||(rl=!0,Sw(Kl,function(){return Jo(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=Wt.transition,Wt.transition=null;var s=ie;ie=1;var a=Z;Z|=4,cp.current=null,w5(t,n),mw(n,t),qS(fh),Gl=!!hh,fh=hh=null,t.current=n,x5(n),J_(),Z=a,ie=s,Wt.transition=i}else t.current=n;if(rl&&(rl=!1,ar=t,uc=o),i=t.pendingLanes,i===0&&(hr=null),tS(n.stateNode),Rt(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(cc)throw cc=!1,t=Ph,Ph=null,t;return(uc&1)!==0&&t.tag!==0&&Jo(),i=t.pendingLanes,(i&1)!==0?t===Dh?ys++:(ys=0,Dh=t):ys=0,Nr(),null}function Jo(){if(ar!==null){var t=nb(uc),e=Wt.transition,n=ie;try{if(Wt.transition=null,ie=16>t?16:t,ar===null)var r=!1;else{if(t=ar,ar=null,uc=0,(Z&6)!==0)throw Error(N(331));var o=Z;for(Z|=4,D=t.current;D!==null;){var i=D,s=i.child;if((D.flags&16)!==0){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:gs(8,u,i)}var h=u.child;if(h!==null)h.return=u,D=h;else for(;D!==null;){u=D;var d=u.sibling,p=u.return;if(hw(u),u===c){D=null;break}if(d!==null){d.return=p,D=d;break}D=p}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}D=i}}if((i.subtreeFlags&2064)!==0&&s!==null)s.return=i,D=s;else e:for(;D!==null;){if(i=D,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:gs(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var g=t.current;for(D=g;D!==null;){s=D;var b=s.child;if((s.subtreeFlags&2064)!==0&&b!==null)b.return=s,D=b;else e:for(s=g;D!==null;){if(a=D,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Qc(9,a)}}catch(C){xe(a,a.return,C)}if(a===s){D=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,D=k;break e}D=a.return}}if(Z=o,Nr(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(jc,t)}catch{}r=!0}return r}finally{ie=n,Wt.transition=e}}return!1}function k0(t,e,n){e=lp(n,e),e=tw(t,e,1),dr(t,e),e=mt(),t=Yc(t,1),t!==null&&(sa(t,1,e),Rt(t,e))}function xe(t,e,n){if(t.tag===3)k0(t,t,n);else for(;e!==null;){if(e.tag===3){k0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){t=lp(n,t),t=nw(e,t,1),dr(e,t),t=mt(),e=Yc(e,1),e!==null&&(sa(e,1,t),Rt(e,t));break}}e=e.return}}function T5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Qe&n)===n&&(Oe===4||Oe===3&&(Qe&130023424)===Qe&&500>_e()-dp?qr(t,0):up|=n),Rt(t,e)}function Ew(t,e){e===0&&((t.mode&1)===0?e=1:(e=Ka,Ka<<=1,(Ka&130023424)===0&&(Ka=4194304)));var n=mt();t=Yc(t,e),t!==null&&(sa(t,e,n),Rt(t,n))}function I5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ew(t,n)}function N5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Ew(t,n)}var _w;_w=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)Tt=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Tt=!1,v5(t,e,n);Tt=(t.flags&131072)!==0}else Tt=!1,ge&&(e.flags&1048576)!==0&&Ab(e,oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var o=ii(e,at.current);Yo(e,n),o=op(null,e,r,t,o,n);var i=ip();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(r)?(i=!0,Zl(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Xf(e),o.updater=qc,e.stateNode=o,o._reactInternals=e,wh(e,r,t,n),e=Ch(null,e,r,!0,i,n)):(e.tag=0,ge&&i&&Yf(e),ut(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=A5(r),t=Zt(r,t),o){case 0:e=Sh(null,e,r,t,n);break e;case 1:e=c0(null,e,r,t,n);break e;case 11:e=a0(null,e,r,t,n);break e;case 14:e=l0(null,e,r,Zt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zt(r,o),Sh(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zt(r,o),c0(t,e,r,o,n);case 3:e:{if(cw(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Ib(t,e),nc(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Error(N(423)),e=u0(t,e,r,n,o);break e}else if(r!==o){o=Error(N(424)),e=u0(t,e,r,n,o);break e}else for(_t=_n(e.stateNode.containerInfo.firstChild),Ot=e,ge=!0,tn=null,n=Ob(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(si(),r===o){e=$n(t,e,n);break e}ut(t,e,r,n)}e=e.child}return e;case 5:return Lb(e),t===null&&kh(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,ph(r,o)?s=null:i!==null&&ph(r,i)&&(e.flags|=32),lw(t,e),ut(t,e,s,n),e.child;case 6:return t===null&&kh(e),null;case 13:return uw(t,e,n);case 4:return ep(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ai(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zt(r,o),a0(t,e,r,o,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ce(ec,r._currentValue),r._currentValue=s,i!==null)if(on(i.value,s)){if(i.children===o.children&&!It.current){e=$n(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Rn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),yh(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ut(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Yo(e,n),o=Gt(o),r=r(o),e.flags|=1,ut(t,e,r,n),e.child;case 14:return r=e.type,o=Zt(r,e.pendingProps),o=Zt(r.type,o),l0(t,e,r,o,n);case 15:return sw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zt(r,o),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Nt(r)?(t=!0,Zl(e)):t=!1,Yo(e,n),Rb(e,r,o),wh(e,r,o,n),Ch(null,e,r,!0,t,n);case 19:return dw(t,e,n);case 22:return aw(t,e,n)}throw Error(N(156,e.tag))};function Sw(t,e){return Jy(t,e)}function R5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new R5(t,e,n,r)}function mp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A5(t){if(typeof t=="function")return mp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lf)return 11;if(t===$f)return 14}return 2}function wr(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dl(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")mp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Do:return Gr(n.children,o,i,e);case Of:s=8,o|=8;break;case Kd:return t=Ht(12,n,e,o|2),t.elementType=Kd,t.lanes=i,t;case qd:return t=Ht(13,n,e,o),t.elementType=qd,t.lanes=i,t;case Gd:return t=Ht(19,n,e,o),t.elementType=Gd,t.lanes=i,t;case Ly:return hc(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dy:s=10;break e;case Oy:s=9;break e;case Lf:s=11;break e;case $f:s=14;break e;case Qn:s=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Ht(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Gr(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function hc(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=Ly,t.lanes=n,t.stateNode={},t}function pd(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function md(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function P5(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xu(0),this.expirationTimes=Xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function gp(t,e,n,r,o,i,s,a,l){return t=new P5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ht(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(i),t}function D5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cw(t){if(!t)return br;t=t._reactInternals;e:{if(go(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Nt(n))return Cb(t,n,e)}return e}function Tw(t,e,n,r,o,i,s,a,l){return t=gp(n,r,!0,t,o,i,s,a,l),t.context=Cw(null),n=t.current,r=mt(),o=fr(n),i=Rn(r,o),i.callback=e!=null?e:null,dr(n,i),t.current.lanes=o,sa(t,o,r),Rt(t,r),t}function Jc(t,e,n,r){var o=e.current,i=mt(),s=fr(o);return n=Cw(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),dr(o,e),t=Kt(o,s,i),t!==null&&Il(t,o,s),s}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function E0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vp(t,e){E0(t,e),(t=t.alternate)&&E0(t,e)}function O5(){return null}var Iw=typeof reportError=="function"?reportError:function(t){console.error(t)};function yp(t){this._internalRoot=t}Zc.prototype.render=yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Jc(t,e,null,null)};Zc.prototype.unmount=yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Jc(null,t,null,null)}),e[Ln]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ib();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jn.length&&e!==0&&e<Jn[n].priority;n++);Jn.splice(n,0,t),n===0&&ab(t)}};function bp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _0(){}function L5(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=fc(s);i.call(c)}}var s=Tw(e,r,t,0,null,!1,!1,"",_0);return t._reactRootContainer=s,t[Ln]=s.current,$s(t.nodeType===8?t.parentNode:t),ro(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=fc(l);a.call(c)}}var l=gp(t,0,!1,null,null,!1,!1,"",_0);return t._reactRootContainer=l,t[Ln]=l.current,$s(t.nodeType===8?t.parentNode:t),ro(function(){Jc(e,l,n,r)}),l}function tu(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=fc(s);a.call(l)}}Jc(e,s,t,o)}else s=L5(n,e,t,o,r);return fc(s)}rb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ns(e.pendingLanes);n!==0&&(Ff(e,n|1),Rt(e,_e()),(Z&6)===0&&(ci=_e()+500,Nr()))}break;case 13:var r=mt();ro(function(){return Kt(t,1,r)}),vp(t,1)}};zf=function(t){if(t.tag===13){var e=mt();Kt(t,134217728,e),vp(t,134217728)}};ob=function(t){if(t.tag===13){var e=mt(),n=fr(t);Kt(t,n,e),vp(t,n)}};ib=function(){return ie};sb=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};oh=function(t,e,n){switch(e){case"input":if(Yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Wc(r);if(!o)throw Error(N(90));My(r),Yd(r,o)}}}break;case"textarea":Fy(t,n);break;case"select":e=n.value,e!=null&&qo(t,!!n.multiple,e,!1)}};Ky=hp;qy=ro;var $5={usingClientEntryPoint:!1,Events:[la,Mo,Wc,Hy,Wy,hp]},Xi={findFiberByHostInstance:jr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},M5={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xy(t),t===null?null:t.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||O5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{jc=ol.inject(M5),mn=ol}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$5;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(e))throw Error(N(200));return D5(t,e,null,n)};Ut.createRoot=function(t,e){if(!bp(t))throw Error(N(299));var n=!1,r="",o=Iw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=gp(t,1,!1,null,null,n,!1,r,o),t[Ln]=e.current,$s(t.nodeType===8?t.parentNode:t),new yp(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Xy(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return ro(t)};Ut.hydrate=function(t,e,n){if(!eu(e))throw Error(N(200));return tu(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!bp(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Iw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Tw(e,null,t,1,n!=null?n:null,o,!1,i,s),t[Ln]=e.current,$s(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Zc(e)};Ut.render=function(t,e,n){if(!eu(e))throw Error(N(200));return tu(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!eu(t))throw Error(N(40));return t._reactRootContainer?(ro(function(){tu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};Ut.unstable_batchedUpdates=hp;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eu(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return tu(t,e,n,!1,r)};Ut.version="18.1.0-next-22edb9f77-20220426";function Nw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nw)}catch(t){console.error(t)}}Nw(),Rf.exports=Ut;var bs=Rf.exports,S0=Rf.exports;Hd.createRoot=S0.createRoot,Hd.hydrateRoot=S0.hydrateRoot;function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}var Vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vr||(Vr={}));var C0=function(t){return t},T0="beforeunload",U5="popstate";function F5(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,S=E.pathname,F=E.search,z=E.hash,se=o.state||{};return[se.idx,C0({pathname:S,search:F,hash:z,state:se.usr||null,key:se.key||"default"})]}var s=null;function a(){if(s)p.call(s),s=null;else{var E=Vr.Pop,S=i(),F=S[0],z=S[1];if(p.length){if(F!=null){var se=u-F;se&&(s={action:E,location:z,retry:function(){C(se*-1)}},C(se))}}else g(E)}}r.addEventListener(U5,a);var l=Vr.Pop,c=i(),u=c[0],h=c[1],d=N0(),p=N0();u==null&&(u=0,o.replaceState(Ws({},o.state,{idx:u}),""));function m(E){return typeof E=="string"?E:$h(E)}function w(E,S){return S===void 0&&(S=null),C0(Ws({pathname:h.pathname,hash:"",search:""},typeof E=="string"?vo(E):E,{state:S,key:z5()}))}function x(E,S){return[{usr:E.state,key:E.key,idx:S},m(E)]}function y(E,S,F){return!p.length||(p.call({action:E,location:S,retry:F}),!1)}function g(E){l=E;var S=i();u=S[0],h=S[1],d.call({action:l,location:h})}function b(E,S){var F=Vr.Push,z=w(E,S);function se(){b(E,S)}if(y(F,z,se)){var He=x(z,u+1),bt=He[0],wt=He[1];try{o.pushState(bt,"",wt)}catch{r.location.assign(wt)}g(F)}}function k(E,S){var F=Vr.Replace,z=w(E,S);function se(){k(E,S)}if(y(F,z,se)){var He=x(z,u),bt=He[0],wt=He[1];o.replaceState(bt,"",wt),g(F)}}function C(E){o.go(E)}var A={get action(){return l},get location(){return h},createHref:m,push:b,replace:k,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(S){return d.push(S)},block:function(S){var F=p.push(S);return p.length===1&&r.addEventListener(T0,I0),function(){F(),p.length||r.removeEventListener(T0,I0)}}};return A}function I0(t){t.preventDefault(),t.returnValue=""}function N0(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function z5(){return Math.random().toString(36).substr(2,8)}function $h(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,o=r===void 0?"":r,i=t.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function vo(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wp=v.exports.createContext(null),xp=v.exports.createContext(null),nu=v.exports.createContext({outlet:null,matches:[]});function sn(t,e){if(!t)throw new Error(e)}function j5(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vo(e):e,o=Pw(r.pathname||"/",n);if(o==null)return null;let i=Rw(t);B5(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=Y5(i[a],o);return s}function Rw(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((o,i)=>{let s={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||sn(!1),s.relativePath=s.relativePath.slice(r.length));let a=pr([r,s.relativePath]),l=n.concat(s);o.children&&o.children.length>0&&(o.index===!0&&sn(!1),Rw(o.children,e,l,a)),!(o.path==null&&!o.index)&&e.push({path:a,score:Q5(a,o.index),routesMeta:l})}),e}function B5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V5=/^:\w+$/,H5=3,W5=2,K5=1,q5=10,G5=-2,R0=t=>t==="*";function Q5(t,e){let n=t.split("/"),r=n.length;return n.some(R0)&&(r+=G5),e&&(r+=W5),n.filter(o=>!R0(o)).reduce((o,i)=>o+(V5.test(i)?H5:i===""?K5:q5),r)}function X5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function Y5(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",u=J5({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:pr([o,u.pathname]),pathnameBase:Dw(pr([o,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(o=pr([o,u.pathnameBase]))}return i}function J5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Z5(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";s=i.slice(0,i.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=eC(a[h]||""),c},{}),pathname:i,pathnameBase:s,pattern:t}}function Z5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,e?void 0:"i"),r]}function eC(t,e){try{return decodeURIComponent(t)}catch{return t}}function tC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?vo(t):t;return{pathname:n?n.startsWith("/")?n:nC(n,e):e,search:oC(r),hash:iC(o)}}function nC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Aw(t,e,n){let r=typeof t=="string"?vo(t):t,o=t===""||r.pathname===""?"/":r.pathname,i;if(o==null)i=n;else{let a=e.length-1;if(o.startsWith("..")){let l=o.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}i=a>=0?e[a]:"/"}let s=tC(r,i);return o&&o!=="/"&&o.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function rC(t){return t===""||t.pathname===""?"/":typeof t=="string"?vo(t).pathname:t.pathname}function Pw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),Dw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sC(t){Si()||sn(!1);let{basename:e,navigator:n}=v.exports.useContext(wp),{hash:r,pathname:o,search:i}=Ow(t),s=o;if(e!=="/"){let a=rC(t),l=a!=null&&a.endsWith("/");s=o==="/"?e+(l?"/":""):pr([e,o])}return n.createHref({pathname:s,search:i,hash:r})}function Si(){return v.exports.useContext(xp)!=null}function Ci(){return Si()||sn(!1),v.exports.useContext(xp).location}function yo(){Si()||sn(!1);let{basename:t,navigator:e}=v.exports.useContext(wp),{matches:n}=v.exports.useContext(nu),{pathname:r}=Ci(),o=JSON.stringify(n.map(a=>a.pathnameBase)),i=v.exports.useRef(!1);return v.exports.useEffect(()=>{i.current=!0}),v.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!i.current)return;if(typeof a=="number"){e.go(a);return}let c=Aw(a,JSON.parse(o),r);t!=="/"&&(c.pathname=pr([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state)},[t,e,o,r])}function Ow(t){let{matches:e}=v.exports.useContext(nu),{pathname:n}=Ci(),r=JSON.stringify(e.map(o=>o.pathnameBase));return v.exports.useMemo(()=>Aw(t,JSON.parse(r),n),[t,r,n])}function aC(t,e){Si()||sn(!1);let{matches:n}=v.exports.useContext(nu),r=n[n.length-1],o=r?r.params:{};r&&r.pathname;let i=r?r.pathnameBase:"/";r&&r.route;let s=Ci(),a;if(e){var l;let d=typeof e=="string"?vo(e):e;i==="/"||((l=d.pathname)==null?void 0:l.startsWith(i))||sn(!1),a=d}else a=s;let c=a.pathname||"/",u=i==="/"?c:c.slice(i.length)||"/",h=j5(t,{pathname:u});return lC(h&&h.map(d=>Object.assign({},d,{params:Object.assign({},o,d.params),pathname:pr([i,d.pathname]),pathnameBase:d.pathnameBase==="/"?i:pr([i,d.pathnameBase])})),n)}function lC(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,o)=>v.exports.createElement(nu.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,o+1))}}),null)}function cC(t){let{to:e,replace:n,state:r}=t;Si()||sn(!1);let o=yo();return v.exports.useEffect(()=>{o(e,{replace:n,state:r})}),null}function Gn(t){sn(!1)}function uC(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Vr.Pop,navigator:i,static:s=!1}=t;Si()&&sn(!1);let a=Dw(e),l=v.exports.useMemo(()=>({basename:a,navigator:i,static:s}),[a,i,s]);typeof r=="string"&&(r=vo(r));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:p="default"}=r,m=v.exports.useMemo(()=>{let w=Pw(c,a);return w==null?null:{pathname:w,search:u,hash:h,state:d,key:p}},[a,c,u,h,d,p]);return m==null?null:v.exports.createElement(wp.Provider,{value:l},v.exports.createElement(xp.Provider,{children:n,value:{location:m,navigationType:o}}))}function dC(t){let{children:e,location:n}=t;return aC(Mh(e),n)}function Mh(t){let e=[];return v.exports.Children.forEach(t,n=>{if(!v.exports.isValidElement(n))return;if(n.type===v.exports.Fragment){e.push.apply(e,Mh(n.props.children));return}n.type!==Gn&&sn(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=Mh(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}function hC(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}const fC=["onClick","reloadDocument","replace","state","target","to"];function pC(t){let{basename:e,children:n,window:r}=t,o=v.exports.useRef();o.current==null&&(o.current=F5({window:r}));let i=o.current,[s,a]=v.exports.useState({action:i.action,location:i.location});return v.exports.useLayoutEffect(()=>i.listen(a),[i]),v.exports.createElement(uC,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:i})}function mC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const kp=v.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:o,replace:i=!1,state:s,target:a,to:l}=e,c=hC(e,fC),u=sC(l),h=gC(l,{replace:i,state:s,target:a});function d(p){r&&r(p),!p.defaultPrevented&&!o&&h(p)}return v.exports.createElement("a",Uh({},c,{href:u,onClick:d,ref:n,target:a}))});function gC(t,e){let{target:n,replace:r,state:o}=e===void 0?{}:e,i=yo(),s=Ci(),a=Ow(t);return v.exports.useCallback(l=>{if(l.button===0&&(!n||n==="_self")&&!mC(l)){l.preventDefault();let c=!!r||$h(s)===$h(a);i(t,{replace:c,state:o})}},[s,i,a,r,o,n,t])}var Lw={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(!!i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object")if(i.toString===Object.prototype.toString)for(var l in i)e.call(i,l)&&i[l]&&r.push(l);else r.push(i.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Lw);var ee=Lw.exports,ru={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC=v.exports,yC=Symbol.for("react.element"),bC=Symbol.for("react.fragment"),wC=Object.prototype.hasOwnProperty,xC=vC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kC={key:!0,ref:!0,__self:!0,__source:!0};function $w(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)wC.call(e,r)&&!kC.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:yC,type:t,key:i,ref:s,props:o,_owner:xC.current}}ou.Fragment=bC;ou.jsx=$w;ou.jsxs=$w;ru.exports=ou;const f=ru.exports.jsx,_=ru.exports.jsxs,Re=ru.exports.Fragment,EC=["xxl","xl","lg","md","sm","xs"],Ep=v.exports.createContext({prefixes:{},breakpoints:EC});function he(t,e){const{prefixes:n}=v.exports.useContext(Ep);return t||n[e]||e}function Mw(){const{breakpoints:t}=v.exports.useContext(Ep);return t}function _C(){const{dir:t}=v.exports.useContext(Ep);return t==="rtl"}const mr=v.exports.forwardRef((i,o)=>{var s=i,{bsPrefix:t,className:e,as:n="div"}=s,r=Q(s,["bsPrefix","className","as"]);const a=he(t,"row"),l=Mw(),c=`${a}-cols`,u=[];return l.forEach(h=>{const d=r[h];delete r[h];let p;d!=null&&typeof d=="object"?{cols:p}=d:p=d;const m=h!=="xs"?`-${h}`:"";p!=null&&u.push(`${c}${m}-${p}`)}),f(n,B(L({ref:o},r),{className:ee(e,a,...u)}))});mr.displayName="Row";function SC(o){var i=o,{as:t,bsPrefix:e,className:n}=i,r=Q(i,["as","bsPrefix","className"]);e=he(e,"col");const s=Mw(),a=[],l=[];return s.forEach(c=>{const u=r[c];delete r[c];let h,d,p;typeof u=="object"&&u!=null?{span:h,offset:d,order:p}=u:h=u;const m=c!=="xs"?`-${c}`:"";h&&a.push(h===!0?`${e}${m}`:`${e}${m}-${h}`),p!=null&&l.push(`order${m}-${p}`),d!=null&&l.push(`offset${m}-${d}`)}),[B(L({},r),{className:ee(n,...a,...l)}),{as:t,bsPrefix:e,spans:a}]}const St=v.exports.forwardRef((t,e)=>{const[a,...l]=SC(t),c=a,{className:n}=c,r=Q(c,["className"]),[{as:o="div",bsPrefix:i,spans:s}]=l;return f(o,B(L({},r),{ref:e,className:ee(n,!s.length&&i)}))});St.displayName="Col";const CC={fluid:!1},ua=v.exports.forwardRef((s,i)=>{var a=s,{bsPrefix:t,fluid:e,as:n="div",className:r}=a,o=Q(a,["bsPrefix","fluid","as","className"]);const l=he(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return f(n,B(L({ref:i},o),{className:ee(r,e?`${l}${c}`:l)}))});ua.displayName="Container";ua.defaultProps=CC;const TC=["as","disabled"];function IC(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function NC(t){return!t||t.trim()==="#"}function _p({tagName:t,disabled:e,href:n,target:r,rel:o,onClick:i,tabIndex:s=0,type:a}){t||(n!=null||r!=null||o!=null?t="a":t="button");const l={tagName:t};if(t==="button")return[{type:a||"button",disabled:e},l];const c=h=>{if((e||t==="a"&&NC(n))&&h.preventDefault(),e){h.stopPropagation();return}i==null||i(h)},u=h=>{h.key===" "&&(h.preventDefault(),c(h))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:"button",disabled:void 0,tabIndex:e?void 0:s,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?o:void 0,onClick:c,onKeyDown:u},l]}const Uw=v.exports.forwardRef((t,e)=>{let{as:n,disabled:r}=t,o=IC(t,TC);const[i,{tagName:s}]=_p(Object.assign({tagName:n,disabled:r},o));return f(s,Object.assign({},o,i,{ref:e}))});Uw.displayName="Button";const RC={variant:"primary",active:!1,disabled:!1},ue=v.exports.forwardRef((l,a)=>{var c=l,{as:t,bsPrefix:e,variant:n,size:r,active:o,className:i}=c,s=Q(c,["as","bsPrefix","variant","size","active","className"]);const u=he(e,"btn"),[h,{tagName:d}]=_p(L({tagName:t},s));return f(d,B(L(L({},h),s),{ref:a,className:ee(i,u,o&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,s.href&&s.disabled&&"disabled")}))});ue.displayName="Button";ue.defaultProps=RC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(d=64)),r.push(n[u],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const h=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||h==null)throw Error();const d=i<<2|a>>4;if(r.push(d),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},PC=function(t){const e=Fw(t);return zw.encodeByteArray(e,!0)},jw=function(t){return PC(t).replace(/\./g,"")},DC=function(t){try{return zw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bw(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Vw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LC(){return Be().indexOf("Electron/")>=0}function Ww(){const t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $C(){return Be().indexOf("MSAppHost/")>=0}function MC(){return typeof indexedDB=="object"}function UC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FC,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?zC(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new Rr(o,a,r)}}function zC(t,e){return t.replace(jC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const jC=/\{\$([^}]+)}/g;function BC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(A0(i)&&A0(s)){if(!pc(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function os(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,i]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(i)}}),e}function is(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VC(t,e){const n=new HC(t,e);return n.subscribe.bind(n)}class HC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=gd),o.error===void 0&&(o.error=gd),o.complete===void 0&&(o.complete=gd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GC(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qC(t){return t===Mr?void 0:t}function GC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const XC={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},YC=te.INFO,JC={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},ZC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=JC[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=YC,this._logHandler=ZC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const e3=(t,e)=>e.some(n=>t instanceof n);let P0,D0;function t3(){return P0||(P0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n3(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kw=new WeakMap,Fh=new WeakMap,qw=new WeakMap,vd=new WeakMap,Cp=new WeakMap;function r3(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(gr(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Kw.set(n,t)}).catch(()=>{}),Cp.set(e,t),e}function o3(t){if(Fh.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Fh.set(t,e)}let zh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i3(t){zh=t(zh)}function s3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yd(this),e,...n);return qw.set(r,e.sort?e.sort():[e]),gr(r)}:n3().includes(t)?function(...e){return t.apply(yd(this),e),gr(Kw.get(this))}:function(...e){return gr(t.apply(yd(this),e))}}function a3(t){return typeof t=="function"?s3(t):(t instanceof IDBTransaction&&o3(t),e3(t,t3())?new Proxy(t,zh):t)}function gr(t){if(t instanceof IDBRequest)return r3(t);if(vd.has(t))return vd.get(t);const e=a3(t);return e!==t&&(vd.set(t,e),Cp.set(e,t)),e}const yd=t=>Cp.get(t);function l3(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=gr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(gr(s.result),l.oldVersion,l.newVersion,gr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",()=>o())}).catch(()=>{}),a}const c3=["get","getKey","getAll","getAllKeys","count"],u3=["put","add","delete","clear"],bd=new Map;function O0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=u3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||c3.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return bd.set(e,i),i}i3(t=>B(L({},t),{get:(e,n,r)=>O0(e,n)||t.get(e,n,r),has:(e,n)=>!!O0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jh="@firebase/app",L0="0.7.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Sp("@firebase/app"),f3="@firebase/app-compat",p3="@firebase/analytics-compat",m3="@firebase/analytics",g3="@firebase/app-check-compat",v3="@firebase/app-check",y3="@firebase/auth",b3="@firebase/auth-compat",w3="@firebase/database",x3="@firebase/database-compat",k3="@firebase/functions",E3="@firebase/functions-compat",_3="@firebase/installations",S3="@firebase/installations-compat",C3="@firebase/messaging",T3="@firebase/messaging-compat",I3="@firebase/performance",N3="@firebase/performance-compat",R3="@firebase/remote-config",A3="@firebase/remote-config-compat",P3="@firebase/storage",D3="@firebase/storage-compat",O3="@firebase/firestore",L3="@firebase/firestore-compat",$3="firebase",M3="9.8.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="[DEFAULT]",U3={[jh]:"fire-core",[f3]:"fire-core-compat",[m3]:"fire-analytics",[p3]:"fire-analytics-compat",[v3]:"fire-app-check",[g3]:"fire-app-check-compat",[y3]:"fire-auth",[b3]:"fire-auth-compat",[w3]:"fire-rtdb",[x3]:"fire-rtdb-compat",[k3]:"fire-fn",[E3]:"fire-fn-compat",[_3]:"fire-iid",[S3]:"fire-iid-compat",[C3]:"fire-fcm",[T3]:"fire-fcm-compat",[I3]:"fire-perf",[N3]:"fire-perf-compat",[R3]:"fire-rc",[A3]:"fire-rc-compat",[P3]:"fire-gcs",[D3]:"fire-gcs-compat",[O3]:"fire-fst",[L3]:"fire-fst-compat","fire-js":"fire-js",[$3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,Bh=new Map;function F3(t,e){try{t.container.addComponent(e)}catch(n){Tp.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(Bh.has(e))return Tp.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,t);for(const n of mc.values())F3(n,t);return!0}function iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},io=new da("app","Firebase",z3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=M3;function B3(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Gw,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw io.create("bad-app-name",{appName:String(r)});const o=mc.get(r);if(o){if(pc(t,o.options)&&pc(n,o.config))return o;throw io.create("duplicate-app",{appName:r})}const i=new QC(r);for(const a of Bh.values())i.addComponent(a);const s=new j3(t,n,i);return mc.set(r,s),s}function Ip(t=Gw){const e=mc.get(t);if(!e)throw io.create("no-app",{appName:t});return e}function vn(t,e,n){var r;let o=(r=U3[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tp.warn(a.join(" "));return}oo(new xr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="firebase-heartbeat-database",H3=1,Ks="firebase-heartbeat-store";let wd=null;function Qw(){return wd||(wd=l3(V3,H3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ks)}}}).catch(t=>{throw io.create("storage-open",{originalErrorMessage:t.message})})),wd}async function W3(t){var e;try{return(await Qw()).transaction(Ks).objectStore(Ks).get(Xw(t))}catch(n){throw io.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function $0(t,e){var n;try{const o=(await Qw()).transaction(Ks,"readwrite");return await o.objectStore(Ks).put(e,Xw(t)),o.done}catch(r){throw io.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function Xw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1024,q3=30*24*60*60*1e3;class G3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=q3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M0(),{heartbeatsToSend:n,unsentEntries:r}=Q3(this._heartbeatsCache.heartbeats),o=jw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function M0(){return new Date().toISOString().substring(0,10)}function Q3(t,e=K3){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),U0(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),U0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MC()?UC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await W3(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function U0(t){return jw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){oo(new xr("platform-logger",e=>new d3(e),"PRIVATE")),oo(new xr("heartbeat",e=>new G3(e),"PRIVATE")),vn(jh,L0,t),vn(jh,L0,"esm2017"),vn("fire-js","")}Y3("");function Np(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Yw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J3=Yw,Jw=new da("auth","Firebase",Yw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Sp("@firebase/auth");function Ol(t,...e){F0.logLevel<=te.ERROR&&F0.error(`Auth (${Ti}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw Rp(t,...e)}function yn(t,...e){return Rp(t,...e)}function Z3(t,e,n){const r=Object.assign(Object.assign({},J3()),{[e]:n});return new da("auth","Firebase",r).create(e,{appName:t.name})}function Rp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Jw.create(t,...e)}function H(t,e,...n){if(!t)throw Rp(e,...n)}function Tn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ol(e),new Error(e)}function Mn(t,e){t||Tn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function In(t){Mn(t instanceof Function,"Expected a class definition");let e=z0.get(t);return e?(Mn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z0.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e){const n=iu(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(pc(i,e!=null?e:{}))return o;an(o,"already-initialized")}return n.initialize({options:e})}function t2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(In);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function n2(){return j0()==="http:"||j0()==="https:"}function j0(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n2()||Vw()||"connection"in navigator)?navigator.onLine:!0}function o2(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mn(n>e,"Short delay should be less than long delay!"),this.isMobile=Bw()||Hw()}get(){return r2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t,e){Mn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new fa(3e4,6e4);function pa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ii(t,e,n,r,o={}){return e1(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=ha(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Zw.fetch()(t1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function e1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},i2),e);try{const o=new a2(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw il(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw il(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw il(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw il(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Z3(t,u,c);an(t,u)}}catch(o){if(o instanceof Rr)throw o;an(t,"network-request-failed")}}async function ma(t,e,n,r,o={}){const i=await Ii(t,e,n,r,o);return"mfaPendingCredential"in i&&an(t,"multi-factor-auth-required",{_serverResponse:i}),i}function t1(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?Ap(t.config,o):`${t.config.apiScheme}://${o}`}class a2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),s2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function il(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=yn(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e){return Ii(t,"POST","/v1/accounts:delete",e)}async function c2(t,e){return Ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u2(t,e=!1){const n=Se(t),r=await n.getIdToken(e),o=Pp(r);H(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:ws(xd(o.auth_time)),issuedAtTime:ws(xd(o.iat)),expirationTime:ws(xd(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xd(t){return Number(t)*1e3}function Pp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ol("JWT malformed, contained fewer than 3 sections"),null;try{const o=DC(n);return o?JSON.parse(o):(Ol("Failed to decode base64 JWT payload"),null)}catch(o){return Ol("Caught error parsing JWT payload as JSON",o),null}}function d2(t){const e=Pp(t);return H(e,"internal-error"),H(typeof e.exp!="undefined","internal-error"),H(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ui(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&h2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ws(this.lastLoginAt),this.creationTime=ws(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await ui(t,c2(n,{idToken:r}));H(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?g2(i.providerUserInfo):[],a=m2(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new n1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function p2(t){const e=Se(t);await gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m2(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function g2(t){return t.map(e=>{var{providerId:n}=e,r=Np(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(t,e){const n=await e1(t,{},async()=>{const r=ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=t1(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zw.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken!="undefined","internal-error"),H(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):d2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await v2(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new qs;return r&&(H(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(H(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(H(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qs,this.toJSON())}_performRefresh(){return Tn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){H(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Qr{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new n1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ui(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u2(this,e)}reload(){return p2(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ui(this,l2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(o=n.email)!==null&&o!==void 0?o:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:k,isAnonymous:C,providerData:A,stsTokenManager:E}=n;H(b&&E,e,"internal-error");const S=qs.fromJSON(this.name,E);H(typeof b=="string",e,"internal-error"),qn(h,e.name),qn(d,e.name),H(typeof k=="boolean",e,"internal-error"),H(typeof C=="boolean",e,"internal-error"),qn(p,e.name),qn(m,e.name),qn(w,e.name),qn(x,e.name),qn(y,e.name),qn(g,e.name);const F=new Qr({uid:b,auth:e,email:d,emailVerified:k,displayName:h,isAnonymous:C,photoURL:m,phoneNumber:p,tenantId:w,stsTokenManager:S,createdAt:y,lastLoginAt:g});return A&&Array.isArray(A)&&(F.providerData=A.map(z=>Object.assign({},z))),x&&(F._redirectEventId=x),F}static async _fromIdTokenResponse(e,n,r=!1){const o=new qs;o.updateFromServerResponse(n);const i=new Qr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await gc(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}r1.type="NONE";const B0=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,e,n){return`firebase:${t}:${e}:${n}`}class Zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=Ll(this.userKey,o.apiKey,i),this.fullPersistenceKey=Ll("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zo(In(B0),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||In(B0);const s=Ll(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const h=Qr._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Zo(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new Zo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l1(e))return"Blackberry";if(c1(e))return"Webos";if(Dp(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(a1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function o1(t=Be()){return/firefox\//i.test(t)}function Dp(t=Be()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(t=Be()){return/crios\//i.test(t)}function s1(t=Be()){return/iemobile/i.test(t)}function a1(t=Be()){return/android/i.test(t)}function l1(t=Be()){return/blackberry/i.test(t)}function c1(t=Be()){return/webos/i.test(t)}function su(t=Be()){return/iphone|ipad|ipod/i.test(t)}function y2(t=Be()){var e;return su(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function b2(){return Ww()&&document.documentMode===10}function u1(t=Be()){return su(t)||a1(t)||c1(t)||l1(t)||/windows phone/i.test(t)||s1(t)}function w2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e=[]){let n;switch(t){case"Browser":n=V0(Be());break;case"Worker":n=`${V0(Be())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ti}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const o of this.queue)await o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=o)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new x2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l==null?void 0:l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gc(e)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Se(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&In(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return H(s,this,"internal-error"),s.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function au(t){return Se(t)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tn("not implemented")}_getIdTokenResponse(e){return Tn("not implemented")}_linkToIdToken(e,n){return Tn("not implemented")}_getReauthenticationResolver(e){return Tn("not implemented")}}async function E2(t,e){return Ii(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e){return ma(t,"POST","/v1/accounts:signInWithPassword",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e){return ma(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}async function C2(t,e){return ma(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Op{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gs(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gs(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return _2(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return S2(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return E2(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return C2(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ei(t,e){return ma(t,"POST","/v1/accounts:signInWithIdp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="http://localhost";class so extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=Np(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new so(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ei(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ei(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ei(e,n)}buildRequest(){const e={requestUri:T2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ha(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N2(t){const e=os(is(t)).link,n=e?os(is(e)).deep_link_id:null,r=os(is(t)).deep_link_id;return(r?os(is(r)).link:null)||r||n||e||t}class Lp{constructor(e){var n,r,o,i,s,a;const l=os(is(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=I2((o=l.mode)!==null&&o!==void 0?o:null);H(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=N2(e);try{return new Lp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.providerId=Ni.PROVIDER_ID}static credential(e,n){return Gs._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lp.parseLink(n);return H(r,"argument-error"),Gs._fromEmailAndCode(e,r.code,r.tenantId)}}Ni.PROVIDER_ID="password";Ni.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ni.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends h1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends ga{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return so._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends ga{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends ga{constructor(){super("twitter.com")}static credential(e,n){return so._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e){return ma(t,"POST","/v1/accounts:signUp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await Qr._fromIdTokenResponse(e,r,o),s=W0(r);return new ao({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=W0(r);return new ao({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function W0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Rr{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new vc(e,n,r,o)}}function f1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(t,i,e,r):i})}async function A2(t,e,n=!1){const r=await ui(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ao._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const i=await ui(t,f1(r,o,e,t),n);H(i.idToken,r,"internal-error");const s=Pp(i.idToken);H(s,r,"internal-error");const{sub:a}=s;return H(t.uid===a,r,"user-mismatch"),ao._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&an(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(t,e,n=!1){const r="signIn",o=await f1(t,r,e),i=await ao._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}async function D2(t,e){return p1(au(t),e)}async function O2(t,e,n){const r=au(t),o=await R2(r,{returnSecureToken:!0,email:e,password:n}),i=await ao._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(i.user),i}function L2(t,e,n){return D2(Se(t),Ni.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){return Ii(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Se(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ui(r,$2(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function M2(t,e,n,r){return Se(t).onAuthStateChanged(e,n,r)}function U2(t){return Se(t).signOut()}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){const t=Be();return Dp(t)||su(t)}const z2=1e3,j2=10;class v1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=F2()&&w2(),this.fallbackToPolling=u1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);b2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,j2):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v1.type="LOCAL";const B2=v1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}y1.type="SESSION";const b1=y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new lu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await V2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=$p("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function W2(t){bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){return typeof bn().WorkerGlobalScope!="undefined"&&typeof bn().importScripts=="function"}async function K2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function G2(){return w1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",Q2=1,bc="firebaseLocalStorage",k1="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cu(t,e){return t.transaction([bc],e?"readwrite":"readonly").objectStore(bc)}function X2(){const t=indexedDB.deleteDatabase(x1);return new va(t).toPromise()}function Hh(){const t=indexedDB.open(x1,Q2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bc,{keyPath:k1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bc)?e(r):(r.close(),await X2(),e(await Hh()))})})}async function K0(t,e,n){const r=cu(t,!0).put({[k1]:e,value:n});return new va(r).toPromise()}async function Y2(t,e){const n=cu(t,!1).get(e),r=await new va(n).toPromise();return r===void 0?null:r.value}function q0(t,e){const n=cu(t,!0).delete(e);return new va(n).toPromise()}const J2=800,Z2=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lu._getInstance(G2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await K2(),!this.activeServiceWorker)return;this.sender=new H2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hh();return await K0(e,yc,"1"),await q0(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Y2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=cu(o,!1).getAll();return new va(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const eT=E1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function nT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=yn("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",tT().appendChild(r)})}function rT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new fa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t,e){return e?In(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iT(t){return p1(t.auth,new Mp(t),t.bypassAuthState)}function sT(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),P2(n,new Mp(t),t.bypassAuthState)}async function aT(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),A2(n,new Mp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iT;case"linkViaPopup":case"linkViaRedirect":return aT;case"reauthViaPopup":case"reauthViaRedirect":return sT;default:an(this.auth,"internal-error")}}resolve(e){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new fa(2e3,1e4);class Ho extends _1{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Mn(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,lT.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="pendingRedirect",$l=new Map;class uT extends _1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$l.get(this.auth._key());if(!e){try{const r=await dT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$l.set(this.auth._key(),e)}return this.bypassAuthState||$l.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dT(t,e){const n=pT(e),r=fT(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function hT(t,e){$l.set(t._key(),e)}function fT(t){return In(t._redirectPersistence)}function pT(t){return Ll(cT,t.config.apiKey,t.name)}async function mT(t,e,n=!1){const r=au(t),o=oT(r,e),s=await new uT(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=10*60*1e3;class vT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!S1(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gT&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(e))}saveEventToCache(e){this.cachedEventUids.add(G0(e)),this.lastProcessedEventTime=Date.now()}}function G0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function S1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(t,e={}){return Ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xT=/^https?/;async function kT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bT(t);for(const n of e)try{if(ET(n))return}catch{}an(t,"unauthorized-domain")}function ET(t){const e=Vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!xT.test(n))return!1;if(wT.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new fa(3e4,6e4);function Q0(){const t=bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ST(t){return new Promise((e,n)=>{var r,o,i;function s(){Q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q0(),n(yn(t,"network-request-failed"))},timeout:_T.get()})}if(!((o=(r=bn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=bn().gapi)===null||i===void 0)&&i.load)s();else{const a=rT("iframefcb");return bn()[a]=()=>{gapi.load?s():n(yn(t,"network-request-failed"))},nT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ml=null,e})}let Ml=null;function CT(t){return Ml=Ml||ST(t),Ml}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new fa(5e3,15e3),IT="__/auth/iframe",NT="emulator/auth/iframe",RT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PT(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ap(e,NT):`https://${t.config.authDomain}/${IT}`,r={apiKey:e.apiKey,appName:t.name,v:Ti},o=AT.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ha(r).slice(1)}`}async function DT(t){const e=await CT(t),n=bn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:PT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RT,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=yn(t,"network-request-failed"),a=bn().setTimeout(()=>{i(s)},TT.get());function l(){bn().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LT=500,$T=600,MT="_blank",UT="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FT(t,e,n,r=LT,o=$T){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OT),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Be().toLowerCase();n&&(a=i1(c)?MT:n),o1(c)&&(e=e||UT,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(y2(c)&&a!=="_self")return zT(e||"",a),new X0(null);const h=window.open(e||"",a,u);H(h,t,"popup-blocked");try{h.focus()}catch{}return new X0(h)}function zT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="__/auth/handler",BT="emulator/auth/handler";function Y0(t,e,n,r,o,i){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ti,eventId:o};if(e instanceof h1){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",BC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(i||{}))s[l]=c}if(e instanceof ga){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${VT(t)}?${ha(a).slice(1)}`}function VT({config:t}){return t.emulator?Ap(t,BT):`https://${t.authDomain}/${jT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class HT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=mT,this._overrideRedirectResult=hT}async _openPopup(e,n,r,o){var i;Mn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=Y0(e,n,r,Vh(),o);return FT(e,s,$p())}async _openRedirect(e,n,r,o){return await this._originValidation(e),W2(Y0(e,n,r,Vh(),o)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(Mn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DT(e),r=new vT(e);return n.register("authEvent",o=>(H(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kd,{type:kd},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[kd];s!==void 0&&n(!!s),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kT(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return u1()||Dp()||su()}}const WT=HT;var J0="@firebase/auth",Z0="0.20.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var o;e(((o=r)===null||o===void 0?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function GT(t){oo(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),{apiKey:i,authDomain:s}=r.options;return((a,l)=>{H(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),H(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const c={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(t)},u=new k2(a,l,c);return t2(u,n),u})(r,o)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new xr("auth-internal",e=>{const n=au(e.getProvider("auth").getImmediate());return(r=>new KT(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(J0,Z0,qT(t)),vn(J0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t=Ip()){const e=iu(t,"auth");return e.isInitialized()?e.getImmediate():e2(t,{popupRedirectResolver:WT,persistence:[eT,B2,b1]})}GT("Browser");var XT="firebase",YT="9.8.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(XT,YT,"app");var JT=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},O,Up=Up||{},W=JT||self;function wc(){}function Wh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ya(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ZT(t){return Object.prototype.hasOwnProperty.call(t,Ed)&&t[Ed]||(t[Ed]=++eI)}var Ed="closure_uid_"+(1e9*Math.random()>>>0),eI=0;function tI(t,e,n){return t.call.apply(t.bind,arguments)}function nI(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Xe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xe=tI:Xe=nI,Xe.apply(null,arguments)}function sl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function et(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,o,i){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[o].apply(r,s)}}function Ar(){this.s=this.s,this.o=this.o}var rI=0;Ar.prototype.s=!1;Ar.prototype.na=function(){!this.s&&(this.s=!0,this.M(),rI!=0)&&ZT(this)};Ar.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,o=typeof t=="string"?t.split(""):t;for(let i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)};function oI(t){e:{var e=QI;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function ev(t){return Array.prototype.concat.apply([],arguments)}function Fp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xc(t){return/^[\s\xa0]*$/.test(t)}var tv=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function dt(t,e){return t.indexOf(e)!=-1}function _d(t,e){return t<e?-1:t>e?1:0}var ht;e:{var nv=W.navigator;if(nv){var rv=nv.userAgent;if(rv){ht=rv;break e}}ht=""}function zp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I1(t){const e={};for(const n in t)e[n]=t[n];return e}var ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N1(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let i=0;i<ov.length;i++)n=ov[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jp(t){return jp[" "](t),t}jp[" "]=wc;function iI(t){var e=lI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var sI=dt(ht,"Opera"),di=dt(ht,"Trident")||dt(ht,"MSIE"),R1=dt(ht,"Edge"),Kh=R1||di,A1=dt(ht,"Gecko")&&!(dt(ht.toLowerCase(),"webkit")&&!dt(ht,"Edge"))&&!(dt(ht,"Trident")||dt(ht,"MSIE"))&&!dt(ht,"Edge"),aI=dt(ht.toLowerCase(),"webkit")&&!dt(ht,"Edge");function P1(){var t=W.document;return t?t.documentMode:void 0}var kc;e:{var Sd="",Cd=function(){var t=ht;if(A1)return/rv:([^\);]+)(\)|;)/.exec(t);if(R1)return/Edge\/([\d\.]+)/.exec(t);if(di)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(aI)return/WebKit\/(\S+)/.exec(t);if(sI)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Cd&&(Sd=Cd?Cd[1]:""),di){var Td=P1();if(Td!=null&&Td>parseFloat(Sd)){kc=String(Td);break e}}kc=Sd}var lI={};function cI(){return iI(function(){let t=0;const e=tv(String(kc)).split("."),n=tv("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var o=e[s]||"",i=n[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o[0].length==0&&i[0].length==0)break;t=_d(o[1].length==0?0:parseInt(o[1],10),i[1].length==0?0:parseInt(i[1],10))||_d(o[2].length==0,i[2].length==0)||_d(o[2],i[2]),o=o[3],i=i[3]}while(t==0)}return 0<=t})}var qh;if(W.document&&di){var iv=P1();qh=iv||parseInt(kc,10)||void 0}else qh=void 0;var uI=qh,dI=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{W.addEventListener("test",wc,e),W.removeEventListener("test",wc,e)}catch{}return t}();function st(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};function Qs(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(A1){e:{try{jp(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:hI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qs.Z.h.call(this)}}et(Qs,st);var hI={2:"touch",3:"pen",4:"mouse"};Qs.prototype.h=function(){Qs.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ba="closure_listenable_"+(1e6*Math.random()|0),fI=0;function pI(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=o,this.key=++fI,this.ca=this.fa=!1}function uu(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function du(t){this.src=t,this.g={},this.h=0}du.prototype.add=function(t,e,n,r,o){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var s=Qh(t,e,r,o);return-1<s?(e=t[s],n||(e.fa=!1)):(e=new pI(e,this.src,i,!!r,o),e.fa=n,t.push(e)),e};function Gh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=C1(r,e),i;(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(uu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qh(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==r)return o}return-1}var Bp="closure_lm_"+(1e6*Math.random()|0),Id={};function D1(t,e,n,r,o){if(r&&r.once)return L1(t,e,n,r,o);if(Array.isArray(e)){for(var i=0;i<e.length;i++)D1(t,e[i],n,r,o);return null}return n=Wp(n),t&&t[ba]?t.N(e,n,ya(r)?!!r.capture:!!r,o):O1(t,e,n,!1,r,o)}function O1(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=ya(o)?!!o.capture:!!o,a=Hp(t);if(a||(t[Bp]=a=new du(t)),n=a.add(e,n,r,s,i),n.proxy)return n;if(r=mI(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dI||(o=s),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(M1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mI(){function t(n){return e.call(t.src,t.listener,n)}var e=gI;return t}function L1(t,e,n,r,o){if(Array.isArray(e)){for(var i=0;i<e.length;i++)L1(t,e[i],n,r,o);return null}return n=Wp(n),t&&t[ba]?t.O(e,n,ya(r)?!!r.capture:!!r,o):O1(t,e,n,!0,r,o)}function $1(t,e,n,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)$1(t,e[i],n,r,o);else r=ya(r)?!!r.capture:!!r,n=Wp(n),t&&t[ba]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Qh(i,n,r,o),-1<n&&(uu(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qh(e,n,r,o)),(n=-1<t?e[t]:null)&&Vp(n))}function Vp(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[ba])Gh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(M1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hp(e))?(Gh(n,t),n.h==0&&(n.src=null,e[Bp]=null)):uu(t)}}}function M1(t){return t in Id?Id[t]:Id[t]="on"+t}function gI(t,e){if(t.ca)t=!0;else{e=new Qs(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Vp(t),t=n.call(r,e)}return t}function Hp(t){return t=t[Bp],t instanceof du?t:null}var Nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wp(t){return typeof t=="function"?t:(t[Nd]||(t[Nd]=function(e){return t.handleEvent(e)}),t[Nd])}function Ve(){Ar.call(this),this.i=new du(this),this.P=this,this.I=null}et(Ve,Ar);Ve.prototype[ba]=!0;Ve.prototype.removeEventListener=function(t,e,n,r){$1(this,t,e,n,r)};function Ye(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new st(e,t);else if(e instanceof st)e.target=e.target||t;else{var o=e;e=new st(r,t),N1(e,o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=e.g=n[i];o=al(s,r,!0,e)&&o}if(s=e.g=t,o=al(s,r,!0,e)&&o,o=al(s,r,!1,e)&&o,n)for(i=0;i<n.length;i++)s=e.g=n[i],o=al(s,r,!1,e)&&o}Ve.prototype.M=function(){if(Ve.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uu(n[r]);delete t.g[e],t.h--}}this.I=null};Ve.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ve.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function al(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.ca&&s.capture==n){var a=s.listener,l=s.ia||s.src;s.fa&&Gh(t.i,s),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var Kp=W.JSON.stringify;function vI(){var t=F1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class yI{constructor(){this.h=this.g=null}add(e,n){const r=U1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var U1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new bI,t=>t.reset());class bI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wI(t){W.setTimeout(()=>{throw t},0)}function qp(t,e){Xh||xI(),Yh||(Xh(),Yh=!0),F1.add(t,e)}var Xh;function xI(){var t=W.Promise.resolve(void 0);Xh=function(){t.then(kI)}}var Yh=!1,F1=new yI;function kI(){for(var t;t=vI();){try{t.h.call(t.g)}catch(n){wI(n)}var e=U1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yh=!1}function hu(t,e){Ve.call(this),this.h=t||1,this.g=e||W,this.j=Xe(this.kb,this),this.l=Date.now()}et(hu,Ve);O=hu.prototype;O.da=!1;O.S=null;O.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ye(this,"tick"),this.da&&(Gp(this),this.start()))}};O.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gp(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}O.M=function(){hu.Z.M.call(this),Gp(this),delete this.g};function Qp(t,e,n){if(typeof t=="function")n&&(t=Xe(t,n));else if(t&&typeof t.handleEvent=="function")t=Xe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function z1(t){t.g=Qp(()=>{t.g=null,t.i&&(t.i=!1,z1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class EI extends Ar{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:z1(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(t){Ar.call(this),this.h=t,this.g={}}et(Xs,Ar);var sv=[];function j1(t,e,n,r){Array.isArray(n)||(n&&(sv[0]=n.toString()),n=sv);for(var o=0;o<n.length;o++){var i=D1(e,n[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function B1(t){zp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vp(e)},t),t.g={}}Xs.prototype.M=function(){Xs.Z.M.call(this),B1(this)};Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fu(){this.g=!0}fu.prototype.Aa=function(){this.g=!1};function _I(t,e,n,r,o,i){t.info(function(){if(t.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&h[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+s})}function SI(t,e,n,r,o,i,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+i+" "+s})}function Wo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+TI(t,n)+(r?" "+r:"")})}function CI(t,e){t.info(function(){return"TIMEOUT: "+e})}fu.prototype.info=function(){};function TI(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if(i!="noop"&&i!="stop"&&i!="close")for(var s=1;s<o.length;s++)o[s]=""}}}}return Kp(n)}catch{return e}}var bo={},av=null;function pu(){return av=av||new Ve}bo.Ma="serverreachability";function V1(t){st.call(this,bo.Ma,t)}et(V1,st);function Ys(t){const e=pu();Ye(e,new V1(e))}bo.STAT_EVENT="statevent";function H1(t,e){st.call(this,bo.STAT_EVENT,t),this.stat=e}et(H1,st);function ft(t){const e=pu();Ye(e,new H1(e,t))}bo.Na="timingevent";function W1(t,e){st.call(this,bo.Na,t),this.size=e}et(W1,st);function wa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var mu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},K1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xp(){}Xp.prototype.h=null;function lv(t){return t.h||(t.h=t.i())}function q1(){}var xa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yp(){st.call(this,"d")}et(Yp,st);function Jp(){st.call(this,"c")}et(Jp,st);var Jh;function gu(){}et(gu,Xp);gu.prototype.g=function(){return new XMLHttpRequest};gu.prototype.i=function(){return{}};Jh=new gu;function ka(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Xs(this),this.P=II,t=Kh?125:void 0,this.W=new hu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new G1}function G1(){this.i=null,this.g="",this.h=!1}var II=45e3,Zh={},Ec={};O=ka.prototype;O.setTimeout=function(t){this.P=t};function ef(t,e,n){t.K=1,t.v=yu(Un(e)),t.s=n,t.U=!0,Q1(t,null)}function Q1(t,e){t.F=Date.now(),Ea(t),t.A=Un(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),nx(n.h,"t",r),t.C=0,n=t.l.H,t.h=new G1,t.g=kx(t.l,n?e:null,!t.s),0<t.O&&(t.L=new EI(Xe(t.Ia,t,t.g),t.O)),j1(t.V,t.g,"readystatechange",t.gb),e=t.H?I1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ys(),_I(t.j,t.u,t.A,t.m,t.X,t.s)}O.gb=function(t){t=t.target;const e=this.L;e&&Nn(t)==3?e.l():this.Ia(t)};O.Ia=function(t){try{if(t==this.g)e:{const u=Nn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||Kh||this.g&&(this.h.h||this.g.ga()||hv(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Ys(3):Ys(2)),vu(this);var n=this.g.ba();this.N=n;t:if(X1(this)){var r=hv(this.g);t="";var o=r.length,i=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Hr(this),xs(this);var s="";break t}this.h.i=new W.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=n==200,SI(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xc(a)){var c=a;break t}}c=null}if(n=c)Wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tf(this,n);else{this.i=!1,this.o=3,ft(12),Hr(this),xs(this);break e}}this.U?(Y1(this,u,s),Kh&&this.i&&u==3&&(j1(this.V,this.W,"tick",this.fb),this.W.start())):(Wo(this.j,this.m,s,null),tf(this,s)),u==4&&Hr(this),this.i&&!this.I&&(u==4?yx(this.l,this):(this.i=!1,Ea(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),Hr(this),xs(this)}}}catch{}finally{}};function X1(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Y1(t,e,n){let r=!0,o;for(;!t.I&&t.C<n.length;)if(o=NI(t,n),o==Ec){e==4&&(t.o=4,ft(14),r=!1),Wo(t.j,t.m,null,"[Incomplete Response]");break}else if(o==Zh){t.o=4,ft(15),Wo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Wo(t.j,t.m,o,null),tf(t,o);X1(t)&&o!=Ec&&o!=Zh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),am(e),e.L=!0,ft(11))):(Wo(t.j,t.m,n,"[Invalid Chunked Response]"),Hr(t),xs(t))}O.fb=function(){if(this.g){var t=Nn(this.g),e=this.g.ga();this.C<e.length&&(vu(this),Y1(this,t,e),this.i&&t!=4&&Ea(this))}};function NI(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ec:(n=Number(e.substring(n,r)),isNaN(n)?Zh:(r+=1,r+n>e.length?Ec:(e=e.substr(r,n),t.C=r+n,e)))}O.cancel=function(){this.I=!0,Hr(this)};function Ea(t){t.Y=Date.now()+t.P,J1(t,t.P)}function J1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=wa(Xe(t.eb,t),e)}function vu(t){t.B&&(W.clearTimeout(t.B),t.B=null)}O.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(CI(this.j,this.A),this.K!=2&&(Ys(),ft(17)),Hr(this),this.o=2,xs(this)):J1(this,this.Y-t)};function xs(t){t.l.G==0||t.I||yx(t.l,t)}function Hr(t){vu(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Gp(t.W),B1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function tf(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||nf(n.i,t))){if(n.I=t.N,!t.J&&nf(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Tc(n),xu(n);else break e;sm(n),ft(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=wa(Xe(n.ab,n),6e3));if(1>=ix(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Wr(n,11)}else if((t.J||n.g==t)&&Tc(n),!xc(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){let c=o[e];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=c[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;!i.g&&(dt(m,"spdy")||dt(m,"quic")||dt(m,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(tm(i,i.h),i.h=null))}if(r.D){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.sa=w,ve(r.F,r.D,w))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var s=t;if(r.oa=xx(r,r.H?r.la:null,r.W),s.J){sx(r.i,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&(vu(a),Ea(a)),r.g=s}else gx(r);0<n.l.length&&ku(n)}else c[0]!="stop"&&c[0]!="close"||Wr(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Wr(n,7):im(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}Ys(4)}catch{}}function RI(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Wh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Zp(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wh(t)||typeof t=="string")T1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Wh(t)||typeof t=="string"){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,t)n[r++]=o;r=RI(t),o=r.length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function Ri(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ri)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}O=Ri.prototype;O.R=function(){em(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};O.T=function(){return em(this),this.g.concat()};function em(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];lo(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)r=t.g[e],lo(o,r)||(t.g[n++]=r,o[r]=1),e++;t.g.length=n}}O.get=function(t,e){return lo(this.h,t)?this.h[t]:e};O.set=function(t,e){lo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};O.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};function lo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Z1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function AI(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function co(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof co){this.g=e!==void 0?e:t.g,_c(this,t.j),this.s=t.s,Sc(this,t.i),Cc(this,t.m),this.l=t.l,e=t.h;var n=new Js;n.i=e.i,e.g&&(n.g=new Ri(e.g),n.h=e.h),cv(this,n),this.o=t.o}else t&&(n=String(t).match(Z1))?(this.g=!!e,_c(this,n[1]||"",!0),this.s=ks(n[2]||""),Sc(this,n[3]||"",!0),Cc(this,n[4]),this.l=ks(n[5]||"",!0),cv(this,n[6]||"",!0),this.o=ks(n[7]||"")):(this.g=!!e,this.h=new Js(null,this.g))}co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ss(e,uv,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ss(e,uv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(ss(n,n.charAt(0)=="/"?$I:LI,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ss(n,UI)),t.join("")};function Un(t){return new co(t)}function _c(t,e,n){t.j=n?ks(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sc(t,e,n){t.i=n?ks(e,!0):e}function Cc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cv(t,e,n){e instanceof Js?(t.h=e,FI(t.h,t.g)):(n||(e=ss(e,MI)),t.h=new Js(e,t.g))}function ve(t,e,n){t.h.set(e,n)}function yu(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function PI(t){return t instanceof co?Un(t):new co(t,void 0)}function DI(t,e,n,r){var o=new co(null,void 0);return t&&_c(o,t),e&&Sc(o,e),n&&Cc(o,n),r&&(o.l=r),o}function ks(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ss(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,OI),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function OI(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var uv=/[#\/\?@]/g,LI=/[#\?:]/g,$I=/[#\?]/g,MI=/[#\?@]/g,UI=/#/g;function Js(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pr(t){t.g||(t.g=new Ri,t.h=0,t.i&&AI(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Js.prototype;O.add=function(t,e){Pr(this),this.i=null,t=Ai(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ex(t,e){Pr(t),e=Ai(t,e),lo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,lo(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&em(t)))}function tx(t,e){return Pr(t),e=Ai(t,e),lo(t.g.h,e)}O.forEach=function(t,e){Pr(this),this.g.forEach(function(n,r){T1(n,function(o){t.call(e,o,r,this)},this)},this)};O.T=function(){Pr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n};O.R=function(t){Pr(this);var e=[];if(typeof t=="string")tx(this,t)&&(e=ev(e,this.g.get(Ai(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=ev(e,t[n])}return e};O.set=function(t,e){return Pr(this),this.i=null,t=Ai(this,t),tx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function nx(t,e,n){ex(t,e),0<n.length&&(t.i=null,t.g.set(Ai(t,e),Fp(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var s=o;r[i]!==""&&(s+="="+encodeURIComponent(String(r[i]))),t.push(s)}}return this.i=t.join("&")};function Ai(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FI(t,e){e&&!t.j&&(Pr(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(ex(this,r),nx(this,o,n))},t)),t.j=e}var zI=class{constructor(t,e){this.h=t,this.g=e}};function rx(t){this.l=t||jI,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ea&&W.g.Ea()&&W.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jI=10;function ox(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ix(t){return t.h?1:t.g?t.g.size:0}function nf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tm(t,e){t.g?t.g.add(e):t.h=e}function sx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rx.prototype.cancel=function(){if(this.i=ax(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ax(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Fp(t.i)}function nm(){}nm.prototype.stringify=function(t){return W.JSON.stringify(t,void 0)};nm.prototype.parse=function(t){return W.JSON.parse(t,void 0)};function BI(){this.g=new nm}function VI(t,e,n){const r=n||"";try{Zp(t,function(o,i){let s=o;ya(o)&&(s=Kp(o)),e.push(r+i+"="+encodeURIComponent(s))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function HI(t,e){const n=new fu;if(W.Image){const r=new Image;r.onload=sl(ll,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sl(ll,n,r,"TestLoadImage: error",!1,e),r.onabort=sl(ll,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sl(ll,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ll(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function _a(t){this.l=t.$b||null,this.j=t.ib||!1}et(_a,Xp);_a.prototype.g=function(){return new bu(this.l,this.j)};_a.prototype.i=function(t){return function(){return t}}({});function bu(t,e){Ve.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=rm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(bu,Ve);var rm=0;O=bu.prototype;O.open=function(t,e){if(this.readyState!=rm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zs(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||W).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=rm};O.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof W.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lx(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function lx(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}O.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sa(this):Zs(this),this.readyState==3&&lx(this)}};O.Ua=function(t){this.g&&(this.response=this.responseText=t,Sa(this))};O.Ta=function(t){this.g&&(this.response=t,Sa(this))};O.ha=function(){this.g&&Sa(this)};function Sa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zs(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WI=W.JSON.parse;function Ae(t){Ve.call(this),this.headers=new Ri,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cx,this.K=this.L=!1}et(Ae,Ve);var cx="",KI=/^https?$/i,qI=["POST","PUT"];O=Ae.prototype;O.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jh.g(),this.C=this.u?lv(this.u):lv(Jh),this.g.onreadystatechange=Xe(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){dv(this,i);return}t=n||"";const o=new Ri(this.headers);r&&Zp(r,function(i,s){o.set(s,i)}),r=oI(o.T()),n=W.FormData&&t instanceof W.FormData,!(0<=C1(qI,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(i,s){this.g.setRequestHeader(s,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hx(this),0<this.B&&((this.K=GI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.pa,this)):this.A=Qp(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){dv(this,i)}};function GI(t){return di&&cI()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function QI(t){return t.toLowerCase()=="content-type"}O.pa=function(){typeof Up!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function dv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ux(t),wu(t)}function ux(t){t.D||(t.D=!0,Ye(t,"complete"),Ye(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),wu(this))};O.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wu(this,!0)),Ae.Z.M.call(this)};O.Fa=function(){this.s||(this.F||this.v||this.l?dx(this):this.cb())};O.cb=function(){dx(this)};function dx(t){if(t.h&&typeof Up!="undefined"&&(!t.C[1]||Nn(t)!=4||t.ba()!=2)){if(t.v&&Nn(t)==4)Qp(t.Fa,0,t);else if(Ye(t,"readystatechange"),Nn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var o=String(t.H).match(Z1)[1]||null;if(!o&&W.self&&W.self.location){var i=W.self.location.protocol;o=i.substr(0,i.length-1)}r=!KI.test(o?o.toLowerCase():"")}n=r}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var s=2<Nn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.ba()+"]",ux(t)}}finally{wu(t)}}}}function wu(t,e){if(t.g){hx(t);const n=t.g,r=t.C[0]?wc:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=r}catch{}}}function hx(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}function Nn(t){return t.g?t.g.readyState:0}O.ba=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};O.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WI(e)}};function hv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case cx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}O.Da=function(){return this.m};O.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function XI(t){let e="";return zp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function om(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Yi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fx(t){this.za=0,this.l=[],this.h=new fu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yi("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yi("baseRetryDelayMs",5e3,t),this.$a=Yi("retryDelaySeedMs",1e4,t),this.Ya=Yi("forwardChannelMaxRetries",2,t),this.ra=Yi("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rx(t&&t.concurrentRequestLimit),this.Ca=new BI,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}O=fx.prototype;O.ma=8;O.G=1;function im(t){if(px(t),t.G==3){var e=t.V++,n=Un(t.F);ve(n,"SID",t.J),ve(n,"RID",e),ve(n,"TYPE","terminate"),Ca(t,n),e=new ka(t,t.h,e,void 0),e.K=2,e.v=yu(Un(n)),n=!1,W.navigator&&W.navigator.sendBeacon&&(n=W.navigator.sendBeacon(e.v.toString(),"")),!n&&W.Image&&(new Image().src=e.v,n=!0),n||(e.g=kx(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ea(e)}wx(t)}O.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function xu(t){t.g&&(am(t),t.g.cancel(),t.g=null)}function px(t){xu(t),t.u&&(W.clearTimeout(t.u),t.u=null),Tc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function Rd(t,e){t.l.push(new zI(t.Za++,e)),t.G==3&&ku(t)}function ku(t){ox(t.i)||t.m||(t.m=!0,qp(t.Ha,t),t.C=0)}function YI(t,e){return ix(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=wa(Xe(t.Ha,t,e),bx(t,t.C)),t.C++,!0)}O.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const o=new ka(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=I1(i),N1(i,this.P)):i=this.P),this.o===null&&(o.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mx(this,o,e),n=Un(this.F),ve(n,"RID",t),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),Ca(this,n),this.o&&i&&om(n,this.o,i),tm(this.i,o),this.Ra&&ve(n,"TYPE","init"),this.ja?(ve(n,"$req",e),ve(n,"SID","null"),o.$=!0,ef(o,n,null)):ef(o,n,e),this.G=2}}else this.G==3&&(t?fv(this,t):this.l.length==0||ox(this.i)||fv(this))};function fv(t,e){var n;e?n=e.m:n=t.V++;const r=Un(t.F);ve(r,"SID",t.J),ve(r,"RID",n),ve(r,"AID",t.U),Ca(t,r),t.o&&t.s&&om(r,t.o,t.s),n=new ka(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=mx(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),tm(t.i,n),ef(n,r,e)}function Ca(t,e){t.j&&Zp({},function(n,r){ve(e,r,n)})}function mx(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Xe(t.j.Oa,t.j,t):null;e:{var o=t.l;let i=-1;for(;;){const s=["count="+n];i==-1?0<n?(i=o[0].h,s.push("ofs="+i)):i=0:s.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=o[l].h;const u=o[l].g;if(c-=i,0>c)i=Math.max(0,o[l].h-100),a=!1;else try{VI(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function gx(t){t.g||t.u||(t.Y=1,qp(t.Ga,t),t.A=0)}function sm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=wa(Xe(t.Ga,t),bx(t,t.A)),t.A++,!0)}O.Ga=function(){if(this.u=null,vx(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=wa(Xe(this.bb,this),t)}};O.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ft(10),xu(this),vx(this))};function am(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function vx(t){t.g=new ka(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Un(t.oa);ve(e,"RID","rpc"),ve(e,"SID",t.J),ve(e,"CI",t.N?"0":"1"),ve(e,"AID",t.U),Ca(t,e),ve(e,"TYPE","xmlhttp"),t.o&&t.s&&om(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=yu(Un(e)),n.s=null,n.U=!0,Q1(n,t)}O.ab=function(){this.v!=null&&(this.v=null,xu(this),sm(this),ft(19))};function Tc(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function yx(t,e){var n=null;if(t.g==e){Tc(t),am(t),t.g=null;var r=2}else if(nf(t.i,e))n=e.D,sx(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;r=pu(),Ye(r,new W1(r,n)),ku(t)}else gx(t);else if(o=e.o,o==3||o==0&&0<t.I||!(r==1&&YI(t,e)||r==2&&sm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Wr(t,5);break;case 4:Wr(t,10);break;case 3:Wr(t,6);break;default:Wr(t,2)}}}function bx(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Wr(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Xe(t.jb,t);n||(n=new co("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||_c(n,"https"),yu(n)),HI(n.toString(),r)}else ft(2);t.G=0,t.j&&t.j.va(e),wx(t),px(t)}O.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ft(2)):(this.h.info("Failed to ping google.com"),ft(1))};function wx(t){t.G=0,t.I=-1,t.j&&((ax(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Fp(t.l),t.l.length=0),t.j.ua())}function xx(t,e,n){let r=PI(n);if(r.i!="")e&&Sc(r,e+"."+r.i),Cc(r,r.m);else{const o=W.location;r=DI(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&zp(t.aa,function(o,i){ve(r,i,o)}),e=t.D,n=t.sa,e&&n&&ve(r,e,n),ve(r,"VER",t.ma),Ca(t,r),r}function kx(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Ae(new _a({ib:!0})):new Ae(t.qa),e.L=t.H,e}function Ex(){}O=Ex.prototype;O.xa=function(){};O.wa=function(){};O.va=function(){};O.ua=function(){};O.Oa=function(){};function Ic(){if(di&&!(10<=Number(uI)))throw Error("Environmental error: no available transport.")}Ic.prototype.g=function(t,e){return new Mt(t,e)};function Mt(t,e){Ve.call(this),this.g=new fx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!xc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pi(this)}et(Mt,Ve);Mt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),qp(Xe(t.hb,t,e))),ft(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=xx(t,null,t.W),ku(t)};Mt.prototype.close=function(){im(this.g)};Mt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Rd(this.g,e)}else this.v?(e={},e.__data__=Kp(t),Rd(this.g,e)):Rd(this.g,t)};Mt.prototype.M=function(){this.g.j=null,delete this.j,im(this.g),delete this.g,Mt.Z.M.call(this)};function _x(t){Yp.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(_x,Yp);function Sx(){Jp.call(this),this.status=1}et(Sx,Jp);function Pi(t){this.g=t}et(Pi,Ex);Pi.prototype.xa=function(){Ye(this.g,"a")};Pi.prototype.wa=function(t){Ye(this.g,new _x(t))};Pi.prototype.va=function(t){Ye(this.g,new Sx)};Pi.prototype.ua=function(){Ye(this.g,"b")};Ic.prototype.createWebChannel=Ic.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;mu.NO_ERROR=0;mu.TIMEOUT=8;mu.HTTP_ERROR=6;K1.COMPLETE="complete";q1.EventType=xa;xa.OPEN="a";xa.CLOSE="b";xa.ERROR="c";xa.MESSAGE="d";Ve.prototype.listen=Ve.prototype.N;Ae.prototype.listenOnce=Ae.prototype.O;Ae.prototype.getLastError=Ae.prototype.La;Ae.prototype.getLastErrorCode=Ae.prototype.Da;Ae.prototype.getStatus=Ae.prototype.ba;Ae.prototype.getResponseJson=Ae.prototype.Qa;Ae.prototype.getResponseText=Ae.prototype.ga;Ae.prototype.send=Ae.prototype.ea;var JI=function(){return new Ic},ZI=function(){return pu()},Ad=mu,eN=K1,tN=bo,pv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nN=_a,cl=q1,rN=Ae;const mv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di="9.8.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Sp("@firebase/firestore");function gv(){return uo.logLevel}function M(t,...e){if(uo.logLevel<=te.DEBUG){const n=e.map(lm);uo.debug(`Firestore (${Di}): ${t}`,...n)}}function kr(t,...e){if(uo.logLevel<=te.ERROR){const n=e.map(lm);uo.error(`Firestore (${Di}): ${t}`,...n)}}function vv(t,...e){if(uo.logLevel<=te.WARN){const n=e.map(lm);uo.warn(`Firestore (${Di}): ${t}`,...n)}}function lm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${Di}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function de(t,e){t||K()}function q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class sN{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new An;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new An,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new An)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new oN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new xt(e)}}class aN{constructor(e,n,r){this.type="FirstParty",this.user=xt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class lN{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new aN(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uN{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=i=>{i.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.p;return this.p=i.token,M("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?o(i):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.p=n.token,new cN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=dN(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=e.charAt(o[i]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function hi(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new $e(0,0))}static max(){return new G(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends ea{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const hN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends ea{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return hN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new $(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new $(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new $(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.path=e}static fromPath(e){return new U(pe.fromString(e))}static fromName(e){return new U(pe.fromString(e).popFirst(5))}static empty(){return new U(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new pe(e.slice()))}}function fN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=G.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Er(o,U.empty(),e)}function pN(t){return new Er(t.readTime,t.key,-1)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(G.min(),U.empty(),-1)}static max(){return new Er(G.max(),U.empty(),-1)}}function mN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==gN)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},l=>r(l))}),s=!0,i===o&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(o=>o?R.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new R((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===i&&r(s)},u=>o(u))}})}static doWhile(e,n){return new R((r,o)=>{const i=()=>{e()===!0?n().next(()=>{i()},o):r()};i()})}}function Ia(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cm.ot=-1;class Ue{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ul(this.root,e,this.comparator,!0)}}class ul{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r!=null?r:qe.RED,this.left=o!=null?o:qe.EMPTY,this.right=i!=null?i:qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new qe(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,r,o){return this}insert(t,e,n){return new qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(e){return new bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new qt([])}unionWith(e){let n=new Me(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ze(n)}static fromUint8Array(e){const n=function(r){let o="";for(let i=0;i<r.length;++i)o+=String.fromCharCode(r[i]);return o}(e);return new Ze(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const yN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(de(!!t),typeof t=="string"){let e=0;const n=yN.exec(t);if(de(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(t.seconds),nanos:Te(t.nanos)}}function Te(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fi(t){return typeof t=="string"?Ze.fromBase64String(t):Ze.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nx(t){const e=t.mapValue.fields.__previous_value__;return Ix(e)?Nx(e):e}function ta(t){const e=_r(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r,o,i,s,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class pi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function wN(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ix(t)?4:xN(t)?9007199254740991:10:K()}function xn(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ta(t).isEqual(ta(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const i=_r(r.timestampValue),s=_r(o.timestampValue);return i.seconds===s.seconds&&i.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return fi(r.bytesValue).isEqual(fi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Te(r.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(r.geoPointValue.longitude)===Te(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Te(r.integerValue)===Te(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const i=Te(r.doubleValue),s=Te(o.doubleValue);return i===s?Nc(i)===Nc(s):isNaN(i)&&isNaN(s)}return!1}(t,e);case 9:return hi(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:return function(r,o){const i=r.mapValue.fields||{},s=o.mapValue.fields||{};if(yv(i)!==yv(s))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(s[a]===void 0||!xn(i[a],s[a])))return!1;return!0}(t,e);default:return K()}}function na(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function mi(t,e){if(t===e)return 0;const n=ho(t),r=ho(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(o,i){const s=Te(o.integerValue||o.doubleValue),a=Te(i.integerValue||i.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return wv(t.timestampValue,e.timestampValue);case 4:return wv(ta(t),ta(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(o,i){const s=fi(o),a=fi(i);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const s=o.split("/"),a=i.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=re(s[l],a[l]);if(c!==0)return c}return re(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const s=re(Te(o.latitude),Te(i.latitude));return s!==0?s:re(Te(o.longitude),Te(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,i){const s=o.values||[],a=i.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=mi(s[l],a[l]);if(c)return c}return re(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,i){if(o===dl.mapValue&&i===dl.mapValue)return 0;if(o===dl.mapValue)return 1;if(i===dl.mapValue)return-1;const s=o.fields||{},a=Object.keys(s),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=re(a[u],c[u]);if(h!==0)return h;const d=mi(s[a[u]],l[c[u]]);if(d!==0)return d}return re(a.length,c.length)}(t.mapValue,e.mapValue);default:throw K()}}function wv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=_r(t),r=_r(e),o=re(n.seconds,r.seconds);return o!==0?o:re(n.nanos,r.nanos)}function ti(t){return rf(t)}function rf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=_r(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,U.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",i=!0;for(const s of r.values||[])i?i=!1:o+=",",o+=rf(s);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of o)s?s=!1:i+=",",i+=`${a}:${rf(r.fields[a])}`;return i+"}"}(t.mapValue):K();var e,n}function xv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function of(t){return!!t&&"integerValue"in t}function um(t){return!!t&&"arrayValue"in t}function kv(t){return!!t&&"nullValue"in t}function Ev(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ul(t){return!!t&&"mapValue"in t}function Es(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Es(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Es(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ul(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Es(n)}setAll(e){let n=it.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=Es(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());Ul(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ul(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new Ct(Es(this.value))}}function Rx(t){const e=[];return wo(t.fields,(n,r)=>{const o=new it([n]);if(Ul(r)){const i=Rx(r.mapValue).fields;if(i.length===0)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n,r,o,i,s){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ge(e,0,G.min(),G.min(),Ct.empty(),0)}static newFoundDocument(e,n,r){return new Ge(e,1,n,G.min(),r,0)}static newNoDocument(e,n){return new Ge(e,2,n,G.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,G.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.ut=null}}function _v(t,e=null,n=[],r=[],o=null,i=null,s=null){return new kN(t,e,n,r,o,i,s)}function dm(t){const e=q(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+ti(o.value);var o}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ti(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ti(r)).join(",")),e.ut=n}return e.ut}function EN(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ti(r.value)}`;var r}).join(", ")}]`),Eu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ti(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ti(n)).join(",")),`Target(${e})`}function hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<t.orderBy.length;o++)if(!AN(t.orderBy[o],e.orderBy[o]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let o=0;o<t.filters.length;o++)if(n=t.filters[o],r=e.filters[o],n.op!==r.op||!n.field.isEqual(r.field)||!xn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cv(t.startAt,e.startAt)&&Cv(t.endAt,e.endAt)}function sf(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class pt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new _N(e,n,r):n==="array-contains"?new TN(e,r):n==="in"?new IN(e,r):n==="not-in"?new NN(e,r):n==="array-contains-any"?new RN(e,r):new pt(e,n,r)}static ct(e,n,r){return n==="in"?new SN(e,r):new CN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(mi(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.at(mi(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _N extends pt{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.at(n)}}class SN extends pt{constructor(e,n){super(e,"in",n),this.keys=Ax("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CN extends pt{constructor(e,n){super(e,"not-in",n),this.keys=Ax("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ax(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class TN extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return um(n)&&na(n.arrayValue,this.value)}}class IN extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&na(this.value.arrayValue,n)}}class NN extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!na(this.value.arrayValue,n)}}class RN extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>na(this.value.arrayValue,r))}}class Rc{constructor(e,n){this.position=e,this.inclusive=n}}class _s{constructor(e,n="asc"){this.field=e,this.dir=n}}function AN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Sv(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(i.field.isKeyField()?r=U.comparator(U.fromName(s.referenceValue),n.key):r=mi(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null,this.startAt,this.endAt}}function PN(t,e,n,r,o,i,s,a){return new Na(t,e,n,r,o,i,s,a)}function fm(t){return new Na(t)}function DN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Px(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Dx(t){for(const e of t.filters)if(e.ht())return e.field;return null}function Ox(t){return t.collectionGroup!==null}function ra(t){const e=q(t);if(e.lt===null){e.lt=[];const n=Dx(e),r=Px(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new _s(n)),e.lt.push(new _s(it.keyField(),"asc"));else{let o=!1;for(const i of e.explicitOrderBy)e.lt.push(i),i.field.isKeyField()&&(o=!0);if(!o){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new _s(it.keyField(),i))}}}return e.lt}function fo(t){const e=q(t);if(!e.ft)if(e.limitType==="F")e.ft=_v(e.path,e.collectionGroup,ra(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of ra(e)){const s=i.dir==="desc"?"asc":"desc";n.push(new _s(i.field,s))}const r=e.endAt?new Rc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Rc(e.startAt.position,e.startAt.inclusive):null;e.ft=_v(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e.ft}function ON(t,e,n){return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _u(t,e){return hm(fo(t),fo(e))&&t.limitType===e.limitType}function Lx(t){return`${dm(fo(t))}|lt:${t.limitType}`}function af(t){return`Query(target=${EN(fo(t))}; limitType=${t.limitType})`}function pm(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):U.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of n.explicitOrderBy)if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(o,i,s){const a=Sv(o,i,s);return o.inclusive?a<=0:a<0}(n.startAt,ra(n),r)||n.endAt&&!function(o,i,s){const a=Sv(o,i,s);return o.inclusive?a>=0:a>0}(n.endAt,ra(n),r))}(t,e)}function LN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $x(t){return(e,n)=>{let r=!1;for(const o of ra(t)){const i=$N(o,e,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function $N(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(o,i,s){const a=i.data.field(o),l=s.data.field(o);return a!==null&&l!==null?mi(a,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function Ux(t){return{integerValue:""+t}}function MN(t,e){return wN(e)?Ux(e):Mx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this._=void 0}}function UN(t,e,n){return t instanceof Ac?function(r,o){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(i.fields.__previous_value__=o),{mapValue:i}}(n,e):t instanceof gi?zx(t,e):t instanceof oa?jx(t,e):function(r,o){const i=Fx(r,o),s=Tv(i)+Tv(r._t);return of(i)&&of(r._t)?Ux(s):Mx(r.wt,s)}(t,e)}function FN(t,e,n){return t instanceof gi?zx(t,e):t instanceof oa?jx(t,e):n}function Fx(t,e){return t instanceof Pc?of(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ac extends Su{}class gi extends Su{constructor(e){super(),this.elements=e}}function zx(t,e){const n=Bx(e);for(const r of t.elements)n.some(o=>xn(o,r))||n.push(r);return{arrayValue:{values:n}}}class oa extends Su{constructor(e){super(),this.elements=e}}function jx(t,e){let n=Bx(e);for(const r of t.elements)n=n.filter(o=>!xn(o,r));return{arrayValue:{values:n}}}class Pc extends Su{constructor(e,n){super(),this.wt=e,this._t=n}}function Tv(t){return Te(t.integerValue||t.doubleValue)}function Bx(t){return um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.field=e,this.transform=n}}function jN(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof gi&&r instanceof gi||n instanceof oa&&r instanceof oa?hi(n.elements,r.elements,xn):n instanceof Pc&&r instanceof Pc?xn(n._t,r._t):n instanceof Ac&&r instanceof Ac}(t.transform,e.transform)}class BN{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cu{}function Vx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wx(t.key,wn.none()):new Ra(t.key,t.data,wn.none());{const n=t.data,r=Ct.empty();let o=new Me(it.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new Dr(t.key,r,new qt(o.toArray()),wn.none())}}function VN(t,e,n){t instanceof Ra?function(r,o,i){const s=r.value.clone(),a=Nv(r.fieldTransforms,o,i.transformResults);s.setAll(a),o.convertToFoundDocument(i.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(r,o,i){if(!Fl(r.precondition,o))return void o.convertToUnknownDocument(i.version);const s=Nv(r.fieldTransforms,o,i.transformResults),a=o.data;a.setAll(Hx(r)),a.setAll(s),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ss(t,e,n,r){return t instanceof Ra?function(o,i,s,a){if(!Fl(o.precondition,i))return s;const l=o.value.clone(),c=Rv(o.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dr?function(o,i,s,a){if(!Fl(o.precondition,i))return s;const l=Rv(o.fieldTransforms,a,i),c=i.data;return c.setAll(Hx(o)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(o,i,s){return Fl(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s}(t,e,n)}function HN(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=Fx(r.transform,o||null);i!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,i))}return n||null}function Iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&hi(n,r,(o,i)=>jN(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ra extends Cu{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends Cu{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Hx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Nv(t,e,n){const r=new Map;de(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,FN(s,a,n[o]))}return r}function Rv(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,UN(i,s,e))}return r}class Wx extends Cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WN extends Cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,J;function qN(t){switch(t){default:return K();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function Kx(t){if(t===void 0)return kr("GRPC error has no .code"),T.UNKNOWN;switch(t){case Ce.OK:return T.OK;case Ce.CANCELLED:return T.CANCELLED;case Ce.UNKNOWN:return T.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return T.INTERNAL;case Ce.UNAVAILABLE:return T.UNAVAILABLE;case Ce.UNAUTHENTICATED:return T.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case Ce.NOT_FOUND:return T.NOT_FOUND;case Ce.ALREADY_EXISTS:return T.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return T.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case Ce.ABORTED:return T.ABORTED;case Ce.OUT_OF_RANGE:return T.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return T.UNIMPLEMENTED;case Ce.DATA_LOSS:return T.DATA_LOSS;default:return K()}}(J=Ce||(Ce={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return Tx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Ue(U.comparator);function Fn(){return GN}const qx=new Ue(U.comparator);function as(...t){let e=qx;for(const n of t)e=e.insert(n.key,n);return e}function Gx(t){let e=qx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return Cs()}function Qx(){return Cs()}function Cs(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const QN=new Ue(U.comparator),XN=new Me(U.comparator);function Y(...t){let e=XN;for(const n of t)e=e.add(n);return e}const YN=new Me(re);function Xx(){return YN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,n)),new Tu(G.min(),r,Xx(),Fn(),Y())}}class Aa{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Aa(Ze.EMPTY_BYTE_STRING,n,Y(),Y(),Y())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,o){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=o}}class Yx{constructor(e,n){this.targetId=e,this.It=n}}class Jx{constructor(e,n,r=Ze.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Av{constructor(){this.Tt=0,this.Et=Dv(),this.At=Ze.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Y(),n=Y(),r=Y();return this.Et.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:K()}}),new Aa(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=Dv()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class JN{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Fn(),this.Bt=Pv(),this.Lt=new Me(re)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,o)=>{this.jt(o)&&n(o)})}zt(e){const n=e.targetId,r=e.It.count,o=this.Ht(n);if(o){const i=o.target;if(sf(i))if(r===0){const s=new U(i.path);this.Kt(n,s,Ge.newNoDocument(s,G.min()))}else de(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((i,s)=>{const a=this.Ht(s);if(a){if(i.current&&sf(a.target)){const l=new U(a.target.path);this.$t.get(l)!==null||this.Xt(s,l)||this.Kt(s,l,Ge.newNoDocument(l,e))}i.vt&&(n.set(s,i.St()),i.Dt())}});let r=Y();this.Bt.forEach((i,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ht(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(r=r.add(i))}),this.$t.forEach((i,s)=>s.setReadTime(e));const o=new Tu(e,n,this.Lt,this.$t,r);return this.$t=Fn(),this.Bt=Pv(),this.Lt=new Me(re),o}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,n)?o.Ct(n,1):o.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new Av,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Me(re),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Av),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function Pv(){return new Ue(U.comparator)}function Dv(){return new Ue(U.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class tR{constructor(e,n){this.databaseId=e,this.dt=n}}function Dc(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zx(t,e){return t.dt?e.toBase64():e.toUint8Array()}function nR(t,e){return Dc(t,e.toTimestamp())}function Pn(t){return de(!!t),G.fromTimestamp(function(e){const n=_r(e);return new $e(n.seconds,n.nanos)}(t))}function mm(t,e){return function(n){return new pe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ek(t){const e=pe.fromString(t);return de(rk(e)),e}function lf(t,e){return mm(t.databaseId,e.path)}function Pd(t,e){const n=ek(e);if(n.get(1)!==t.databaseId.projectId)throw new $(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(tk(n))}function cf(t,e){return mm(t.databaseId,e)}function rR(t){const e=ek(t);return e.length===4?pe.emptyPath():tk(e)}function uf(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tk(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ov(t,e,n){return{name:lf(t,e),fields:n.value.mapValue.fields}}function oR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(l,c){return l.dt?(de(c===void 0||typeof c=="string"),Ze.fromBase64String(c||"")):(de(c===void 0||c instanceof Uint8Array),Ze.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=l.code===void 0?T.UNKNOWN:Kx(l.code);return new $(c,l.message||"")}(s);n=new Jx(r,o,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pd(t,r.document.name),i=Pn(r.document.updateTime),s=new Ct({mapValue:{fields:r.document.fields}}),a=Ge.newFoundDocument(o,i,s),l=r.targetIds||[],c=r.removedTargetIds||[];n=new zl(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Pd(t,r.document),i=r.readTime?Pn(r.readTime):G.min(),s=Ge.newNoDocument(o,i),a=r.removedTargetIds||[];n=new zl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Pd(t,r.document),i=r.removedTargetIds||[];n=new zl([],i,o,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const o=r.count||0,i=new KN(o),s=r.targetId;n=new Yx(s,i)}}return n}function iR(t,e){let n;if(e instanceof Ra)n={update:Ov(t,e.key,e.value)};else if(e instanceof Wx)n={delete:lf(t,e.key)};else if(e instanceof Dr)n={update:Ov(t,e.key,e.data),updateMask:mR(e.fieldMask)};else{if(!(e instanceof WN))return K();n={verify:lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const s=i.transform;if(s instanceof Ac)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof gi)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof oa)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Pc)return{fieldPath:i.field.canonicalString(),increment:s._t};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:nR(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K()}(t,e.precondition)),n}function sR(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(r,o){let i=r.updateTime?Pn(r.updateTime):Pn(o);return i.isEqual(G.min())&&(i=Pn(o)),new BN(i,r.transformResults||[])}(n,e))):[]}function aR(t,e){return{documents:[cf(t,e.path)]}}function lR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=cf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if(Ev(h.value))return{unaryFilter:{field:To(h.field),op:"IS_NAN"}};if(kv(h.value))return{unaryFilter:{field:To(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Ev(h.value))return{unaryFilter:{field:To(h.field),op:"IS_NOT_NAN"}};if(kv(h.value))return{unaryFilter:{field:To(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(h.field),op:hR(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);o&&(n.structuredQuery.where=o);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:To(u.field),direction:dR(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const s=function(l,c){return l.dt||Eu(c)?c:{value:c}}(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function cR(t){let e=rR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){de(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=nk(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(u=>function(h){return new _s(Ko(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Eu(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new Rc(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,d=u.values||[];return new Rc(d,h)}(n.endAt)),PN(e,o,s,i,a,"F",l,c)}function uR(t,e){const n=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function nk(t){return t?t.unaryFilter!==void 0?[pR(t)]:t.fieldFilter!==void 0?[fR(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>nk(e)).reduce((e,n)=>e.concat(n)):K():[]}function dR(t){return ZN[t]}function hR(t){return eR[t]}function To(t){return{fieldPath:t.canonicalString()}}function Ko(t){return it.fromServerFormat(t.fieldPath)}function fR(t){return pt.create(Ko(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value)}function pR(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ko(t.unaryFilter.field);return pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ko(t.unaryFilter.field);return pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ko(t.unaryFilter.field);return pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ko(t.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}function mR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&VN(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ss(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ss(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qx();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const l=Vx(s,a);l!==null&&r.set(o.key,l),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Y())}isEqual(e){return this.batchId===e.batchId&&hi(this.mutations,e.mutations,(n,r)=>Iv(n,r))&&hi(this.baseMutations,e.baseMutations,(n,r)=>Iv(n,r))}}class gm{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){de(e.mutations.length===r.length);let o=QN;const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new gm(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,o,i=G.min(),s=G.min(),a=Ze.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.ne=e}}function bR(t){const e=cR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ON(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.ze=new xR}addToCollectionParentIndex(e,n){return this.ze.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Er.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class xR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Me(pe.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Me(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new vi(0)}static Rn(){return new vi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.getBaseDocument(e,n,r))).next(o=>(r!==null&&Ss(r.mutation,o,qt.empty(),$e.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Y()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Y()){const o=Kr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=as();return i.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Y()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=Fn();const s=Cs(),a=Cs();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof Dr)?i=i.insert(c.key,c):u!==void 0&&(s.set(c.key,u.mutation.getFieldMask()),Ss(u.mutation,c,u.mutation.getFieldMask(),$e.now()))}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new ER(u,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cs();let o=new Ue((s,a)=>s-a),i=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||qt.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(o.get(a.batchId)||Y()).add(l);o=o.insert(a.batchId,h)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Qx();u.forEach(d=>{if(!i.has(d)){const p=Vx(n.get(d),r.get(d));p!==null&&h.set(d,p),i=i.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ox(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):R.resolve(Kr());let a=-1,l=i;return s.next(c=>R.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?R.resolve():this.getBaseDocument(e,u,h).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Y())).next(u=>({batchId:a,changes:Gx(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let o=as();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let i=as();return this.indexManager.getCollectionParents(e,o).next(s=>R.forEach(s,a=>{const l=function(c,u){return new Na(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(i=>(o=i,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(i=>{i.forEach((a,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Ge.newInvalidDocument(c)))});let s=as();return o.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Ss(c.mutation,l,qt.empty(),$e.now()),pm(n,l)&&(s=s.insert(a,l))}),s})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):R.resolve(Ge.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return R.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Pn(r.createTime)}),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:bR(r.bundledQuery),readTime:Pn(r.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.overlays=new Ue(U.comparator),this.Xn=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return R.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.ie(e,n,i)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Xn.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.Xn.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const o=Kr(),i=n.length+1,s=new U(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&o.set(l.getKey(),l)}return R.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new Ue((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Kr(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Kr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return R.resolve(a)}ie(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const s=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vR(n,r));let i=this.Xn.get(n);i===void 0&&(i=Y(),this.Xn.set(n,i)),this.Xn.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.Zn=new Me(ze.ts),this.es=new Me(ze.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new ze(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new ze(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new U(new pe([])),r=new ze(n,e),o=new ze(n,e+1),i=[];return this.es.forEachInRange([r,o],s=>{this.rs(s),i.push(s.key)}),i}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new U(new pe([])),r=new ze(n,e),o=new ze(n,e+1);let i=Y();return this.es.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new ze(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return U.comparator(e.key,n.key)||re(e.ls,n.ls)}static ns(e,n){return re(e.ls,n.ls)||U.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Me(ze.ts)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new gR(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.ds=this.ds.add(new ze(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ws(r),i=o<0?0:o;return R.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([r,o],s=>{const a=this._s(s.ls);i.push(a)}),R.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(re);return n.forEach(o=>{const i=new ze(o,0),s=new ze(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([i,s],a=>{r=r.add(a.ls)})}),R.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;U.isDocumentKey(i)||(i=i.child(""));const s=new ze(new U(i),0);let a=new Me(re);return this.ds.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.ls)),!0)},s),R.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const o=this._s(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){de(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return R.forEach(n.mutations,o=>{const i=new ze(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new ze(n,0),o=this.ds.firstAfterOrEqual(r);return R.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.ps=e,this.docs=new Ue(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():Ge.newInvalidDocument(o))}),R.resolve(r)}getAllFromCollection(e,n,r){let o=Fn();const i=new U(n.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:a,value:{document:l}}=s.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||mN(pN(l),r)<=0||(o=o.insert(l.key,l.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,o){K()}Is(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NR(this)}getSize(e){return R.resolve(this.size)}}class NR extends kR{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.persistence=e,this.Ts=new Oi(n=>dm(n),hm),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Es=0,this.As=new vm,this.targetCount=0,this.Rs=vi.An()}forEachTarget(e,n){return this.Ts.forEach((r,o)=>n(o)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),R.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new vi(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.vn(n),R.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.Ts.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),R.waitFor(i).next(()=>o)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),R.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.bs={},this.overlays={},this.Ps=new cm(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new RR(this),this.indexManager=new wR,this.remoteDocumentCache=function(r){return new IR(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new yR(n),this.Ds=new SR(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new TR(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const o=new PR(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(i=>this.referenceDelegate.xs(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Ns(e,n){return R.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class PR extends vN{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.ks=new vm,this.Os=null}static Ms(e){return new ym(e)}get Fs(){if(this.Os)return this.Os;throw K()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),R.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Fs.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Fs,r=>{const o=U.fromPath(r);return this.$s(e,o).next(i=>{i||n.removeEntry(o,G.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return R.or([()=>R.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=o}static Vi(e,n){let r=Y(),o=Y();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new bm(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ci(e,n).next(i=>i||this.xi(e,n,o,r)).next(i=>i||this.Ni(e,n))}Ci(e,n){return R.resolve(null)}xi(e,n,r,o){return DN(n)||o.isEqual(G.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(i=>{const s=this.ki(n,i);return this.Oi(n,s,r,o)?this.Ni(e,n):(gv()<=te.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),af(n)),this.Mi(e,s,n,fN(o,-1)))})}ki(e,n){let r=new Me($x(e));return n.forEach((o,i)=>{pm(e,i)&&(r=r.add(i))}),r}Oi(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Ni(e,n){return gv()<=te.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",af(n)),this.Di.getDocumentsMatchingQuery(e,n,Er.min())}Mi(e,n,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r,o){this.persistence=e,this.Fi=n,this.wt=o,this.$i=new Ue(re),this.Bi=new Oi(i=>dm(i),hm),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _R(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function LR(t,e,n,r){return new OR(t,e,n,r)}async function ok(t,e){const n=q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let l=Y();for(const c of o){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ki:c,removedBatchIds:s,addedBatchIds:a}))})})}function $R(t,e){const n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,h=u.keys();let d=R.resolve();return h.forEach(p=>{d=d.next(()=>c.getEntry(a,p)).next(m=>{const w=l.docVersions.get(p);de(w!==null),m.version.compareTo(w)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),d.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Y();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function ik(t){const e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function MR(t,e){const n=q(t),r=e.snapshotVersion;let o=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Ui.newChangeBuffer({trackRemovals:!0});o=n.$i;const a=[];e.targetChanges.forEach((u,h)=>{const d=o.get(h);if(!d)return;a.push(n.Vs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(i,u.addedDocuments,h)));let p=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(Ze.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),o=o.insert(h,p),function(m,w,x){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(d,p,u)&&a.push(n.Vs.updateTargetData(i,p))});let l=Fn(),c=Y();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(UR(i,s,e.documentUpdates).next(u=>{l=u.Gi,c=u.Qi})),!r.isEqual(G.min())){const u=n.Vs.getLastRemoteSnapshotVersion(i).next(h=>n.Vs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.$i=o,i))}function UR(t,e,n){let r=Y(),o=Y();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Fn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Gi:s,Qi:o}})}function FR(t,e){const n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zR(t,e){const n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Vs.getTargetData(r,e).next(i=>i?(o=i,R.resolve(o)):n.Vs.allocateTargetId(r).next(s=>(o=new Xr(e,s,0,r.currentSequenceNumber),n.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.$i.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function df(t,e,n){const r=q(t),o=r.$i.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!Ia(s))throw s;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}function Lv(t,e,n){const r=q(t);let o=G.min(),i=Y();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=q(a),h=u.Bi.get(c);return h!==void 0?R.resolve(u.$i.get(h)):u.Vs.getTargetData(l,c)}(r,s,fo(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{i=l})}).next(()=>r.Fi.getDocumentsMatchingQuery(s,e,n?o:G.min(),n?i:Y())).next(a=>(jR(r,LN(e),a),{documents:a,ji:i})))}function jR(t,e,n){let r=G.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Li.set(e,r)}class $v{constructor(){this.activeTargetIds=Xx()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(){this.Fr=new $v,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new $v,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,o,i){const s=this.oo(e,n);M("RestConnection","Sending: ",s,r);const a={};return this.uo(a,o,i),this.co(e,s,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw vv("RestConnection",`${e} failed with error: `,l,"url: ",s,"request:",r),l})}ao(e,n,r,o,i){return this.ro(e,n,r,o,i)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Di,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,i)=>e[i]=o),r&&r.headers.forEach((o,i)=>e[i]=o)}oo(e,n){const r=HR[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,o){return new Promise((i,s)=>{const a=new rN;a.listenOnce(eN.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ad.NO_ERROR:const c=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(c)),i(c);break;case Ad.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),s(new $(T.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const u=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(m)>=0?m:T.UNKNOWN}(h.status);s(new $(d,h.message))}else s(new $(T.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new $(T.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(o);a.send(n,"POST",l,r,15)})}ho(e,n,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=JI(),s=ZI(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new nN({})),this.uo(a.initMessageHeaders,n,r),Bw()||Hw()||LC()||Ww()||$C()||Vw()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=o.join("");M("Connection","Creating WebChannel: "+l,a);const c=i.createWebChannel(l,a);let u=!1,h=!1;const d=new WR({jr:m=>{h?M("Connection","Not sending because WebChannel is closed:",m):(u||(M("Connection","Opening WebChannel transport."),c.open(),u=!0),M("Connection","WebChannel sending:",m),c.send(m))},Wr:()=>c.close()}),p=(m,w,x)=>{m.listen(w,y=>{try{x(y)}catch(g){setTimeout(()=>{throw g},0)}})};return p(c,cl.EventType.OPEN,()=>{h||M("Connection","WebChannel transport opened.")}),p(c,cl.EventType.CLOSE,()=>{h||(h=!0,M("Connection","WebChannel transport closed"),d.eo())}),p(c,cl.EventType.ERROR,m=>{h||(h=!0,vv("Connection","WebChannel transport errored:",m),d.eo(new $(T.UNAVAILABLE,"The operation could not be completed")))}),p(c,cl.EventType.MESSAGE,m=>{var w;if(!h){const x=m.data[0];de(!!x);const y=x,g=y.error||((w=y[0])===null||w===void 0?void 0:w.error);if(g){M("Connection","WebChannel received error:",g);const b=g.status;let k=function(A){const E=Ce[A];if(E!==void 0)return Kx(E)}(b),C=g.message;k===void 0&&(k=T.INTERNAL,C="Unknown error status: "+b+" with message "+g.message),h=!0,d.eo(new $(k,C)),c.close()}else M("Connection","WebChannel received:",x),d.no(x)}}),p(s,tN.STAT_EVENT,m=>{m.stat===pv.PROXY?M("Connection","Detected buffering proxy"):m.stat===pv.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.Zr()},0),d}}function Dd(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){return new tR(t,!0)}class sk{constructor(e,n,r=1e3,o=1.5,i=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=o,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,n-r);o>0&&M("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,o,i,s,a,l){this.js=e,this.Ao=r,this.Ro=o,this.bo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new sk(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===n&&this.Uo(r,o)},r=>{e(()=>{const o=new $(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qR extends ak{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.wt=i}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=oR(this.wt,e),r=function(o){if(!("targetChange"in o))return G.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?G.min():i.readTime?Pn(i.readTime):G.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=uf(this.wt),n.addTarget=function(o,i){let s;const a=i.target;return s=sf(a)?{documents:aR(o,a)}:{query:lR(o,a)},s.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?s.resumeToken=Zx(o,i.resumeToken):i.snapshotVersion.compareTo(G.min())>0&&(s.readTime=Dc(o,i.snapshotVersion.toTimestamp())),s}(this.wt,e);const r=uR(this.wt,e);r&&(n.labels=r),this.Mo(n)}jo(e){const n={};n.database=uf(this.wt),n.removeTarget=e,this.Mo(n)}}class GR extends ak{constructor(e,n,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=sR(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.Jo(r,n)}return de(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=uf(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iR(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new $(T.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.bo.ro(e,n,r,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(T.UNKNOWN,o.toString())})}ao(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.bo.ao(e,n,r,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(T.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class XR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(kr(n),this.su=!1):M("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,o,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(s=>{r.enqueueAndForget(async()=>{xo(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=q(a);l.lu.add(4),await Pa(l),l._u.set("Unknown"),l.lu.delete(4),await Nu(l)}(this))})}),this._u=new XR(r,o)}}async function Nu(t){if(xo(t))for(const e of t.fu)await e(!0)}async function Pa(t){for(const e of t.fu)await e(!1)}function lk(t,e){const n=q(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),km(n)?xm(n):Li(n).Co()&&wm(n,e))}function ck(t,e){const n=q(t),r=Li(n);n.hu.delete(e),r.Co()&&uk(n,e),n.hu.size===0&&(r.Co()?r.ko():xo(n)&&n._u.set("Unknown"))}function wm(t,e){t.wu.Nt(e.targetId),Li(t).Qo(e)}function uk(t,e){t.wu.Nt(e),Li(t).jo(e)}function xm(t){t.wu=new JN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),Li(t).start(),t._u.iu()}function km(t){return xo(t)&&!Li(t).Do()&&t.hu.size>0}function xo(t){return q(t).lu.size===0}function dk(t){t.wu=void 0}async function JR(t){t.hu.forEach((e,n)=>{wm(t,e)})}async function ZR(t,e){dk(t),km(t)?(t._u.uu(e),xm(t)):t._u.set("Unknown")}async function eA(t,e,n){if(t._u.set("Online"),e instanceof Jx&&e.state===2&&e.cause)try{await async function(r,o){const i=o.cause;for(const s of o.targetIds)r.hu.has(s)&&(await r.remoteSyncer.rejectListen(s,i),r.hu.delete(s),r.wu.removeTarget(s))}(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oc(t,r)}else if(e instanceof zl?t.wu.Ut(e):e instanceof Yx?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(G.min()))try{const r=await ik(t.localStore);n.compareTo(r)>=0&&await function(o,i){const s=o.wu.Yt(i);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=o.hu.get(l);c&&o.hu.set(l,c.withResumeToken(a.resumeToken,i))}}),s.targetMismatches.forEach(a=>{const l=o.hu.get(a);if(!l)return;o.hu.set(a,l.withResumeToken(Ze.EMPTY_BYTE_STRING,l.snapshotVersion)),uk(o,a);const c=new Xr(l.target,a,1,l.sequenceNumber);wm(o,c)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){M("RemoteStore","Failed to raise snapshot:",r),await Oc(t,r)}}async function Oc(t,e,n){if(!Ia(e))throw e;t.lu.add(1),await Pa(t),t._u.set("Offline"),n||(n=()=>ik(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Nu(t)})}function hk(t,e){return e().catch(n=>Oc(t,n,e))}async function Ru(t){const e=q(t),n=Sr(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;tA(e);)try{const o=await FR(e.localStore,r);if(o===null){e.au.length===0&&n.ko();break}r=o.batchId,nA(e,o)}catch(o){await Oc(e,o)}fk(e)&&pk(e)}function tA(t){return xo(t)&&t.au.length<10}function nA(t,e){t.au.push(e);const n=Sr(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function fk(t){return xo(t)&&!Sr(t).Do()&&t.au.length>0}function pk(t){Sr(t).start()}async function rA(t){Sr(t).Xo()}async function oA(t){const e=Sr(t);for(const n of t.au)e.Ho(n.mutations)}async function iA(t,e,n){const r=t.au.shift(),o=gm.from(r,e,n);await hk(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Ru(t)}async function sA(t,e){e&&Sr(t).zo&&await async function(n,r){if(o=r.code,qN(o)&&o!==T.ABORTED){const i=n.au.shift();Sr(n).No(),await hk(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Ru(n)}var o}(t,e),fk(t)&&pk(t)}async function Uv(t,e){const n=q(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=xo(n);n.lu.add(3),await Pa(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Nu(n)}async function aA(t,e){const n=q(t);e?(n.lu.delete(2),await Nu(n)):e||(n.lu.add(2),await Pa(n),n._u.set("Unknown"))}function Li(t){return t.mu||(t.mu=function(e,n,r){const o=q(e);return o.tu(),new qR(n,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(t.datastore,t.asyncQueue,{zr:JR.bind(null,t),Jr:ZR.bind(null,t),Go:eA.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),km(t)?xm(t):t._u.set("Unknown")):(await t.mu.stop(),dk(t))})),t.mu}function Sr(t){return t.gu||(t.gu=function(e,n,r){const o=q(e);return o.tu(),new GR(n,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(t.datastore,t.asyncQueue,{zr:rA.bind(null,t),Jr:sA.bind(null,t),Yo:oA.bind(null,t),Jo:iA.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await Ru(t)):(await t.gu.stop(),t.au.length>0&&(M("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new Em(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Ia(t))return new $(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=as(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new ni(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ni;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.yu=new Ue(U.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):K():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class yi{constructor(e,n,r,o,i,s,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,o){const i=[];return n.forEach(s=>{i.push({type:0,doc:s})}),new yi(e,n,ni.emptySet(n),i,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.Iu=void 0,this.listeners=[]}}class cA{constructor(){this.queries=new Oi(e=>Lx(e),_u),this.onlineState="Unknown",this.Tu=new Set}}async function mk(t,e){const n=q(t),r=e.query;let o=!1,i=n.queries.get(r);if(i||(o=!0,i=new lA),o)try{i.Iu=await n.onListen(r)}catch(s){const a=_m(s,`Initialization of query '${af(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Eu(n.onlineState),i.Iu&&e.Au(i.Iu)&&Sm(n)}async function gk(t,e){const n=q(t),r=e.query;let o=!1;const i=n.queries.get(r);if(i){const s=i.listeners.indexOf(e);s>=0&&(i.listeners.splice(s,1),o=i.listeners.length===0)}if(o)return n.queries.delete(r),n.onUnlisten(r)}function uA(t,e){const n=q(t);let r=!1;for(const o of e){const i=o.query,s=n.queries.get(i);if(s){for(const a of s.listeners)a.Au(o)&&(r=!0);s.Iu=o}}r&&Sm(n)}function dA(t,e,n){const r=q(t),o=r.queries.get(e);if(o)for(const i of o.listeners)i.onError(n);r.queries.delete(e)}function Sm(t){t.Tu.forEach(e=>{e.next()})}class vk{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new yi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=yi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.key=e}}class bk{constructor(e){this.key=e}}class hA{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Y(),this.mutatedKeys=Y(),this.Lu=$x(e),this.Uu=new ni(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new Fv,o=n?n.Uu:this.Uu;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((u,h)=>{const d=o.get(u),p=pm(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;d&&p?d.data.isEqual(p.data)?m!==w&&(r.track({type:3,doc:p}),x=!0):this.Qu(d,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.Lu(p,l)>0||c&&this.Lu(p,c)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),x=!0):d&&!p&&(r.track({type:1,doc:d}),x=!0,(l||c)&&(a=!0)),x&&(p?(s=s.add(p),i=w?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Uu:s,Gu:r,Oi:a,mutatedKeys:i}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort((c,u)=>function(h,d){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return p(h)-p(d)}(c.type,u.type)||this.Lu(c.doc,u.doc)),this.ju(r);const s=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,l=a!==this.$u;return this.$u=a,i.length!==0||l?{snapshot:new yi(this.query,e.Uu,o,i,e.mutatedKeys,a===0,l,!1),zu:s}:{zu:s}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Fv,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Y(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new bk(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new yk(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=Y();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return yi.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class fA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pA{constructor(e){this.key=e,this.Xu=!1}}class mA{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Zu={},this.tc=new Oi(a=>Lx(a),_u),this.ec=new Map,this.nc=new Set,this.sc=new Ue(U.comparator),this.ic=new Map,this.rc=new vm,this.oc={},this.uc=new Map,this.cc=vi.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function gA(t,e){const n=CA(t);let r,o;const i=n.tc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),o=i.view.Yu();else{const s=await zR(n.localStore,fo(e));n.isPrimaryClient&&lk(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,o=await vA(n,e,r,a==="current")}return o}async function vA(t,e,n,r){t.hc=(u,h,d)=>async function(p,m,w,x){let y=m.view.Ku(w);y.Oi&&(y=await Lv(p.localStore,m.query,!1).then(({documents:k})=>m.view.Ku(k,y)));const g=x&&x.targetChanges.get(m.targetId),b=m.view.applyChanges(y,p.isPrimaryClient,g);return jv(p,m.targetId,b.zu),b.snapshot}(t,u,h,d);const o=await Lv(t.localStore,e,!0),i=new hA(e,o.ji),s=i.Ku(o.documents),a=Aa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=i.applyChanges(s,t.isPrimaryClient,a);jv(t,n,l.zu);const c=new fA(e,n,i);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),l.snapshot}async function yA(t,e){const n=q(t),r=n.tc.get(e),o=n.ec.get(r.targetId);if(o.length>1)return n.ec.set(r.targetId,o.filter(i=>!_u(i,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await df(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ck(n.remoteStore,r.targetId),hf(n,r.targetId)}).catch(Ta)):(hf(n,r.targetId),await df(n.localStore,r.targetId,!0))}async function bA(t,e,n){const r=TA(t);try{const o=await function(i,s){const a=q(i),l=$e.now(),c=s.reduce((d,p)=>d.add(p.key),Y());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=Fn(),m=Y();return a.Ui.getEntries(d,c).next(w=>{p=w,p.forEach((x,y)=>{y.isValidDocument()||(m=m.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,p)).next(w=>{u=w;const x=[];for(const y of s){const g=HN(y,u.get(y.key).overlayedDocument);g!=null&&x.push(new Dr(y.key,g,Rx(g.value.mapValue),wn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,x,s)}).next(w=>{h=w;const x=w.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(d,w.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Gx(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(i,s,a){let l=i.oc[i.currentUser.toKey()];l||(l=new Ue(re)),l=l.insert(s,a),i.oc[i.currentUser.toKey()]=l}(r,o.batchId,n),await Da(r,o.changes),await Ru(r.remoteStore)}catch(o){const i=_m(o,"Failed to persist write");n.reject(i)}}async function wk(t,e){const n=q(t);try{const r=await MR(n.localStore,e);e.targetChanges.forEach((o,i)=>{const s=n.ic.get(i);s&&(de(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.Xu=!0:o.modifiedDocuments.size>0?de(s.Xu):o.removedDocuments.size>0&&(de(s.Xu),s.Xu=!1))}),await Da(n,r,e)}catch(r){await Ta(r)}}function zv(t,e,n){const r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.tc.forEach((i,s)=>{const a=s.view.Eu(e);a.snapshot&&o.push(a.snapshot)}),function(i,s){const a=q(i);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Eu(s)&&(l=!0)}),l&&Sm(a)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wA(t,e,n){const r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.ic.get(e),i=o&&o.key;if(i){let s=new Ue(U.comparator);s=s.insert(i,Ge.newNoDocument(i,G.min()));const a=Y().add(i),l=new Tu(G.min(),new Map,new Me(re),s,a);await wk(r,l),r.sc=r.sc.remove(i),r.ic.delete(e),Cm(r)}else await df(r.localStore,e,!1).then(()=>hf(r,e,n)).catch(Ta)}async function xA(t,e){const n=q(t),r=e.batch.batchId;try{const o=await $R(n.localStore,e);kk(n,r,null),xk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Da(n,o)}catch(o){await Ta(o)}}async function kA(t,e,n){const r=q(t);try{const o=await function(i,s){const a=q(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(de(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);kk(r,e,n),xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Da(r,o)}catch(o){await Ta(o)}}function xk(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function kk(t,e,n){const r=q(t);let o=r.oc[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||Ek(t,r)})}function Ek(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(ck(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),Cm(t))}function jv(t,e,n){for(const r of n)r instanceof yk?(t.rc.addReference(r.key,e),EA(t,r)):r instanceof bk?(M("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||Ek(t,r.key)):K()}function EA(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(M("SyncEngine","New document in limbo: "+n),t.nc.add(r),Cm(t))}function Cm(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new U(pe.fromString(e)),r=t.cc.next();t.ic.set(r,new pA(n)),t.sc=t.sc.insert(n,r),lk(t.remoteStore,new Xr(fo(fm(n.path)),r,2,cm.ot))}}async function Da(t,e,n){const r=q(t),o=[],i=[],s=[];r.tc.isEmpty()||(r.tc.forEach((a,l)=>{s.push(r.hc(l,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),o.push(c);const u=bm.Vi(l.targetId,c);i.push(u)}}))}),await Promise.all(s),r.Zu.Go(o),await async function(a,l){const c=q(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>R.forEach(l,h=>R.forEach(h.Pi,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>R.forEach(h.vi,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!Ia(u))throw u;M("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const d=c.$i.get(h),p=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(p);c.$i=c.$i.insert(h,m)}}}(r.localStore,i))}async function _A(t,e){const n=q(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=await ok(n.localStore,e);n.currentUser=e,function(o,i){o.uc.forEach(s=>{s.forEach(a=>{a.reject(new $(T.CANCELLED,i))})}),o.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Da(n,r.Ki)}}function SA(t,e){const n=q(t),r=n.ic.get(e);if(r&&r.Xu)return Y().add(r.key);{let o=Y();const i=n.ec.get(e);if(!i)return o;for(const s of i){const a=n.tc.get(s);o=o.unionWith(a.view.qu)}return o}}function CA(t){const e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wA.bind(null,e),e.Zu.Go=uA.bind(null,e.eventManager),e.Zu.lc=dA.bind(null,e.eventManager),e}function TA(t){const e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kA.bind(null,e),e}class IA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=Iu(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return LR(this.persistence,new DR,e.initialUser,this.wt)}_c(e){return new AR(ym.Ms,this.wt)}dc(e){return new BR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_A.bind(null,this.syncEngine),await aA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cA}createDatastore(e){const n=Iu(e.databaseInfo.databaseId),r=(o=e.databaseInfo,new KR(o));var o;return function(i,s,a,l){return new QR(i,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,i=a=>zv(this.syncEngine,a,0),s=Mv.V()?new Mv:new VR,new YR(n,r,o,i,s);var n,r,o,i,s}createSyncEngine(e,n){return function(r,o,i,s,a,l,c){const u=new mA(r,o,i,s,a,l);return c&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=q(e);M("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Pa(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=xt.UNAUTHENTICATED,this.clientId=Cx.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{M("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(M("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_m(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function AA(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await ok(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function PA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DA(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(o=>Uv(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,i)=>Uv(e.remoteStore,i)),t.onlineComponents=e}async function DA(t){return t.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),await AA(t,new IA)),t.offlineComponents}async function Sk(t){return t.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),await PA(t,new NA)),t.onlineComponents}function OA(t){return Sk(t).then(e=>e.syncEngine)}async function Ck(t){const e=await Sk(t),n=e.eventManager;return n.onListen=gA.bind(null,e.syncEngine),n.onUnlisten=yA.bind(null,e.syncEngine),n}function LA(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,s,a,l){const c=new _k({next:h=>{i.enqueueAndForget(()=>gk(o,u));const d=h.docs.has(s);!d&&h.fromCache?l.reject(new $(T.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new $(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new vk(fm(s.path),c,{includeMetadataChanges:!0,Du:!0});return mk(o,u)}(await Ck(t),t.asyncQueue,e,n,r)),r.promise}function $A(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,s,a,l){const c=new _k({next:h=>{i.enqueueAndForget(()=>gk(o,u)),h.fromCache&&a.source==="server"?l.reject(new $(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new vk(s,c,{includeMetadataChanges:!0,Du:!0});return mk(o,u)}(await Ck(t),t.asyncQueue,e,n,r)),r.promise}const Bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e,n){if(!n)throw new $(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MA(t,e,n,r){if(e===!0&&r===!0)throw new $(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vv(t){if(!U.isDocumentKey(t))throw new $(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hv(t){if(U.isDocumentKey(t))throw new $(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Au(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Au(t);throw new $(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,MA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,e instanceof pi?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new $(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pi(o.options.projectId)}(e))}get app(){if(!this._app)throw new $(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new iN;switch(n.type){case"gapi":const r=n.client;return de(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new lN(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new $(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Bv.get(e);n&&(M("ComponentProvider","Removing Datastore"),Bv.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}}class Oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class vr extends Oa{constructor(e,n,r){super(e,n,fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new U(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function Kv(t,e,...n){if(t=Se(t),Tk("collection","path",e),t instanceof Tm){const r=pe.fromString(e,...n);return Hv(r),new vr(t,null,r)}{if(!(t instanceof gt||t instanceof vr))throw new $(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Hv(r),new vr(t.firestore,null,r)}}function rt(t,e,...n){if(t=Se(t),arguments.length===1&&(e=Cx.I()),Tk("doc","path",e),t instanceof Tm){const r=pe.fromString(e,...n);return Vv(r),new gt(t,null,new U(r))}{if(!(t instanceof gt||t instanceof vr))throw new $(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Vv(r),new gt(t.firestore,t instanceof vr?t.converter:null,new U(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new sk(this,"async_queue_retry"),this.Kc=()=>{const n=Dd();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Dd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Dd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new An;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Ia(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const o=function(i){let s=i.message||"";return i.stack&&(s=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),s}(r);throw kr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const o=Em.createAndSchedule(this,e,n,r,i=>this.Wc(i));return this.$c.push(o),o}Gc(){this.Bc&&K()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class La extends Tm{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new UA,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ik(this),this._firestoreClient.terminate()}}function FA(t=Ip()){return iu(t,"firestore").getImmediate()}function Im(t){return t._firestoreClient||Ik(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ik(t){var e;const n=t._freezeSettings(),r=function(o,i,s,a){return new bN(o,i,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new RA(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bi(Ze.fromBase64String(e))}catch(n){throw new $(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bi(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=/^__.*__$/;class jA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ra(e,this.data,n,this.fieldTransforms)}}class Nk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Rk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Ou{constructor(e,n,r,o,i,s){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=o,i===void 0&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Lc(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(Rk(this.Zc)&&zA.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class BA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||Iu(e)}aa(e,n,r,o=!1){return new Ou({Zc:e,methodName:n,ca:r,path:it.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Rm(t){const e=t._freezeSettings(),n=Iu(t._databaseId);return new BA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VA(t,e,n,r,o,i={}){const s=t.aa(i.merge||i.mergeFields?2:0,e,n,o);Am("Data must be an object, but it was:",s,r);const a=Ak(r,s);let l,c;if(i.merge)l=new qt(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=ff(e,h,n);if(!s.contains(d))throw new $(T.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Dk(u,d)||u.push(d)}l=new qt(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new jA(new Ct(a),l,c)}class Lu extends Du{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lu}}function HA(t,e,n){return new Ou({Zc:3,ca:e.settings.ca,methodName:t._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class WA extends Du{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=HA(this,e,!0),r=this.ha.map(i=>$i(i,n)),o=new gi(r);return new zN(e.path,o)}isEqual(e){return this===e}}function KA(t,e,n,r){const o=t.aa(1,e,n);Am("Data must be an object, but it was:",o,r);const i=[],s=Ct.empty();wo(r,(l,c)=>{const u=Pm(e,l,n);c=Se(c);const h=o.ia(u);if(c instanceof Lu)i.push(u);else{const d=$i(c,h);d!=null&&(i.push(u),s.set(u,d))}});const a=new qt(i);return new Nk(s,a,o.fieldTransforms)}function qA(t,e,n,r,o,i){const s=t.aa(1,e,n),a=[ff(e,r,n)],l=[o];if(i.length%2!=0)throw new $(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(ff(e,i[d])),l.push(i[d+1]);const c=[],u=Ct.empty();for(let d=a.length-1;d>=0;--d)if(!Dk(c,a[d])){const p=a[d];let m=l[d];m=Se(m);const w=s.ia(p);if(m instanceof Lu)c.push(p);else{const x=$i(m,w);x!=null&&(c.push(p),u.set(p,x))}}const h=new qt(c);return new Nk(u,h,s.fieldTransforms)}function GA(t,e,n,r=!1){return $i(n,t.aa(r?4:3,e))}function $i(t,e){if(Pk(t=Se(t)))return Am("Unsupported field value:",e,t),Ak(t,e);if(t instanceof Du)return function(n,r){if(!Rk(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const o=[];let i=0;for(const s of n){let a=$i(s,r.ra(i));a==null&&(a={nullValue:"NULL_VALUE"}),o.push(a),i++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if((n=Se(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return MN(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=$e.fromDate(n);return{timestampValue:Dc(r.wt,o)}}if(n instanceof $e){const o=new $e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Dc(r.wt,o)}}if(n instanceof Nm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bi)return{bytesValue:Zx(r.wt,n._byteString)};if(n instanceof gt){const o=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(o))throw r.oa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${Au(n)}`)}(t,e)}function Ak(t,e){const n={};return Tx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,o)=>{const i=$i(o,e.ea(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Pk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Nm||t instanceof bi||t instanceof gt||t instanceof Du)}function Am(t,e,n){if(!Pk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Au(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function ff(t,e,n){if((e=Se(e))instanceof Pu)return e._internalPath;if(typeof e=="string")return Pm(t,e);throw Lc("Field path arguments must be of type string or ",t,!1,void 0,n)}const QA=new RegExp("[~\\*/\\[\\]]");function Pm(t,e,n){if(e.search(QA)>=0)throw Lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pu(...e.split("."))._internalPath}catch{throw Lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lc(t,e,n,r,o){const i=r&&!r.isEmpty(),s=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new $(T.INVALID_ARGUMENT,a+t+l)}function Dk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XA extends Ok{data(){return super.data()}}function Dm(t,e){return typeof e=="string"?Pm(t,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lk extends Ok{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jl extends Lk{data(e={}){return super.data(e)}}class YA{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ls(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jl(this._firestore,this._userDataWriter,r.key,r,new ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new jl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new ls(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:i++}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const a=new jl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new ls(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return s.type!==0&&(l=i.indexOf(s.doc.key),i=i.delete(s.doc.key)),s.type!==1&&(i=i.add(s.doc),c=i.indexOf(s.doc.key)),{type:JA(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eP{}function qv(t,...e){for(const n of e)t=n._apply(t);return t}class tP extends eP{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=Rm(e.firestore),r=function(o,i,s,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Xv(u,c);const p=[];for(const m of u)p.push(Qv(a,o,m));h={arrayValue:{values:p}}}else h=Qv(a,o,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Xv(u,c),h=GA(s,i,u,c==="in"||c==="not-in");const d=pt.create(l,c,h);return function(p,m){if(m.ht()){const x=Dx(p);if(x!==null&&!x.isEqual(m.field))throw new $(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${x.toString()}' and '${m.field.toString()}'`);const y=Px(p);y!==null&&nP(p,m.field,y)}const w=function(x,y){for(const g of x.filters)if(y.indexOf(g.op)>=0)return g.op;return null}(p,function(x){switch(x){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(w!==null)throw w===m.op?new $(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new $(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${w.toString()}' filters.`)}(o,d),d}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new Oa(e.firestore,e.converter,function(o,i){const s=o.filters.concat([i]);return new Na(o.path,o.collectionGroup,o.explicitOrderBy.slice(),s,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}function Gv(t,e,n){const r=e,o=Dm("where",t);return new tP(o,r,n)}function Qv(t,e,n){if(typeof(n=Se(n))=="string"){if(n==="")throw new $(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ox(e)&&n.indexOf("/")!==-1)throw new $(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!U.isDocumentKey(r))throw new $(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xv(t,new U(r))}if(n instanceof gt)return xv(t,n._key);throw new $(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Au(n)}.`)}function Xv(t,e){if(!Array.isArray(t)||t.length===0)throw new $(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new $(T.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function nP(t,e,n){if(!n.isEqual(e))throw new $(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){const r={};return wo(e.fields,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Nm(Te(e.latitude),Te(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=_r(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);de(rk(r));const o=new pi(r.get(1),r.get(3)),i=new U(r.popFirst(5));return o.isEqual(n)||kr(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){t=Cr(t,gt);const e=Cr(t.firestore,La);return LA(Im(e),t._key).then(n=>iP(e,t,n))}class $k extends rP{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Yv(t){t=Cr(t,Oa);const e=Cr(t.firestore,La),n=Im(e),r=new $k(e);return ZA(t._query),$A(n,t._query).then(o=>new YA(e,r,t,o))}function Bl(t,e,n){t=Cr(t,gt);const r=Cr(t.firestore,La),o=oP(t.converter,e,n);return Mk(r,[VA(Rm(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,wn.none())])}function or(t,e,n,...r){t=Cr(t,gt);const o=Cr(t.firestore,La),i=Rm(o);let s;return s=typeof(e=Se(e))=="string"||e instanceof Pu?qA(i,"updateDoc",t._key,e,n,r):KA(i,"updateDoc",t._key,e),Mk(o,[s.toMutation(t._key,wn.exists(!0))])}function Mk(t,e){return function(n,r){const o=new An;return n.asyncQueue.enqueueAndForget(async()=>bA(await OA(n),r,o)),o.promise}(Im(t),e)}function iP(t,e,n){const r=n.docs.get(e._key),o=new $k(t);return new Lk(t,o,e._key,r,new ls(n.hasPendingWrites,n.fromCache),e.converter)}function ri(...t){return new WA("arrayUnion",t)}(function(t,e=!0){(function(n){Di=n})(Ti),oo(new xr("firestore",(n,{options:r})=>{const o=n.getProvider("app").getImmediate(),i=new La(o,new sN(n.getProvider("auth-internal")),new uN(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),i._setSettings(r),i},"PUBLIC")),vn(mv,"3.4.10",t),vn(mv,"3.4.10","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebasestorage.googleapis.com",Fk="storageBucket",sP=2*60*1e3,aP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke extends Rr{constructor(e,n){super(Od(e),`Firebase Storage: ${n} (${Od(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ke.prototype)}_codeEquals(e){return Od(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Od(t){return"storage/"+t}function Om(){const t="An unknown error occurred, please check the error payload for server response.";return new ke("unknown",t)}function lP(t){return new ke("object-not-found","Object '"+t+"' does not exist.")}function cP(t){return new ke("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uP(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ke("unauthenticated",t)}function dP(){return new ke("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function hP(t){return new ke("unauthorized","User does not have permission to access '"+t+"'.")}function fP(){return new ke("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function zk(){return new ke("canceled","User canceled the upload/download.")}function pP(t){return new ke("invalid-url","Invalid URL '"+t+"'.")}function mP(t){return new ke("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function gP(){return new ke("no-default-bucket","No default bucket found. Did you set the '"+Fk+"' property when initializing the app?")}function jk(){return new ke("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vP(){return new ke("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function yP(){return new ke("no-download-url","The given file does not have any download URLs.")}function pf(t){return new ke("invalid-argument",t)}function Bk(){return new ke("app-deleted","The Firebase app was deleted.")}function bP(t){return new ke("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ts(t,e){return new ke("invalid-format","String does not match format '"+t+"': "+e)}function Ji(t){throw new ke("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dt.makeFromUrl(e,n)}catch{return new Dt(e,"")}if(r.path==="")return r;throw mP(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${o}/o${d}`,"i"),m={bucket:1,path:3},w=n===Uk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",y=new RegExp(`^https?://${w}/${o}/${x}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<b.length;k++){const C=b[k],A=C.regex.exec(e);if(A){const E=A[C.indices.bucket];let S=A[C.indices.path];S||(S=""),r=new Dt(E,S),C.postModify(r);break}}if(r==null)throw pP(e);return r}}class wP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t,e,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function h(x){o=setTimeout(()=>{o=null,t(p,l())},x)}function d(){i&&clearTimeout(i)}function p(x,...y){if(c){d();return}if(x){d(),u.call(null,x,...y);return}if(l()||s){d(),u.call(null,x,...y);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let m=!1;function w(x){m||(m=!0,d(),!c&&(o!==null?(x||(a=2),clearTimeout(o),h(0)):x||(a=1)))}return h(0),i=setTimeout(()=>{s=!0,w(!0)},n),w}function kP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){return t!==void 0}function _P(t){return typeof t=="function"}function SP(t){return typeof t=="object"&&!Array.isArray(t)}function $u(t){return typeof t=="string"||t instanceof String}function Jv(t){return Lm()&&t instanceof Blob}function Lm(){return typeof Blob!="undefined"}function Zv(t,e,n,r){if(r<e)throw pf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Vk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yr||(Yr={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,o,i,s,a,l,c,u,h){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,p)=>{this.resolve_=d,this.reject_=p,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new fl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===Yr.NO_ERROR,l=i.getStatus();if(!a||this.isRetryStatusCode_(l)){const u=i.getErrorCode()===Yr.ABORT;r(!1,new fl(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new fl(c,i))})},n=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());EP(l)?i(l):i()}catch(l){s(l)}else if(a!==null){const l=Om();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(o.canceled){const l=this.appDelete_?Bk():zk();s(l)}else{const l=fP();s(l)}};this.canceled_?n(!1,new fl(!1,null,!0)):this.backoffId_=xP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,i=this.additionalRetryCodes_.indexOf(e)!==-1;return n||o||i}}class fl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function NP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function AP(t,e,n,r,o,i){const s=Vk(t.urlParams),a=t.url+s,l=Object.assign({},t.headers);return NP(l,e),TP(l,n),IP(l,i),RP(l,r),new CP(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function DP(...t){const e=PP();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Lm())return new Blob(t);throw new ke("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function OP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ld{constructor(e,n){this.data=e,this.contentType=n||null}}function $P(t,e){switch(t){case pn.RAW:return new Ld(Hk(e));case pn.BASE64:case pn.BASE64URL:return new Ld(Wk(t,e));case pn.DATA_URL:return new Ld(UP(e),FP(e))}throw Om()}function Hk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,s=t.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MP(t){let e;try{e=decodeURIComponent(t)}catch{throw Ts(pn.DATA_URL,"Malformed data URL.")}return Hk(e)}function Wk(t,e){switch(t){case pn.BASE64:{const o=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(o||i)throw Ts(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pn.BASE64URL:{const o=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(o||i)throw Ts(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=LP(e)}catch{throw Ts(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Kk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ts(pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zP(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function UP(t){const e=new Kk(t);return e.base64?Wk(pn.BASE64,e.rest):MP(e.rest)}function FP(t){return new Kk(t).contentType}function zP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){let r=0,o="";Jv(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Jv(this.data_)){const r=this.data_,o=OP(r,e,n);return o===null?null:new ir(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ir(r,!0)}}static getBlob(...e){if(Lm()){const n=e.map(r=>r instanceof ir?r.data_:r);return new ir(DP.apply(null,n))}else{const n=e.map(s=>$u(s)?$P(pn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const o=new Uint8Array(r);let i=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)o[i++]=s[a]}),new ir(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){let e;try{e=JSON.parse(t)}catch{return null}return SP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BP(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Gk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e){return e}class ct{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||VP}}let pl=null;function HP(t){return!$u(t)||t.length<2?t:Gk(t)}function Qk(){if(pl)return pl;const t=[];t.push(new ct("bucket")),t.push(new ct("generation")),t.push(new ct("metageneration")),t.push(new ct("name","fullPath",!0));function e(i,s){return HP(s)}const n=new ct("name");n.xform=e,t.push(n);function r(i,s){return s!==void 0?Number(s):s}const o=new ct("size");return o.xform=r,t.push(o),t.push(new ct("timeCreated")),t.push(new ct("updated")),t.push(new ct("md5Hash",null,!0)),t.push(new ct("cacheControl",null,!0)),t.push(new ct("contentDisposition",null,!0)),t.push(new ct("contentEncoding",null,!0)),t.push(new ct("contentLanguage",null,!0)),t.push(new ct("contentType",null,!0)),t.push(new ct("metadata","customMetadata",!0)),pl=t,pl}function WP(t,e){function n(){const r=t.bucket,o=t.fullPath,i=new Dt(r,o);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function KP(t,e,n){const r={};r.type="file";const o=n.length;for(let i=0;i<o;i++){const s=n[i];r[s.local]=s.xform(r,e[s.server])}return WP(r,t),r}function Xk(t,e,n){const r=qk(e);return r===null?null:KP(t,r,n)}function qP(t,e,n,r){const o=qk(e);if(o===null||!$u(o.downloadTokens))return null;const i=o.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+s(u)+"/o/"+s(h),p=$a(d,n,r),m=Vk({alt:"media",token:c});return p+m})[0]}function Yk(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Mi{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){if(!t)throw Om()}function $m(t,e){function n(r,o){const i=Xk(t,o,e);return Dn(i!==null),i}return n}function GP(t,e){function n(r,o){const i=Xk(t,o,e);return Dn(i!==null),qP(i,o,t.host,t._protocol)}return n}function Ma(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=dP():o=uP():n.getStatus()===402?o=cP(t.bucket):n.getStatus()===403?o=hP(t.path):o=r,o.serverResponse=r.serverResponse,o}return e}function Jk(t){const e=Ma(t);function n(r,o){let i=e(r,o);return r.getStatus()===404&&(i=lP(t.path)),i.serverResponse=o.serverResponse,i}return n}function QP(t,e,n){const r=e.fullServerUrl(),o=$a(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new Mi(o,i,$m(t,n),s);return a.errorHandler=Jk(e),a}function XP(t,e,n){const r=e.fullServerUrl(),o=$a(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new Mi(o,i,GP(t,n),s);return a.errorHandler=Jk(e),a}function YP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Zk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=YP(null,e)),r}function JP(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let k=0;k<2;k++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=Zk(e,r,o),u=Yk(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=ir.getBlob(h,r,d);if(p===null)throw jk();const m={name:c.fullPath},w=$a(i,t.host,t._protocol),x="POST",y=t.maxUploadRetryTime,g=new Mi(w,x,$m(t,n),y);return g.urlParams=m,g.headers=s,g.body=p.uploadData(),g.errorHandler=Ma(e),g}class $c{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function Mm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Dn(!1)}return Dn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function ZP(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s=Zk(e,r,o),a={name:s.fullPath},l=$a(i,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=Yk(s,n),d=t.maxUploadRetryTime;function p(w){Mm(w);let x;try{x=w.getResponseHeader("X-Goog-Upload-URL")}catch{Dn(!1)}return Dn($u(x)),x}const m=new Mi(l,c,p,d);return m.urlParams=a,m.headers=u,m.body=h,m.errorHandler=Ma(e),m}function eD(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function i(c){const u=Mm(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Dn(!1)}h||Dn(!1);const d=Number(h);return Dn(!isNaN(d)),new $c(d,r.size(),u==="final")}const s="POST",a=t.maxUploadRetryTime,l=new Mi(n,s,i,a);return l.headers=o,l.errorHandler=Ma(e),l}const ey=256*1024;function tD(t,e,n,r,o,i,s,a){const l=new $c(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw vP();const c=l.total-l.current;let u=c;o>0&&(u=Math.min(u,o));const h=l.current,d=h+u,m={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,d);if(w===null)throw jk();function x(k,C){const A=Mm(k,["active","final"]),E=l.current+u,S=r.size();let F;return A==="final"?F=$m(e,i)(k,C):F=null,new $c(E,S,A==="final",F)}const y="POST",g=e.maxUploadRetryTime,b=new Mi(n,y,x,g);return b.headers=m,b.body=w.uploadData(),b.progressCallback=a||null,b.errorHandler=Ma(t),b}const kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $d(t){switch(t){case"running":case"pausing":case"canceling":return kt.RUNNING;case"paused":return kt.PAUSED;case"success":return kt.SUCCESS;case"canceled":return kt.CANCELED;case"error":return kt.ERROR;default:return kt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r){if(_P(e)||n!=null||r!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=r!=null?r:void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class rD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o){if(this.sent_)throw Ji("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ji("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ji("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ji("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ji("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oD extends rD{initXhr(){this.xhr_.responseType="text"}}function Ao(){return new oD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Qk(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,i)=>{this._resolve=o,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=ZP(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ao,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=eD(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(o,Ao,n,r);this._request=i,i.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ey*this._chunkMultiplier,n=new $c(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,i)=>{let s;try{s=tD(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,Ao,o,i);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ey*this._chunkMultiplier<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=QP(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Ao,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=JP(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ao,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=zk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=$d(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const i=new nD(n||void 0,r||void 0,o||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch($d(this._state)){case kt.SUCCESS:Io(this._resolve.bind(null,this.snapshot))();break;case kt.CANCELED:case kt.ERROR:const n=this._reject;Io(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch($d(this._state)){case kt.RUNNING:case kt.PAUSED:e.next&&Io(e.next.bind(e,this.snapshot))();break;case kt.SUCCESS:e.complete&&Io(e.complete.bind(e))();break;case kt.CANCELED:case kt.ERROR:e.error&&Io(e.error.bind(e,this._error))();break;default:e.error&&Io(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this._service=e,n instanceof Dt?this._location=n:this._location=Dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new po(e,n)}get root(){const e=new Dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gk(this._location.path)}get storage(){return this._service}get parent(){const e=jP(this._location.path);if(e===null)return null;const n=new Dt(this._location.bucket,e);return new po(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bP(e)}}function sD(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new iD(t,new ir(e),n)}function aD(t){t._throwIfRoot("getDownloadURL");const e=XP(t.storage,t._location,Qk());return t.storage.makeRequestWithTokens(e,Ao).then(n=>{if(n===null)throw yP();return n})}function lD(t,e){const n=BP(t._location.path,e),r=new Dt(t._location.bucket,n);return new po(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){return/^[A-Za-z]+:\/\//.test(t)}function uD(t,e){return new po(t,e)}function eE(t,e){if(t instanceof Um){const n=t;if(n._bucket==null)throw gP();const r=new po(n,n._bucket);return e!=null?eE(r,e):r}else return e!==void 0?lD(t,e):t}function dD(t,e){if(e&&cD(e)){if(t instanceof Um)return uD(t,e);throw pf("To use ref(service, url), the first argument must be a Storage instance.")}else return eE(t,e)}function ty(t,e){const n=e==null?void 0:e[Fk];return n==null?null:Dt.makeFromBucketSpec(n,t)}class Um{constructor(e,n,r,o,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=Uk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sP,this._maxUploadRetryTime=aP,this._requests=new Set,o!=null?this._bucket=Dt.makeFromBucketSpec(o,this._host):this._bucket=ty(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dt.makeFromBucketSpec(this._url,e):this._bucket=ty(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new po(this,e)}_makeRequest(e,n,r,o){if(this._deleted)return new wP(Bk());{const i=AP(e,this._appId,r,o,n,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const ny="@firebase/storage",ry="0.9.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="storage";function ml(t,e,n){return t=Se(t),sD(t,e,n)}function gl(t){return t=Se(t),aD(t)}function vl(t,e){return t=Se(t),dD(t,e)}function hD(t=Ip(),e){return t=Se(t),iu(t,tE).getImmediate({identifier:e})}function fD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Um(n,r,o,e,Ti)}function pD(){oo(new xr(tE,fD,"PUBLIC").setMultipleInstances(!0)),vn(ny,ry,""),vn(ny,ry,"esm2017")}pD();const mD={apiKey:"AIzaSyDNkceFTsaR43IwPQ2FFmX6fw1SaiNqNnI",authDomain:"notes-lab-73d2e.firebaseapp.com",projectId:"notes-lab-73d2e",storageBucket:"notes-lab-73d2e.appspot.com",messagingSenderId:"296435744126",appId:"1:296435744126:web:c7d990d76006972adbc72f",measurementId:"G-1P7ES56VVL"},Fm=B3(mD),Fe=FA(Fm),Zi=QT(Fm),yl=hD(Fm),nE=v.exports.createContext();function gD({children:t}){const[e,n]=v.exports.useState({});function r(a,l){return L2(Zi,a,l)}function o(a,l){return O2(Zi,a,l)}function i(a){return m1(Zi.currentUser,{displayName:a})}function s(){return U2(Zi)}return v.exports.useEffect(()=>{const a=M2(Zi,l=>{console.log("Auth",l),n(l)});return()=>{a()}},[]),f(nE.Provider,{value:{user:e,logIn:r,signUp:o,logOut:s,uploadUserName:i},children:t})}function ko(){return v.exports.useContext(nE)}const rE=v.exports.createContext();function vD({children:t}){const{user:e}=ko(),[n,r]=v.exports.useState("https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png"),[o,i]=v.exports.useState([]),[s,a]=v.exports.useState("");async function l(d){const p=vl(yl,`propic/${e.uid}`);alert("changes may take a few minutes to apply"),await ml(p,d);const m=await gl(p);await m1(e,{photoURL:m}),console.log(m),r(m),alert("successfully uploaded profile picutre")}async function c(d,p,m){const w=vl(yl,`uploads/${e.uid}/${d}`);try{await ml(w,m)}catch(y){console.error(y)}const x=await gl(w);try{await or(rt(Fe,"class",p),{materials:ri({title:d,downloadURL:x})})}catch(y){console.error(y)}alert("upload successfull")}async function u(d,p,m,w,x){const y=vl(yl,`works/${e.uid}/${d}`);await ml(y,x);const g=await gl(y);try{await or(rt(Fe,"class",p),{works:ri({title:d,downloadURL:g,type:m,date:w})}),await Bl(rt(Fe,"works",d),{type:m,downloadURL:g,due:w,submitted:[]},{merge:!0})}catch(b){console.error(b)}alert("upload successfull")}async function h(d,p){const m=vl(yl,`submissions/${e.uid}/${d}`);let w="";try{await ml(m,p),w=await gl(m),await or(rt(Fe,"works",d),{submitted:ri({uid:e.uid,downloadURL:w,name:e.displayName,mark:"0"})})}catch(x){console.error(x)}}return f(rE.Provider,{value:{submitWork:h,profilePic:n,setProfilePic:r,uploadMaterial:c,postNewWork:u,uploadProfilePic:l,setUserType:a,userType:s,classList:o,setClassList:i},children:t})}function zt(){return v.exports.useContext(rE)}const oE=v.exports.createContext();function yD({children:t}){const{setUserType:e}=zt(),{user:n}=ko(),{pathname:r}=Ci(),o=r.split("/")[1];function i(m,w){return Bl(rt(Fe,"faculty",w),{name:m,type:"faculty",classes:[]})}function s(m,w,x,y,g){return Bl(rt(Fe,"student",x),{name:m,regNo:w,dept:y,type:"student",classes:[],sem:g})}async function a(m,w){try{return await or(rt(Fe,"faculty",n.uid),{classes:ri(m)}),await Bl(rt(Fe,"class",w),{title:w,code:m,materials:[],students:[],works:[]}),(await hl(rt(Fe,"class",w))).data().code}catch(x){console.error(x)}}async function l(m){const w=qv(Kv(Fe,"class"),Gv("code","==",m)),y=(await Yv(w)).docs[0].data().title;return or(rt(Fe,"student",n.uid),{classes:ri(m)}),or(rt(Fe,"class",y),{students:ri(n.uid)})}async function c(){const m=[];try{const w=await hl(rt(Fe,o,n.uid));e(w.data().type);const{classes:x}=w.data();for(let y of x){const g=qv(Kv(Fe,"class"),Gv("code","==",y)),b=await Yv(g);m.push(b.docs[0].data())}return m}catch(w){console.error(w)}}async function u(m){try{return(await hl(rt(Fe,"works",m))).data().submitted}catch(w){console.error(w)}}async function h(m,w){try{await or(rt(Fe,"works",w),{submitted:[...m]})}catch(x){console.error(x)}}async function d(m){try{const w=await hl(rt(Fe,"works",m)),{submitted:x}=w.data();return x.filter(g=>g.uid===n.uid)[0].mark}catch(w){console.error(w)}}async function p(m,w,x){await or(rt(Fe,"student",n.uid),{regNo:x,dept:m,sem:w})}return f(oE.Provider,{value:{uploadDetails:p,getScore:d,getSubmitted:u,gradeStudents:h,addFaculty:i,addStudent:s,joinClass:l,addClass:a,getClassList:c},children:t})}const Bn=()=>v.exports.useContext(oE);function bD(){const{profilePic:t,setClassList:e}=zt(),{user:n}=ko(),{getClassList:r}=Bn();return v.exports.useEffect(()=>{async function o(){const i=await r();console.log(i),e(i)}o()},[n]),_("div",{id:"prof-flex",children:[f("div",{className:"prof-wrap",children:f("img",{src:(n==null?void 0:n.photoURL)||t,id:"prof-image"})}),f("div",{id:"u-name",children:n.displayName})]})}function wD(){return _("div",{className:"srch-wrap",children:[f("i",{className:"fa-solid fa-search"}),f("input",{onChange:e=>{let n=e.target.value.toLowerCase();const o=document.getElementsByClassName("scroll-wrap")[0].children;for(let i of o){let s=i.attributes.title.nodeValue.toLowerCase().includes(n);i.classList.toggle("d-none",!s)}},type:"text",id:"srch-ip",placeholder:"search"})]})}var Ui=!!(typeof window!="undefined"&&window.document&&window.document.createElement),mf=!1,gf=!1;try{var Md={get passive(){return mf=!0},get once(){return gf=mf=!0}};Ui&&(window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,!0))}catch{}function iE(t,e,n,r){if(r&&typeof r!="boolean"&&!gf){var o=r.once,i=r.capture,s=n;!gf&&o&&(s=n.__once||function a(l){this.removeEventListener(e,a,i),n.call(this,l)},n.__once=s),t.addEventListener(e,s,mf?r:i)}t.addEventListener(e,n,r)}function Mu(t){return t&&t.ownerDocument||document}function vf(t,e,n,r){var o=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,o),n.__once&&t.removeEventListener(e,n.__once,o)}var bl;function oy(t){if((!bl&&bl!==0||t)&&Ui){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),bl=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return bl}function xD(){return v.exports.useState(null)}function kD(t){var e=v.exports.useRef(t);return v.exports.useEffect(function(){e.current=t},[t]),e}function Vt(t){var e=kD(t);return v.exports.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}var iy=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function ED(t,e){var n=iy(t),r=iy(e);return function(o){n&&n(o),r&&r(o)}}function zm(t,e){return v.exports.useMemo(function(){return ED(t,e)},[t,e])}function _D(t){var e=v.exports.useRef(t);return e.current=t,e}function sE(t){var e=_D(t);v.exports.useEffect(function(){return function(){return e.current()}},[])}function SD(t){var e=Mu(t);return e&&e.defaultView||window}function CD(t,e){return SD(t).getComputedStyle(t,e)}var TD=/([A-Z])/g;function ID(t){return t.replace(TD,"-$1").toLowerCase()}var ND=/^ms-/;function wl(t){return ID(t).replace(ND,"-ms-")}var RD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function AD(t){return!!(t&&RD.test(t))}function Jr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(wl(e))||CD(t).getPropertyValue(wl(e));Object.keys(e).forEach(function(o){var i=e[o];!i&&i!==0?t.style.removeProperty(wl(o)):AD(o)?r+=o+"("+i+") ":n+=wl(o)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Mc(t,e,n,r){return iE(t,e,n,r),function(){vf(t,e,n,r)}}function PD(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,r),t.dispatchEvent(o)}}function DD(t){var e=Jr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function OD(t,e,n){n===void 0&&(n=5);var r=!1,o=setTimeout(function(){r||PD(t,"transitionend",!0)},e+n),i=Mc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),i()}}function aE(t,e,n,r){n==null&&(n=DD(t)||0);var o=OD(t,n,r),i=Mc(t,"transitionend",e);return function(){o(),i()}}function Ud(t){t===void 0&&(t=Mu());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function sy(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function LD(){var t=v.exports.useRef(!0),e=v.exports.useRef(function(){return t.current});return v.exports.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function $D(t){var e=v.exports.useRef(null);return v.exports.useEffect(function(){e.current=t}),e.current}const MD="data-rr-ui-",UD="rrUi";function Uu(t){return`${MD}${t}`}function FD(t){return`${UD}${t}`}function zD(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const ay=Uu("modal-open");class jm{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return zD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[r]:o.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Jr(o,r)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(ay,""),Jr(o,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(ay),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const lE=v.exports.createContext(Ui?window:void 0);lE.Provider;function cE(){return v.exports.useContext(lE)}const Fd=(t,e)=>{var n;return Ui?t==null?(e||Mu()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null):null};function jD(t,e){const n=cE(),[r,o]=v.exports.useState(()=>Fd(t,n==null?void 0:n.document));if(!r){const i=Fd(t);i&&o(i)}return v.exports.useEffect(()=>{e&&r&&e(r)},[e,r]),v.exports.useEffect(()=>{const i=Fd(t);i!==r&&o(i)},[t,r]),r}const BD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function VD(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}let zd;function HD(t){return zd||(zd=new jm({ownerDocument:t==null?void 0:t.document})),zd}function WD(t){const e=cE(),n=t||HD(e),r=v.exports.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:v.exports.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:v.exports.useCallback(o=>{r.current.backdrop=o},[])})}const uE=v.exports.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:o,style:i,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:h,backdropTransition:d,autoFocus:p=!0,enforceFocus:m=!0,restoreFocus:w=!0,restoreFocusOptions:x,renderDialog:y,renderBackdrop:g=oe=>f("div",Object.assign({},oe)),manager:b,container:k,onShow:C,onHide:A=()=>{},onExit:E,onExited:S,onExiting:F,onEnter:z,onEntering:se,onEntered:He}=t,bt=VD(t,BD);const wt=jD(k),Pe=WD(b),Eo=LD(),Wn=$D(n),[P,j]=v.exports.useState(!n),V=v.exports.useRef(null);v.exports.useImperativeHandle(e,()=>Pe,[Pe]),Ui&&!Wn&&n&&(V.current=Ud()),!h&&!n&&!P?j(!0):n&&P&&j(!1);const ae=Vt(()=>{if(Pe.add(),cn.current=Mc(document,"keydown",Yt),At.current=Mc(document,"focus",()=>setTimeout(ln),!0),C&&C(),p){const oe=Ud(document);Pe.dialog&&oe&&!sy(Pe.dialog,oe)&&(V.current=oe,Pe.dialog.focus())}}),le=Vt(()=>{if(Pe.remove(),cn.current==null||cn.current(),At.current==null||At.current(),w){var oe;(oe=V.current)==null||oe.focus==null||oe.focus(x),V.current=null}});v.exports.useEffect(()=>{!n||!wt||ae()},[n,wt,ae]),v.exports.useEffect(()=>{!P||le()},[P,le]),sE(()=>{le()});const ln=Vt(()=>{if(!m||!Eo()||!Pe.isTopModal())return;const oe=Ud();Pe.dialog&&oe&&!sy(Pe.dialog,oe)&&Pe.dialog.focus()}),lt=Vt(oe=>{oe.target===oe.currentTarget&&(c==null||c(oe),a===!0&&A())}),Yt=Vt(oe=>{l&&oe.keyCode===27&&Pe.isTopModal()&&(u==null||u(oe),oe.defaultPrevented||A())}),At=v.exports.useRef(),cn=v.exports.useRef(),Ua=(...oe)=>{j(!0),S==null||S(...oe)},ji=h;if(!wt||!(n||ji&&!P))return null;const Fa=Object.assign({role:r,ref:Pe.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},bt,{style:i,className:o,tabIndex:-1});let _o=y?y(Fa):f("div",Object.assign({},Fa,{children:v.exports.cloneElement(s,{role:"document"})}));ji&&(_o=f(ji,{appear:!0,unmountOnExit:!0,in:!!n,onExit:E,onExiting:F,onExited:Ua,onEnter:z,onEntering:se,onEntered:He,children:_o}));let Or=null;if(a){const oe=d;Or=g({ref:Pe.setBackdropRef,onClick:lt}),oe&&(Or=f(oe,{appear:!0,in:!!n,children:Or}))}return f(Re,{children:bs.createPortal(_(Re,{children:[Or,_o]}),wt)})});uE.displayName="Modal";var KD=Object.assign(uE,{Manager:jm});function qD(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function GD(t,e){t.classList?t.classList.add(e):qD(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var QD=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ur(t,e){return QD(t.querySelectorAll(e))}function ly(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function XD(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ly(t.className,e):t.setAttribute("class",ly(t.className&&t.className.baseVal||"",e))}const No={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class YD extends jm{adjustAndStore(e,n,r){const o=n.style[e];n.dataset[e]=o,Jr(n,{[e]:`${parseFloat(Jr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Jr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(GD(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ur(n,No.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),Ur(n,No.STICKY_CONTENT).forEach(i=>this.adjustAndStore(o,i,-e.scrollBarWidth)),Ur(n,No.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(o,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();XD(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ur(n,No.FIXED_CONTENT).forEach(i=>this.restore(r,i)),Ur(n,No.STICKY_CONTENT).forEach(i=>this.restore(o,i)),Ur(n,No.NAVBAR_TOGGLER).forEach(i=>this.restore(o,i))}}let jd;function JD(t){return jd||(jd=new YD(t)),jd}function dE(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function yf(t,e){return yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},yf(t,e)}function ZD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,yf(t,e)}var hE={exports:{}},e6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t6=e6,n6=t6;function fE(){}function pE(){}pE.resetWarningCache=fE;var r6=function(){function t(r,o,i,s,a,l){if(l!==n6){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pE,resetWarningCache:fE};return n.PropTypes=n,n};hE.exports=r6();var Ee=hE.exports,cy={disabled:!1},mE=fn.createContext(null),cs="unmounted",Fr="exited",Yn="entering",zr="entered",bf="exiting",Vn=function(t){ZD(e,t);function e(r,o){var i;i=t.call(this,r,o)||this;var s=o,a=s&&!s.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=Fr,i.appearStatus=Yn):l=zr:r.unmountOnExit||r.mountOnEnter?l=cs:l=Fr,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===cs?{status:Fr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==Yn&&s!==zr&&(i=Yn):(s===Yn||s===zr)&&(i=bf)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(o,i){o===void 0&&(o=!1),i!==null?(this.cancelNextCallback(),i===Yn?this.performEnter(o):this.performExit()):this.props.unmountOnExit&&this.state.status===Fr&&this.setState({status:cs})},n.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,l=this.props.nodeRef?[a]:[bs.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),d=a?h.appear:h.enter;if(!o&&!s||cy.disabled){this.safeSetState({status:zr},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Yn},function(){i.props.onEntering(c,u),i.onTransitionEnd(d,function(){i.safeSetState({status:zr},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:bs.findDOMNode(this);if(!i||cy.disabled){this.safeSetState({status:Fr},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:bf},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:Fr},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:bs.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===cs)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=dE(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fn.createElement(mE.Provider,{value:null},typeof s=="function"?s(o,a):fn.cloneElement(fn.Children.only(s),a))},e}(fn.Component);Vn.contextType=mE;Vn.propTypes={};function Ro(){}Vn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ro,onEntering:Ro,onEntered:Ro,onExit:Ro,onExiting:Ro,onExited:Ro};Vn.UNMOUNTED=cs;Vn.EXITED=Fr;Vn.ENTERING=Yn;Vn.ENTERED=zr;Vn.EXITING=bf;function uy(t,e){const n=Jr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function o6(t,e){const n=uy(t,"transitionDuration"),r=uy(t,"transitionDelay"),o=aE(t,i=>{i.target===t&&(o(),e(i))},n+r)}function i6(t){t.offsetHeight}function s6(t){return t&&"setState"in t?bs.findDOMNode(t):t!=null?t:null}const a6=fn.forwardRef((h,u)=>{var d=h,{onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:o,onExited:i,addEndListener:s,children:a,childRef:l}=d,c=Q(d,["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"]);const p=v.exports.useRef(null),m=zm(p,l),w=S=>{m(s6(S))},x=S=>F=>{S&&p.current&&S(p.current,F)},y=v.exports.useCallback(x(t),[t]),g=v.exports.useCallback(x(e),[e]),b=v.exports.useCallback(x(n),[n]),k=v.exports.useCallback(x(r),[r]),C=v.exports.useCallback(x(o),[o]),A=v.exports.useCallback(x(i),[i]),E=v.exports.useCallback(x(s),[s]);return f(Vn,B(L({ref:u},c),{onEnter:y,onEntered:b,onEntering:g,onExit:k,onExited:A,onExiting:C,addEndListener:E,nodeRef:p,children:typeof a=="function"?(S,F)=>a(S,B(L({},F),{ref:w})):fn.cloneElement(a,{ref:w})}))});var l6=a6;const c6={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},u6={[Yn]:"show",[zr]:"show"},Bm=v.exports.forwardRef((i,o)=>{var s=i,{className:t,children:e,transitionClasses:n={}}=s,r=Q(s,["className","children","transitionClasses"]);const a=v.exports.useCallback((l,c)=>{i6(l),r.onEnter==null||r.onEnter(l,c)},[r]);return f(l6,B(L({ref:o,addEndListener:o6},r),{onEnter:a,childRef:e.ref,children:(l,c)=>v.exports.cloneElement(e,B(L({},c),{className:ee("fade",t,e.props.className,u6[l],n[l])}))}))});Bm.defaultProps=c6;Bm.displayName="Fade";var Fi=Bm,d6=/-(.)/g;function h6(t){return t.replace(d6,function(e,n){return n.toUpperCase()})}const f6=t=>t[0].toUpperCase()+h6(t).slice(1);function Hn(t,{displayName:e=f6(t),Component:n,defaultProps:r}={}){const o=v.exports.forwardRef((u,c)=>{var h=u,{className:i,bsPrefix:s,as:a=n||"div"}=h,l=Q(h,["className","bsPrefix","as"]);const d=he(s,t);return f(a,L({ref:c,className:ee(i,d)},l))});return o.defaultProps=r,o.displayName=e,o}var p6=Hn("modal-body");const m6=v.exports.createContext({onHide(){}});var gE=m6;const vE=v.exports.forwardRef((u,c)=>{var h=u,{bsPrefix:t,className:e,contentClassName:n,centered:r,size:o,fullscreen:i,children:s,scrollable:a}=h,l=Q(h,["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"]);t=he(t,"modal");const d=`${t}-dialog`,p=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return f("div",B(L({},l),{ref:c,className:ee(d,e,o&&`${t}-${o}`,r&&`${d}-centered`,a&&`${d}-scrollable`,i&&p),children:f("div",{className:ee(`${t}-content`,n),children:s})}))});vE.displayName="ModalDialog";var yE=vE,g6=Hn("modal-footer");const v6={"aria-label":Ee.string,onClick:Ee.func,variant:Ee.oneOf(["white"])},y6={"aria-label":"Close"},Fu=v.exports.forwardRef((o,r)=>{var i=o,{className:t,variant:e}=i,n=Q(i,["className","variant"]);return f("button",L({ref:r,type:"button",className:ee("btn-close",e&&`btn-close-${e}`,t)},n))});Fu.displayName="CloseButton";Fu.propTypes=v6;Fu.defaultProps=y6;var bE=Fu;const b6={closeLabel:"Close",closeButton:!1},wE=v.exports.forwardRef((a,s)=>{var l=a,{closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:o}=l,i=Q(l,["closeLabel","closeVariant","closeButton","onHide","children"]);const c=v.exports.useContext(gE),u=Vt(()=>{c==null||c.onHide(),r==null||r()});return _("div",B(L({ref:s},i),{children:[o,n&&f(bE,{"aria-label":t,variant:e,onClick:u})]}))});wE.defaultProps=b6;var w6=wE;const x6={closeLabel:"Close",closeButton:!1},Vm=v.exports.forwardRef((o,r)=>{var i=o,{bsPrefix:t,className:e}=i,n=Q(i,["bsPrefix","className"]);return t=he(t,"modal-header"),f(w6,B(L({ref:r},n),{className:ee(e,t)}))});Vm.displayName="ModalHeader";Vm.defaultProps=x6;var k6=Vm,xE=t=>v.exports.forwardRef((e,n)=>f("div",B(L({},e),{ref:n,className:ee(e.className,t)})));const E6=xE("h4");var _6=Hn("modal-title",{Component:E6});const S6={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:yE};function C6(t){return f(Fi,B(L({},t),{timeout:null}))}function T6(t){return f(Fi,B(L({},t),{timeout:null}))}const Hm=v.exports.forwardRef((Eo,Pe)=>{var Wn=Eo,{bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:o,children:i,dialogAs:s,"aria-labelledby":a,"aria-describedby":l,"aria-label":c,show:u,animation:h,backdrop:d,keyboard:p,onEscapeKeyDown:m,onShow:w,onHide:x,container:y,autoFocus:g,enforceFocus:b,restoreFocus:k,restoreFocusOptions:C,onEntered:A,onExit:E,onExiting:S,onEnter:F,onEntering:z,onExited:se,backdropClassName:He,manager:bt}=Wn,wt=Q(Wn,["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]);const[P,j]=v.exports.useState({}),[V,ae]=v.exports.useState(!1),le=v.exports.useRef(!1),ln=v.exports.useRef(!1),lt=v.exports.useRef(null),[Yt,At]=xD(),cn=zm(Pe,At),Ua=Vt(x),ji=_C();t=he(t,"modal");const Fa=v.exports.useMemo(()=>({onHide:Ua}),[Ua]);function _o(){return bt||JD({isRTL:ji})}function Or(ne){if(!Ui)return;const So=_o().getScrollbarWidth()>0,ug=ne.scrollHeight>Mu(ne).documentElement.clientHeight;j({paddingRight:So&&!ug?oy():void 0,paddingLeft:!So&&ug?oy():void 0})}const oe=Vt(()=>{Yt&&Or(Yt.dialog)});sE(()=>{vf(window,"resize",oe),lt.current==null||lt.current()});const a_=()=>{le.current=!0},l_=ne=>{le.current&&Yt&&ne.target===Yt.dialog&&(ln.current=!0),le.current=!1},lg=()=>{ae(!0),lt.current=aE(Yt.dialog,()=>{ae(!1)})},c_=ne=>{ne.target===ne.currentTarget&&lg()},u_=ne=>{if(d==="static"){c_(ne);return}if(ln.current||ne.target!==ne.currentTarget){ln.current=!1;return}x==null||x()},d_=ne=>{!p&&d==="static"?(ne.preventDefault(),lg()):p&&m&&m(ne)},h_=(ne,So)=>{ne&&Or(ne),F==null||F(ne,So)},f_=ne=>{lt.current==null||lt.current(),E==null||E(ne)},p_=(ne,So)=>{z==null||z(ne,So),iE(window,"resize",oe)},m_=ne=>{ne&&(ne.style.display=""),se==null||se(ne),vf(window,"resize",oe)},g_=v.exports.useCallback(ne=>f("div",B(L({},ne),{className:ee(`${t}-backdrop`,He,!h&&"show")})),[h,He,t]),cg=L(L({},n),P);cg.display="block";const v_=ne=>f("div",B(L({role:"dialog"},ne),{style:cg,className:ee(e,t,V&&`${t}-static`),onClick:d?u_:void 0,onMouseUp:l_,"aria-label":c,"aria-labelledby":a,"aria-describedby":l,children:f(s,B(L({},wt),{onMouseDown:a_,className:r,contentClassName:o,children:i}))}));return f(gE.Provider,{value:Fa,children:f(KD,{show:u,ref:cn,backdrop:d,container:y,keyboard:!0,autoFocus:g,enforceFocus:b,restoreFocus:k,restoreFocusOptions:C,onEscapeKeyDown:d_,onShow:w,onHide:x,onEnter:h_,onEntering:p_,onEntered:A,onExit:f_,onExiting:S,onExited:m_,manager:_o(),transition:h?C6:void 0,backdropTransition:h?T6:void 0,renderBackdrop:g_,renderDialog:v_})})});Hm.displayName="Modal";Hm.defaultProps=S6;var Ne=Object.assign(Hm,{Body:p6,Header:k6,Title:_6,Footer:g6,Dialog:yE,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});const I6={type:Ee.string,tooltip:Ee.bool,as:Ee.elementType},Wm=v.exports.forwardRef((s,i)=>{var a=s,{as:t="div",className:e,type:n="valid",tooltip:r=!1}=a,o=Q(a,["as","className","type","tooltip"]);return f(t,B(L({},o),{ref:i,className:ee(e,`${n}-${r?"tooltip":"feedback"}`)}))});Wm.displayName="Feedback";Wm.propTypes=I6;var kE=Wm;const zn=v.exports.createContext({}),EE=v.exports.forwardRef((c,l)=>{var u=c,{id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:o=!1,isInvalid:i=!1,as:s="input"}=u,a=Q(u,["id","bsPrefix","className","type","isValid","isInvalid","as"]);const{controlId:h}=v.exports.useContext(zn);return e=he(e,"form-check-input"),f(s,B(L({},a),{ref:l,type:r,id:t||h,className:ee(n,e,o&&"is-valid",i&&"is-invalid")}))});EE.displayName="FormCheckInput";var zu=EE;const _E=v.exports.forwardRef((i,o)=>{var s=i,{bsPrefix:t,className:e,htmlFor:n}=s,r=Q(s,["bsPrefix","className","htmlFor"]);const{controlId:a}=v.exports.useContext(zn);return t=he(t,"form-check-label"),f("label",B(L({},r),{ref:o,htmlFor:n||a,className:ee(e,t)}))});_E.displayName="FormCheckLabel";var wf=_E;function dy(t,e){let n=0;return v.exports.Children.map(t,r=>v.exports.isValidElement(r)?e(r,n++):r)}function N6(t,e){let n=0;v.exports.Children.forEach(t,r=>{v.exports.isValidElement(r)&&e(r,n++)})}function R6(t,e){return v.exports.Children.toArray(t).some(n=>v.exports.isValidElement(n)&&n.type===e)}const SE=v.exports.forwardRef((b,g)=>{var k=b,{id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,disabled:o=!1,isValid:i=!1,isInvalid:s=!1,feedbackTooltip:a=!1,feedback:l,feedbackType:c,className:u,style:h,title:d="",type:p="checkbox",label:m,children:w,as:x="input"}=k,y=Q(k,["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"]);e=he(e,"form-check"),n=he(n,"form-switch");const{controlId:C}=v.exports.useContext(zn),A=v.exports.useMemo(()=>({controlId:t||C}),[C,t]),E=!w&&m!=null&&m!==!1||R6(w,wf),S=f(zu,B(L({},y),{type:p==="switch"?"checkbox":p,ref:g,isValid:i,isInvalid:s,disabled:o,as:x}));return f(zn.Provider,{value:A,children:f("div",{style:h,className:ee(u,E&&e,r&&`${e}-inline`,p==="switch"&&n),children:w||_(Re,{children:[S,E&&f(wf,{title:d,children:m}),l&&f(kE,{type:c,tooltip:a,children:l})]})})})});SE.displayName="FormCheck";var Uc=Object.assign(SE,{Input:zu,Label:wf});const CE=v.exports.forwardRef((p,d)=>{var m=p,{bsPrefix:t,type:e,size:n,htmlSize:r,id:o,className:i,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input"}=m,h=Q(m,["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]);const{controlId:w}=v.exports.useContext(zn);t=he(t,"form-control");let x;return l?x={[`${t}-plaintext`]:!0}:x={[t]:!0,[`${t}-${n}`]:n},f(u,B(L({},h),{type:e,size:r,ref:d,readOnly:c,id:o||w,className:ee(i,x,s&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)}))});CE.displayName="FormControl";var A6=Object.assign(CE,{Feedback:kE}),P6=Hn("form-floating");const TE=v.exports.forwardRef((o,r)=>{var i=o,{controlId:t,as:e="div"}=i,n=Q(i,["controlId","as"]);const s=v.exports.useMemo(()=>({controlId:t}),[t]);return f(zn.Provider,{value:s,children:f(e,B(L({},n),{ref:r}))})});TE.displayName="FormGroup";var IE=TE;const D6={column:!1,visuallyHidden:!1},Km=v.exports.forwardRef((l,a)=>{var c=l,{as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:o,htmlFor:i}=c,s=Q(c,["as","bsPrefix","column","visuallyHidden","className","htmlFor"]);const{controlId:u}=v.exports.useContext(zn);e=he(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const d=ee(o,e,r&&"visually-hidden",n&&h);return i=i||u,n?f(St,L({ref:a,as:"label",className:d,htmlFor:i},s)):f(t,L({ref:a,className:d,htmlFor:i},s))});Km.displayName="FormLabel";Km.defaultProps=D6;var O6=Km;const NE=v.exports.forwardRef((i,o)=>{var s=i,{bsPrefix:t,className:e,id:n}=s,r=Q(s,["bsPrefix","className","id"]);const{controlId:a}=v.exports.useContext(zn);return t=he(t,"form-range"),f("input",B(L({},r),{type:"range",ref:o,className:ee(e,t),id:n||a}))});NE.displayName="FormRange";const RE=v.exports.forwardRef((c,l)=>{var u=c,{bsPrefix:t,size:e,htmlSize:n,className:r,isValid:o=!1,isInvalid:i=!1,id:s}=u,a=Q(u,["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"]);const{controlId:h}=v.exports.useContext(zn);return t=he(t,"form-select"),f("select",B(L({},a),{size:n,ref:l,className:ee(r,t,e&&`${t}-${e}`,o&&"is-valid",i&&"is-invalid"),id:s||h}))});RE.displayName="FormSelect";var L6=RE;const AE=v.exports.forwardRef((s,i)=>{var a=s,{bsPrefix:t,className:e,as:n="small",muted:r}=a,o=Q(a,["bsPrefix","className","as","muted"]);return t=he(t,"form-text"),f(n,B(L({},o),{ref:i,className:ee(e,t,r&&"text-muted")}))});AE.displayName="FormText";var $6=AE;const PE=v.exports.forwardRef((t,e)=>f(Uc,B(L({},t),{ref:e,type:"switch"})));PE.displayName="Switch";var M6=Object.assign(PE,{Input:Uc.Input,Label:Uc.Label});const DE=v.exports.forwardRef((a,s)=>{var l=a,{bsPrefix:t,className:e,children:n,controlId:r,label:o}=l,i=Q(l,["bsPrefix","className","children","controlId","label"]);return t=he(t,"form-floating"),_(IE,B(L({ref:s,className:ee(e,t),controlId:r},i),{children:[n,f("label",{htmlFor:r,children:o})]}))});DE.displayName="FloatingLabel";var U6=DE;const F6={_ref:Ee.any,validated:Ee.bool,as:Ee.elementType},qm=v.exports.forwardRef((i,o)=>{var s=i,{className:t,validated:e,as:n="form"}=s,r=Q(s,["className","validated","as"]);return f(n,B(L({},r),{ref:o,className:ee(t,e&&"was-validated")}))});qm.displayName="Form";qm.propTypes=F6;var I=Object.assign(qm,{Group:IE,Control:A6,Floating:P6,Check:Uc,Switch:M6,Label:O6,Text:$6,Range:NE,Select:L6,FloatingLabel:U6});function hy(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function z6(t){var e=j6(t,"string");return typeof e=="symbol"?e:String(e)}function j6(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OE(t,e,n){var r=v.exports.useRef(t!==void 0),o=v.exports.useState(e),i=o[0],s=o[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&i!==e&&s(e),[a?t:i,v.exports.useCallback(function(c){for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];n&&n.apply(void 0,[c].concat(h)),s(c)},[n])]}function ju(t,e){return Object.keys(e).reduce(function(n,r){var o,i=n,s=i[hy(r)],a=i[r],l=dE(i,[hy(r),r].map(z6)),c=e[r],u=OE(a,s,t[c]),h=u[0],d=u[1];return Ws({},l,(o={},o[r]=h,o[c]=d,o))},t)}const B6=["onKeyDown"];function V6(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function H6(t){return!t||t.trim()==="#"}const Gm=v.exports.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=V6(t,B6);const[o]=_p(Object.assign({tagName:"a"},r)),i=Vt(s=>{o.onKeyDown(s),n==null||n(s)});return H6(r.href)&&!r.role||r.role==="button"?f("a",Object.assign({ref:e},r,o,{onKeyDown:i})):f("a",Object.assign({ref:e},r,{onKeyDown:n}))});Gm.displayName="Anchor";const LE=xE("h4");LE.displayName="DivStyledAsH4";const W6=Hn("alert-heading",{Component:LE}),K6=Hn("alert-link",{Component:Gm}),q6={variant:"primary",show:!0,transition:Fi,closeLabel:"Close alert"},Qm=v.exports.forwardRef((t,e)=>{const y=ju(t,{show:"onClose"}),{bsPrefix:n,show:r,closeLabel:o,closeVariant:i,className:s,children:a,variant:l,onClose:c,dismissible:u,transition:h}=y,d=Q(y,["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"]),p=he(n,"alert"),m=Vt(g=>{c&&c(!1,g)}),w=h===!0?Fi:h,x=_("div",B(L({role:"alert"},w?void 0:d),{ref:e,className:ee(s,p,l&&`${p}-${l}`,u&&`${p}-dismissible`),children:[u&&f(bE,{onClick:m,"aria-label":o,variant:i}),a]}));return w?f(w,B(L({unmountOnExit:!0},d),{ref:void 0,in:r,children:x})):r?x:null});Qm.displayName="Alert";Qm.defaultProps=q6;var Xt=Object.assign(Qm,{Link:K6,Heading:W6}),Bu={},G6=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(o){t.addRange(o)}),e&&e.focus()}},Q6=G6,fy={"text/plain":"Text","text/html":"Url",default:"Text"},X6="Copy to clipboard: #{key}, Enter";function Y6(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function J6(t,e){var n,r,o,i,s,a,l=!1;e||(e={}),n=e.debug||!1;try{o=Q6(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData=="undefined"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=fy[e.format]||fy.default;window.clipboardData.setData(h,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),r=Y6("message"in e?e.message:X6),window.prompt(r,t)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var Z6=J6;function xf(t){return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}Object.defineProperty(Bu,"__esModule",{value:!0});Bu.CopyToClipboard=void 0;var xl=$E(v.exports),eO=$E(Z6),tO=["text","onCopy","options","children"];function $E(t){return t&&t.__esModule?t:{default:t}}function py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?py(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nO(t,e){if(t==null)return{};var n=rO(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function rO(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function oO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iO(t,e,n){return e&&gy(t.prototype,e),n&&gy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kf(t,e)}function kf(t,e){return kf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},kf(t,e)}function aO(t){var e=cO();return function(){var r=Fc(t),o;if(e){var i=Fc(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return lO(this,o)}}function lO(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ME(t)}function ME(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cO(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fc(t){return Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Fc(t)}function Xm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var UE=function(t){sO(n,t);var e=aO(n);function n(){var r;oO(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),Xm(ME(r),"onClick",function(a){var l=r.props,c=l.text,u=l.onCopy,h=l.children,d=l.options,p=xl.default.Children.only(h),m=(0,eO.default)(c,d);u&&u(c,m),p&&p.props&&typeof p.props.onClick=="function"&&p.props.onClick(a)}),r}return iO(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=nO(o,tO),a=xl.default.Children.only(i);return xl.default.cloneElement(a,my(my({},s),{},{onClick:this.onClick}))}}]),n}(xl.default.PureComponent);Bu.CopyToClipboard=UE;Xm(UE,"defaultProps",{onCopy:void 0,options:void 0});var uO=Bu,Ef=uO.CopyToClipboard;Ef.CopyToClipboard=Ef;var dO=Ef,kl,hO=new Uint8Array(16);function fO(){if(!kl&&(kl=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!kl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kl(hO)}var pO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mO(t){return typeof t=="string"&&pO.test(t)}var We=[];for(var Bd=0;Bd<256;++Bd)We.push((Bd+256).toString(16).substr(1));function gO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(We[t[e+0]]+We[t[e+1]]+We[t[e+2]]+We[t[e+3]]+"-"+We[t[e+4]]+We[t[e+5]]+"-"+We[t[e+6]]+We[t[e+7]]+"-"+We[t[e+8]]+We[t[e+9]]+"-"+We[t[e+10]]+We[t[e+11]]+We[t[e+12]]+We[t[e+13]]+We[t[e+14]]+We[t[e+15]]).toLowerCase();if(!mO(n))throw TypeError("Stringified UUID is invalid");return n}function vO(t,e,n){t=t||{};var r=t.random||(t.rng||fO)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return gO(r)}function yO(t){const{addClass:e}=Bn(),[n,r]=v.exports.useState(null),[o,i]=v.exports.useState(""),[s,a]=v.exports.useState(!1),l=async c=>{c.preventDefault();let h=`${vO()}`.split("-")[0].split("-")[0],d;if(!!o){a(!0);try{d=await e(h,o),r(d)}catch(p){console.error(p)}a(!1)}};return f(Re,{children:_(Ne,B(L({},t),{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[f(Ne.Header,{closeButton:!0,children:f(Ne.Title,{id:"contained-modal-title-vcenter",children:"Create New Class Room"})}),_(I,{onSubmit:l,children:[_(Ne.Body,{children:[_(I.Group,{className:"mb-3",children:[f(I.Label,{children:"Enter Class Name:"}),f(I.Control,{onChange:c=>{i(c.target.value)},value:o,type:"text",placeholder:"eg:Control System EEE B",required:!0})]}),n&&!s&&_(Xt,{variant:"success",children:["Copy this text: ",n,f(dO.CopyToClipboard,{text:n,children:f("button",{type:"button",className:"fa-solid fa-copy"})})]})]}),_(Ne.Footer,{children:[s&&f("i",{className:"fa-solid fa-circle-notch fa-spin"}),f(ue,{id:"class_code_btn",variant:"outline-success",type:"submit",disabled:s,children:"Create Class Code"}),f(ue,{id:"modal-close",onClick:()=>{r(null),t.onHide()},children:"Close"})]})]})]}))})}function bO(t){const[e,n]=v.exports.useState(null),[r,o]=v.exports.useState(null),{joinClass:i}=Bn(),s=async a=>{if(a.preventDefault(),!!e)try{await i(e),t.onHide()}catch(l){o(l.message),console.error(l)}};return f(Re,{children:_(Ne,B(L({},t),{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[f(Ne.Header,{closeButton:!0,children:f(Ne.Title,{id:"contained-modal-title-vcenter",children:"Join New Class"})}),_(I,{children:[_(Ne.Body,{children:[r&&f(Xt,{variant:"danger",children:"invalid class code"}),_(I.Group,{children:[f(I.Label,{children:"Enter Class Code"}),f(I.Control,{onChange:a=>{n(a.target.value)},type:"text",size:"lg",placeholder:"paste here"})]})]}),_(Ne.Footer,{children:[f(ue,{id:"join_submit",onClick:s,type:"submit",variant:"outline-success",children:"Submit"}),f(ue,{id:"join_close",onClick:t.onHide,children:"Close"})]})]})]}))})}function FE({mode:t}){const[e,n]=v.exports.useState(!1),[r,o]=v.exports.useState(!1),i=yo();return f(Re,{children:_("nav",{className:"topnav",children:[f("div",{onClick:()=>i("/settings"),className:"topnav-items",id:"profile-info",children:f(bD,{})}),f("div",{className:"topnav-items",id:"search-btn",children:f(wD,{})}),_("div",{className:"topnav-items",children:[_("button",{onClick:()=>{t==="faculty"?n(!0):o(!0)},id:"join-create",children:[t==="student"?"join":"create"," new class"]}),f(yO,{show:e,onHide:()=>{n(!1)}}),f(bO,{show:r,onHide:()=>{o(!1)}})]})]})})}function wO({title:t,link:e,type:n}){const r=async()=>{open(e)};return _("div",{className:"sCard-wrap ",title:`${t}`,children:[f("div",{className:"sCard-left",children:f("i",{className:"fa-solid fa-book"})}),_("div",{className:"sCard-right",children:[f("div",{className:"sCard-title",children:`${n}: ${t}`}),_("div",{className:"sCard-btn-wrap",children:[_("button",{className:"dwnld",onClick:r,children:[f("i",{className:"fa-solid fa-download"})," download"]}),_("button",{className:"view",onClick:()=>{open(e)},children:[" ",f("i",{className:"fa-solid fa-eye"})," view"]})]})]})]})}function Vu(){const{classList:t}=zt(),[e,n]=v.exports.useState([]);return v.exports.useEffect(()=>{function r(){let o=[];return console.log("scroller did mount"),t.forEach(i=>{i.materials.forEach(s=>{o.push({title:s==null?void 0:s.title,type:"MAT",dURL:s==null?void 0:s.downloadURL}),i.works.forEach(a=>{o.push({title:a==null?void 0:a.title,type:a==null?void 0:a.type,dURL:a==null?void 0:a.downloadURL})})})}),console.log(o),o}n(r())},[]),_("div",{className:"scroll-main",children:[_("div",{children:[f("i",{className:"fa-solid fa-history"})," Recent Activities"]}),_("div",{className:"scroll-wrap",children:[!!e.length&&e.map((r,o)=>f(wO,{title:r==null?void 0:r.title,type:r==null?void 0:r.type,link:r==null?void 0:r.dURL,className:"mt-3 mb-3"},o)),!e.length&&_("div",{className:"d-flex flex-column m-3 justify-content-center align-items-center",children:[f("h4",{children:"No activities"}),f("p",{style:{color:"grey"},children:"or click home button to refresh"})]})]})]})}function zE({mode:t,setOnView:e}){return t==="faculty"?_("div",{id:"selections",children:[f("button",{onClick:()=>{e("pbs")},className:"selection-btns",children:"Publish Score"}),f("button",{onClick:()=>{e("upm")},className:"selection-btns",children:"Upload Material"}),f("button",{onClick:()=>{e("pnw")},className:"selection-btns",children:"Post New Work"})]}):_("div",{id:"selections",children:[f("button",{onClick:()=>{e("gpa")},className:"selection-btns",children:"Calculate GPA"}),f("button",{onClick:()=>{e("wsb")},className:"selection-btns",children:"Work Submission"}),f("button",{onClick:()=>{e("vim")},className:"selection-btns",children:"View Internal Mark"})]})}function xO(){const{classList:t,uploadMaterial:e}=zt();let n=["..loading"];n=t.map(d=>d.title),n.unshift("select");const[r,o]=v.exports.useState(),[i,s]=v.exports.useState(),[a,l]=v.exports.useState(),[c,u]=v.exports.useState(!1);return _("div",{className:"up_mat_cont",children:[f("h3",{className:"mb-4",children:"Upload Material"}),c&&f(Xt,{variant:"warning",children:"Loading..."}),_(I,{onSubmit:async d=>{console.log(a),d.preventDefault(),u(!0),await e(r,a,i),u(!1)},id:"up_mat_form",children:[_(I.Group,{className:"mb-5",children:[f(I.Label,{children:"Name of Material"}),f(I.Control,{size:"lg",placeholder:"eg: control system mod 1",onChange:d=>{o(d.target.value)},required:!0})]}),_(I.Group,{className:"mb-5",children:[f(I.Label,{children:"Select Class"}),f(I.Select,{onChange:d=>{l(d.target.value)},size:"lg",children:n.map((d,p)=>f("option",{value:d,children:d},p))})]}),_(I.Group,{className:"mb-5",children:[f(I.Label,{children:"Choose File:"}),f(I.Control,{onChange:d=>{s(d.target.files[0])},size:"lg",type:"file"})]}),_(ue,{size:"lg",id:"up_mat_btn",type:"submit",children:["Upload ",f("i",{className:"fa-solid fa-upload"})]})]})]})}const jE=v.exports.createContext(null);jE.displayName="InputGroupContext";var kO=jE;const Ym=Hn("input-group-text",{Component:"span"}),EO=t=>f(Ym,{children:f(zu,L({type:"checkbox"},t))}),_O=t=>f(Ym,{children:f(zu,L({type:"radio"},t))}),BE=v.exports.forwardRef((a,s)=>{var l=a,{bsPrefix:t,size:e,hasValidation:n,className:r,as:o="div"}=l,i=Q(l,["bsPrefix","size","hasValidation","className","as"]);t=he(t,"input-group");const c=v.exports.useMemo(()=>({}),[]);return f(kO.Provider,{value:c,children:f(o,B(L({ref:s},i),{className:ee(r,t,e&&`${t}-${e}`,n&&"has-validation")}))})});BE.displayName="InputGroup";var SO=Object.assign(BE,{Text:Ym,Radio:_O,Checkbox:EO});function CO(){var t=v.exports.useReducer(function(n){return!n},!1),e=t[1];return e}const Jm=v.exports.createContext(null);Jm.displayName="NavContext";const wi=v.exports.createContext(null),xi=(t,e=null)=>t!=null?String(t):e||null,zi=v.exports.createContext(null),TO=["as","active","eventKey"];function IO(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function Zm({key:t,onClick:e,active:n,id:r,role:o,disabled:i}){const s=v.exports.useContext(wi),a=v.exports.useContext(Jm),l=v.exports.useContext(zi);let c=n;const u={role:o};if(a){!o&&a.role==="tablist"&&(u.role="tab");const h=a.getControllerId(t!=null?t:null),d=a.getControlledId(t!=null?t:null);u[Uu("event-key")]=t,u.id=h||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=d)}return u.role==="tab"&&(i&&(u.tabIndex=-1,u["aria-disabled"]=!0),c?u["aria-selected"]=c:u.tabIndex=-1),u.onClick=Vt(h=>{i||(e==null||e(h),t!=null&&s&&!h.isPropagationStopped()&&s(t,h))}),[u,{isActive:c}]}const VE=v.exports.forwardRef((t,e)=>{let{as:n=Uw,active:r,eventKey:o}=t,i=IO(t,TO);const[s,a]=Zm(Object.assign({key:xi(o,i.href),active:r},i));return s[Uu("active")]=a.isActive,f(n,Object.assign({},i,s,{ref:e}))});VE.displayName="NavItem";const NO=["as","onSelect","activeKey","role","onKeyDown"];function RO(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}const vy=()=>{},yy=Uu("event-key"),HE=v.exports.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:o,role:i,onKeyDown:s}=t,a=RO(t,NO);const l=CO(),c=v.exports.useRef(!1),u=v.exports.useContext(wi),h=v.exports.useContext(zi);let d,p;h&&(i=i||"tablist",o=h.activeKey,d=h.getControlledId,p=h.getControllerId);const m=v.exports.useRef(null),w=b=>{const k=m.current;if(!k)return null;const C=Ur(k,`[${yy}]:not([aria-disabled=true])`),A=k.querySelector("[aria-selected=true]");if(!A||A!==document.activeElement)return null;const E=C.indexOf(A);if(E===-1)return null;let S=E+b;return S>=C.length&&(S=0),S<0&&(S=C.length-1),C[S]},x=(b,k)=>{b!=null&&(r==null||r(b,k),u==null||u(b,k))},y=b=>{if(s==null||s(b),!h)return;let k;switch(b.key){case"ArrowLeft":case"ArrowUp":k=w(-1);break;case"ArrowRight":case"ArrowDown":k=w(1);break;default:return}!k||(b.preventDefault(),x(k.dataset[FD("EventKey")]||null,b),c.current=!0,l())};v.exports.useEffect(()=>{if(m.current&&c.current){const b=m.current.querySelector(`[${yy}][aria-selected=true]`);b==null||b.focus()}c.current=!1});const g=zm(e,m);return f(wi.Provider,{value:x,children:f(Jm.Provider,{value:{role:i,activeKey:xi(o),getControlledId:d||vy,getControllerId:p||vy},children:f(n,Object.assign({},a,{onKeyDown:y,ref:g,role:i}))})})});HE.displayName="Nav";var WE=Object.assign(HE,{Item:VE});const KE=v.exports.forwardRef((u,c)=>{var h=u,{bsPrefix:t,active:e,disabled:n,eventKey:r,className:o,variant:i,action:s,as:a}=h,l=Q(h,["bsPrefix","active","disabled","eventKey","className","variant","action","as"]);t=he(t,"list-group-item");const[d,p]=Zm(L({key:xi(r,l.href),active:e},l)),m=Vt(x=>{if(n){x.preventDefault(),x.stopPropagation();return}d.onClick(x)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const w=a||(s?l.href?"a":"button":"div");return f(w,B(L(L({ref:c},l),d),{onClick:m,className:ee(o,t,p.isActive&&"active",n&&"disabled",i&&`${t}-${i}`,s&&`${t}-action`)}))});KE.displayName="ListGroupItem";var AO=KE;const qE=v.exports.forwardRef((t,e)=>{const h=ju(t,{activeKey:"onSelect"}),{className:n,bsPrefix:r,variant:o,horizontal:i,numbered:s,as:a="div"}=h,l=Q(h,["className","bsPrefix","variant","horizontal","numbered","as"]),c=he(r,"list-group");let u;return i&&(u=i===!0?"horizontal":`horizontal-${i}`),f(WE,B(L({ref:e},l),{as:a,className:ee(n,c,o&&`${c}-${o}`,u&&`${c}-${u}`,s&&`${c}-numbered`)}))});qE.displayName="ListGroup";var Lt=Object.assign(qE,{Item:AO});function PO({submittedArr:t,title:e,onHide:n,show:r}){const{gradeStudents:o}=Bn(),i=t==null?void 0:t.map(c=>c.name);let[s,a]=v.exports.useState(new Array(t.length));return f("div",{children:f(Ne,{show:r,onHide:n,size:"lg",centered:!0,children:_(I,{onSubmit:async c=>{if(c.preventDefault(),console.log(t),!s.length){alert("No grades were confirmed");return}await o(s,e),alert("Succesfully updated marks of students")},children:[f(Ne.Header,{closeButton:!0,children:f(Ne.Title,{id:"contained-modal-title-vcenter",children:"Submitted Students"})}),f(Ne.Body,{children:_(Lt,{className:"d-inline-block h-50 w-75",children:[t&&i.map((c,u)=>_(Lt.Item,{children:[c,_(SO,{children:[f(I.Control,{id:`stdnt-lst-itm-${u}`,defaultValue:0,type:"number"}),f(ue,{onClick:h=>{let d=document.querySelector(`#stdnt-lst-itm-${u}`);t[u].mark=d.value,s=[...t],console.log(s),a(s)},variant:"outline-secondary",children:"Confirm"}),f(ue,{variant:"outline-secondary",disabled:!0,children:"View Answer"})]})]},u)),!t&&f(Lt.Item,{children:f(Xt,{variant:"danger",children:"No students have submittedArr"})})]})}),_(Ne.Footer,{children:[_(ue,{id:"wrk_submit_btn",type:"submit",disabled:!t,children:["Upload ",f("i",{className:"fa-solid fa-upload"})]}),f(ue,{variant:"outline-secondary",onClick:n,children:"Close"})]})]})})})}function DO({list:t}){const[e,n]=v.exports.useState(!1),[r,o]=v.exports.useState([]),[i,s]=v.exports.useState(""),[a,l]=v.exports.useState(new Date),{getSubmitted:c}=Bn(),u=async(h,d)=>{let p=await c(h);o(p),s(h),l(d),n(!0)};return t!=null&&t.length?_(Re,{children:[f(Lt,{className:"mb-3 ",children:t.map((h,d)=>f(Lt.Item,{onClick:()=>{u(h.title,h.date)},disabled:!h,children:`${h.type} : ${h.title}`},d))}),f(PO,{submittedArr:r,title:i,show:e,onHide:()=>{n(!1)}})]}):f(Xt,{variant:"success",children:"No Pending Tests"})}function OO(){const[t,e]=v.exports.useState(!1),[n,r]=v.exports.useState(),{classList:o}=zt();let i=o.map(a=>a.title);i.unshift("select");const s=()=>{const[a]=o.filter(u=>u.title===n);let c=(Boolean(a==null?void 0:a.works.length)?a.works:["No Works"]).filter(u=>(u==null?void 0:u.type)==="test");e(c!=null&&c.length?c:[])};return _("div",{children:[f("h2",{children:"Publish Score"}),f(I,{children:_(I.Group,{className:"mb-3",children:[f(I.Label,{children:"Select Class: "}),f(I.Select,{className:"mb-3",onChange:a=>{r(a.target.value)},children:i.map((a,l)=>f("option",{value:a,children:a},l))}),f(ue,{onClick:s,variant:"outline-warning",className:"mb-3",children:"List Assigned Works"})]})}),t&&f(DO,{list:t})]})}function LO(){const{postNewWork:t,classList:e}=zt();Bn();let n=["...loading"];n=e.map(x=>x.title),n.unshift("select");const[r,o]=v.exports.useState(),[i,s]=v.exports.useState(),[a,l]=v.exports.useState(),[c,u]=v.exports.useState(),[h,d]=v.exports.useState(),[p,m]=v.exports.useState(!1);return f(Re,{children:_(I,{onSubmit:async x=>{console.log(a),x.preventDefault(),m(!0),await t(r,h,a,i,c),m(!1)},id:"post_wrk_cont",children:[p&&f(Xt,{variant:"warning",children:"uploading..."}),_(I.Group,{className:"mb-4",children:[f(I.Label,{children:"Work Title: "}),f(I.Control,{onChange:x=>{o(x.target.value)},size:"lg",type:"text",required:!0})]}),_(I.Group,{className:"mb-5",children:[f(I.Label,{children:"Choose File:"}),f(I.Control,{onChange:x=>{u(x.target.files[0])},size:"lg",type:"file"})]}),_(I.Group,{className:"mb-4",children:[f(I.Label,{children:"Select Class"}),f(I.Select,{onChange:x=>{d(x.target.value)},size:"lg",children:n.map((x,y)=>f("option",{value:x,children:x},y))})]}),_(I.Group,{className:"mb-4",children:[f(I.Label,{children:"Select Type:"}),_(I.Select,{onChange:x=>{l(x.target.value)},size:"lg",children:[f("option",{value:"",children:"select"}),f("option",{value:"test",children:"Test"}),f("option",{value:"assignment",children:"Assignment"}),f("option",{value:"misc",children:"Others"})]})]}),_(I.Group,{className:"mb-4",children:[f(I.Label,{children:"Due Date: "}),f(I.Control,{onChange:x=>{s(x.target.value)},size:"lg",type:"date",required:!0})]}),_(ue,{size:"lg",id:"pst-wrk-btn",type:"submit",children:["Upload ",f("i",{className:"fa-solid fa-upload"})]})]})})}const $O=t=>{let e=f(Vu,{});return t==="pbs"?f(OO,{}):t==="upm"?f(xO,{}):t==="pnw"?f(LO,{}):e};function MO(){const{classList:t}=zt(),[e,n]=v.exports.useState("scroll");return f(Re,{children:_(ua,{children:[f(mr,{children:f(FE,{mode:"faculty"})}),_(mr,{children:[_(mr,{children:[f(St,{children:f(ue,{className:"rounded-circle mb-3",variant:"outline-warning",onClick:()=>{n("scroll")},size:"sm",children:f("i",{className:"fa-solid fa-home"})})}),f(St,{})]}),e==="scroll"&&f(St,{children:f(Vu,{setOnView:n})}),e!=="scroll"&&f(St,{children:$O(e)}),f(St,{children:t?f(zE,{mode:"faculty",setOnView:n}):f("i",{style:{color:"white"},className:"fa-solid fa-circle-notch fa-spin"})})]})]})})}function UO(){const t=yo(),{setUserType:e}=zt();return f(ua,{fluid:!0,children:_(mr,{children:[f(St,{children:f("div",{id:"library"})}),f(St,{id:"right-side",children:_("div",{id:"right-inner-stack",children:[_("h1",{children:["Notes Lab ",f("i",{className:"fa-solid fa-flask"})," "]}),f("button",{onClick:o=>{e("student"),t("/student-login")},className:"inr-stack-btn",children:"Student Login"}),f("button",{onClick:o=>{e("faculty"),t("/faculty-login")},className:"inr-stack-btn",children:"Faculty Login"}),_("span",{id:"signup-link",children:["Do not have an account? ",f(kp,{to:"/signup",children:"Sign Up"})," instead"]})]})})]})})}function FO({heading:t,due:e,onHide:n,show:r}){const{submitWork:o}=zt(),[i,s]=v.exports.useState(),[a,l]=v.exports.useState(!1);return f("div",{children:f(Ne,{show:r,onHide:n,size:"lg",centered:!0,children:_(I,{onSubmit:async u=>{u.preventDefault(),l(!0),await o(t,i),l(!1),alert("successfully uploaded")},children:[f(Ne.Header,{closeButton:!0,children:f(Ne.Title,{id:"contained-modal-title-vcenter",children:t})}),_(Ne.Body,{children:[a&&f(Xt,{variant:"danger",children:"...uploading"}),_(Xt,{variant:"warning",children:["Due date: ",e]}),_(I.Group,{children:[f(I.Label,{children:"Choose file:"}),f(I.Control,{onChange:u=>{s(u.target.files[0])},size:"lg",type:"file"})]})]}),_(Ne.Footer,{children:[_(ue,{id:"wrk_submit_btn",type:"submit",children:["Upload ",f("i",{className:"fa-solid fa-upload"})]}),f(ue,{variant:"outline-secondary",onClick:n,children:"Close"})]})]})})})}function zO({list:t}){const[e,n]=v.exports.useState(!1),[r,o]=v.exports.useState(""),[i,s]=v.exports.useState(new Date),a=(l,c)=>{o(`${l}`),s(c),n(!0)};return console.log(t),t!=null&&t.length?_(Re,{children:[f(Lt,{className:"mb-3 ",children:t.map((l,c)=>f(Lt.Item,{onClick:()=>{console.log(t),a(l.title,l.date)},disabled:!l,children:l?`${l.type} : ${l.title}`:"No Works"},c))}),f(FO,{show:e,onHide:()=>{n(!1)},heading:r,due:i})]}):f(Xt,{variant:"success",children:"No Pending Works"})}function jO(){const[t,e]=v.exports.useState(!1),[n,r]=v.exports.useState(),{classList:o}=zt();let i=o.map(a=>a.title);i.unshift("select");const s=()=>{const[a]=o.filter(c=>c.title===n);let l=Boolean(a==null?void 0:a.works.length)?a.works:null;e(l)};return _("div",{children:[f("h2",{children:"Work Submission"}),f(I,{children:_(I.Group,{className:"mb-3",children:[f(I.Label,{children:"Select Class: "}),f(I.Select,{className:"mb-3",onChange:a=>{r(a.target.value)},children:i.map((a,l)=>f("option",{value:a,children:a},l))}),f(ue,{onClick:s,variant:"outline-warning",className:"mb-3",children:"List Assigned Works"})]})}),t&&f(zO,{list:t})]})}function BO(){const[t,e]=v.exports.useState(!1),[n,r]=v.exports.useState(),[o,i]=v.exports.useState(),{classList:s}=zt(),{getScore:a}=Bn();let l=s.map(h=>h.title);l.unshift("select");const c=()=>{const[h]=s.filter(m=>m.title===n);let p=(Boolean(h==null?void 0:h.works.length)?h.works:["No Works"]).filter(m=>(m==null?void 0:m.type)==="test");e(p!=null&&p.length?p:[])},u=async h=>{let d="No";d=await a(h),i({title:h,mark:d})};return _(Re,{children:[f("h2",{children:"View Internal Mark"}),f(I,{children:_(I.Group,{className:"mb-3",children:[f(I.Label,{children:"Select Class: "}),f(I.Select,{className:"mb-3",onChange:h=>{r(h.target.value)},children:l.map((h,d)=>f("option",{value:h,children:h},d))}),f(ue,{onClick:c,variant:"outline-warning",className:"mb-3",children:"List Tests"})]})}),t&&_(Re,{children:[f(Xt,{variant:"secondary",children:"Click on any item to view result"}),f(Lt,{className:"mb-3 overflow-auto h-25 d-block",children:t.map((h,d)=>f(Lt.Item,{onClick:()=>{u(h.title)},disabled:!h,children:`${h.type} : ${h.title}`},d))})]}),o&&_("h6",{variant:"success",children:["You scored ",o.mark," marks for ",o.title]})]})}function eg(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var tg={};eg(tg,"SSRProvider",()=>VO);eg(tg,"useSSRSafeId",()=>GE);eg(tg,"useIsSSR",()=>WO);const Hu={prefix:String(Math.round(Math.random()*1e10)),current:0},zc=fn.createContext(Hu);function VO(t){let e=v.exports.useContext(zc),n=v.exports.useMemo(()=>({prefix:e===Hu?"":`${e.prefix}-${++e.current}`,current:0}),[e]);return fn.createElement(zc.Provider,{value:n},t.children)}let HO=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement);function GE(t){let e=v.exports.useContext(zc);return e===Hu&&!HO&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),v.exports.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}function WO(){let e=v.exports.useContext(zc)!==Hu,[n,r]=v.exports.useState(e);return typeof window!="undefined"&&e&&v.exports.useLayoutEffect(()=>{r(!1)},[]),n}function QE({children:t,in:e,mountOnEnter:n,unmountOnExit:r}){const o=v.exports.useRef(e);return v.exports.useEffect(()=>{e&&(o.current=!0)},[e]),e?t:r||!o.current&&n?null:t}const KO=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],qO=["activeKey","getControlledId","getControllerId"],GO=["as"];function _f(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function XE(t){let{active:e,eventKey:n,mountOnEnter:r,transition:o,unmountOnExit:i,role:s="tabpanel",onEnter:a,onEntering:l,onEntered:c,onExit:u,onExiting:h,onExited:d}=t,p=_f(t,KO);const m=v.exports.useContext(zi);if(!m)return[Object.assign({},p,{role:s}),{eventKey:n,isActive:e,mountOnEnter:r,transition:o,unmountOnExit:i,onEnter:a,onEntering:l,onEntered:c,onExit:u,onExiting:h,onExited:d}];const{activeKey:w,getControlledId:x,getControllerId:y}=m,g=_f(m,qO),b=xi(n);return[Object.assign({},p,{role:s,id:x(n),"aria-labelledby":y(n)}),{eventKey:n,isActive:e==null&&b!=null?xi(w)===b:e,transition:o||g.transition,mountOnEnter:r!=null?r:g.mountOnEnter,unmountOnExit:i!=null?i:g.unmountOnExit,onEnter:a,onEntering:l,onEntered:c,onExit:u,onExiting:h,onExited:d}]}const YE=v.exports.forwardRef((t,e)=>{let{as:n="div"}=t,r=_f(t,GO);const[o,{isActive:i,onEnter:s,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:h,mountOnEnter:d,unmountOnExit:p,transition:m=QE}]=XE(r);return f(zi.Provider,{value:null,children:f(wi.Provider,{value:null,children:f(m,{in:i,onEnter:s,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:h,mountOnEnter:d,unmountOnExit:p,children:f(n,Object.assign({},o,{ref:e,hidden:!i,"aria-hidden":!i}))})})})});YE.displayName="TabPanel";const ng=t=>{const{id:e,generateChildId:n,onSelect:r,activeKey:o,defaultActiveKey:i,transition:s,mountOnEnter:a,unmountOnExit:l,children:c}=t,[u,h]=OE(o,i,r),d=GE(e),p=v.exports.useMemo(()=>n||((w,x)=>d?`${d}-${x}-${w}`:null),[d,n]),m=v.exports.useMemo(()=>({onSelect:h,activeKey:u,transition:s,mountOnEnter:a||!1,unmountOnExit:l||!1,getControlledId:w=>p(w,"tabpane"),getControllerId:w=>p(w,"tab")}),[h,u,s,a,l,p]);return f(zi.Provider,{value:m,children:f(wi.Provider,{value:h||null,children:c})})};ng.Panel=YE;var by={exports:{}},Sf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function o(s,a,l,c,u,h){var d=c||"<<anonymous>>",p=h||l;if(a[l]==null)return s?new Error("Required "+u+" `"+p+"` was not specified "+("in `"+d+"`.")):null;for(var m=arguments.length,w=Array(m>6?m-6:0),x=6;x<m;x++)w[x-6]=arguments[x];return r.apply(void 0,[a,l,d,u,p].concat(w))}var i=o.bind(null,!1);return i.isRequired=o.bind(null,!0),i}t.exports=e.default})(Sf,Sf.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=Sf.exports,r=o(n);function o(s){return s&&s.__esModule?s:{default:s}}function i(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];function c(){for(var u=arguments.length,h=Array(u),d=0;d<u;d++)h[d]=arguments[d];var p=null;return a.forEach(function(m){if(p==null){var w=m.apply(void 0,h);w!=null&&(p=w)}}),p}return(0,r.default)(c)}t.exports=e.default})(by,by.exports);const JE=v.exports.createContext(null);JE.displayName="NavbarContext";var QO=JE;const ZE=v.exports.createContext(null);ZE.displayName="CardHeaderContext";var XO=ZE,e_=Hn("nav-item");const YO={disabled:!1},rg=v.exports.forwardRef((a,s)=>{var l=a,{bsPrefix:t,className:e,as:n=Gm,active:r,eventKey:o}=l,i=Q(l,["bsPrefix","className","as","active","eventKey"]);t=he(t,"nav-link");const[c,u]=Zm(L({key:xi(o,i.href),active:r},i));return f(n,B(L(L({},i),c),{ref:s,className:ee(e,t,i.disabled&&"disabled",u.isActive&&"active")}))});rg.displayName="NavLink";rg.defaultProps=YO;var t_=rg;const JO={justify:!1,fill:!1},og=v.exports.forwardRef((t,e)=>{const g=ju(t,{activeKey:"onSelect"}),{as:n="div",bsPrefix:r,variant:o,fill:i,justify:s,navbar:a,navbarScroll:l,className:c,activeKey:u}=g,h=Q(g,["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"]),d=he(r,"nav");let p,m,w=!1;const x=v.exports.useContext(QO),y=v.exports.useContext(XO);return x?(p=x.bsPrefix,w=a==null?!0:a):y&&({cardHeaderBsPrefix:m}=y),f(WE,L({as:n,ref:e,activeKey:u,className:ee(c,{[d]:!w,[`${p}-nav`]:w,[`${p}-nav-scroll`]:w&&l,[`${m}-${o}`]:!!m,[`${d}-${o}`]:!!o,[`${d}-fill`]:i,[`${d}-justified`]:s})},h))});og.displayName="Nav";og.defaultProps=JO;var ZO=Object.assign(og,{Item:e_,Link:t_}),n_=Hn("tab-content");function ig(t){return typeof t=="boolean"?t?Fi:QE:t}const r_=v.exports.forwardRef((o,r)=>{var i=o,{bsPrefix:t,transition:e}=i,n=Q(i,["bsPrefix","transition"]);const[k,...C]=XE(B(L({},n),{transition:ig(e)})),A=k,{className:s,as:a="div"}=A,l=Q(A,["className","as"]),[{isActive:c,onEnter:u,onEntering:h,onEntered:d,onExit:p,onExiting:m,onExited:w,mountOnEnter:x,unmountOnExit:y,transition:g=Fi}]=C,b=he(t,"tab-pane");return f(zi.Provider,{value:null,children:f(wi.Provider,{value:null,children:f(g,{in:c,onEnter:u,onEntering:h,onEntered:d,onExit:p,onExiting:m,onExited:w,mountOnEnter:x,unmountOnExit:y,children:f(a,B(L({},l),{ref:r,className:ee(s,b,c&&"active")}))})})})});r_.displayName="TabPane";var o_=r_;const eL={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1};function tL(t){let e;return N6(t,n=>{e==null&&(e=n.props.eventKey)}),e}function nL(t){const{title:e,eventKey:n,disabled:r,tabClassName:o,tabAttrs:i,id:s}=t.props;return e==null?null:f(e_,{as:"li",role:"presentation",children:f(t_,B(L({as:"button",type:"button",eventKey:n,disabled:r,id:s,className:o},i),{children:e}))})}const sg=t=>{const c=ju(t,{activeKey:"onSelect"}),{id:e,onSelect:n,transition:r,mountOnEnter:o,unmountOnExit:i,children:s,activeKey:a=tL(s)}=c,l=Q(c,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return _(ng,{id:e,activeKey:a,onSelect:n,transition:ig(r),mountOnEnter:o,unmountOnExit:i,children:[f(ZO,B(L({},l),{role:"tablist",as:"ul",children:dy(s,nL)})),f(n_,{children:dy(s,u=>{const h=L({},u.props);return delete h.title,delete h.disabled,delete h.tabClassName,delete h.tabAttrs,f(o_,L({},h))})})]})};sg.defaultProps=eL;sg.displayName="Tabs";var rL=sg;const i_=n=>{var r=n,{transition:t}=r,e=Q(r,["transition"]);return f(ng,B(L({},e),{transition:ig(t)}))};i_.displayName="TabContainer";var oL=i_;const iL={eventKey:Ee.oneOfType([Ee.string,Ee.number]),title:Ee.node.isRequired,disabled:Ee.bool,tabClassName:Ee.string,tabAttrs:Ee.object},s_=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};s_.propTypes=iL;var wy=Object.assign(s_,{Container:oL,Content:n_,Pane:o_});function sL(){const[t,e]=v.exports.useState([]),[n,r]=v.exports.useState(new Array(t.length)),[o,i]=v.exports.useState(new Array(t.length)),[s,a]=v.exports.useState(),l=u=>{let h=[];for(let d=0;d<u;d++)h.push(_(Lt.Item,{className:"d-inline-flex flex-column align-items-center",children:[_("p",{children:["Subject",d+1,":"]}),_(I.Group,{children:[f(I.Label,{children:"Mark:"}),f(I.Control,{onChange:p=>{n[d]=Number(p.target.value),r(n)},type:"number"}),f(I.Label,{children:"Credit:"}),f(I.Control,{onChange:p=>{o[d]=Number(p.target.value),i(o)},type:"number"})]})]},d));return h};return _(Re,{children:[_(I,{onSubmit:u=>{if(u.preventDefault(),console.log(o),console.log(n),o.includes(void 0)||n.includes(void 0)){alert("enter credits and marks of all subjects");return}let h=0,d=0;for(let p=0;p<o.length;p++)d+=o[p],h+=o[p]*n[p];console.log(h/d),a(h/d)},children:[_(I.Group,{className:"d-inline-flex justify-content-evenly m-3",children:[f(I.Label,{children:"Select the number of subjects:"}),f(I.Control,{className:"w-25",onChange:u=>{e(l(u.target.value)),r(new Array(Number(u.target.value))),i(new Array(Number(u.target.value)))},type:"number"})]}),!!t.length&&f(Lt,{style:{maxHeight:"50vh"},className:"overflow-auto",children:t.map(u=>u)}),!!t.length&&f(ue,{variant:"outline-warning",className:"mt-3 mb-3",type:"submit",children:"Calculate"})]}),!!s&&_("h4",{children:["SGPA: ",s]})]})}function aL(){const[t,e]=v.exports.useState([]),[n,r]=v.exports.useState(new Array(t.length)),[o,i]=v.exports.useState(new Array(t.length)),[s,a]=v.exports.useState(),l=u=>{let h=[];for(let d=0;d<u;d++)h.push(_(Lt.Item,{className:"d-inline-flex flex-column align-items-center",children:[_("p",{children:["Subject",d+1,":"]}),_(I.Group,{children:[f(I.Label,{children:"Mark:"}),f(I.Control,{onChange:p=>{n[d]=Number(p.target.value),r(n)},type:"number"}),f(I.Label,{children:"Credit:"}),f(I.Control,{onChange:p=>{o[d]=Number(p.target.value),i(o)},type:"number"})]})]},d));return h};return _(Re,{children:[_(I,{onSubmit:u=>{if(u.preventDefault(),console.log(o),console.log(n),o.includes(void 0)||n.includes(void 0)){alert("enter credits and marks of all subjects");return}let h=0,d=0;for(let p=0;p<o.length;p++)d+=o[p],h+=o[p]*n[p];console.log(h/d),a(h/d)},children:[_(I.Group,{className:"d-inline-flex justify-content-evenly m-3",children:[f(I.Label,{children:"Select the number of subjects (all sem ):"}),f(I.Control,{className:"w-25",onChange:u=>{e(l(u.target.value)),r(new Array(Number(u.target.value))),i(new Array(Number(u.target.value)))},type:"number"})]}),!!t.length&&f(Lt,{style:{maxHeight:"50vh"},className:"overflow-auto",children:t.map(u=>u)}),!!t.length&&f(ue,{variant:"outline-warning",className:"mt-3 mb-3",type:"submit",children:"Calculate"})]}),!!s&&_("h4",{variant:"info",children:["CGPA: ",s]})]})}function lL(){const[t,e]=v.exports.useState("SGPA");return f(Re,{children:_(rL,{activeKey:t,onSelect:n=>{e(n)},children:[f(wy,{eventKey:"SGPA",title:"SGPA",children:f(sL,{})}),f(wy,{eventKey:"CGPA",title:"CGPA",children:f(aL,{})})]})})}const cL=t=>{let e=f(Vu,{});return t==="gpa"?f(lL,{}):t==="wsb"?f(jO,{}):t==="vim"?f(BO,{}):e};function uL(){const[t,e]=v.exports.useState(""),{classList:n}=zt();return f(Re,{children:_(ua,{children:[f(mr,{children:f(FE,{mode:"student"})}),_(mr,{children:[_(mr,{children:[f(St,{children:f(ue,{className:"rounded-circle mb-3",variant:"outline-warning",onClick:()=>{e("scroll")},size:"sm",children:f("i",{className:"fa-solid fa-home"})})}),f(St,{})]}),t==="scroll"&&f(St,{children:f(Vu,{setOnView:e})}),t!=="scroll"&&f(St,{children:cL(t)}),f(St,{children:n?f(zE,{mode:"student",setOnView:e}):f("i",{style:{color:"white"},className:"fa-solid fa-circle-notch fa-spin"})})]})]})})}Ee.string,Ee.bool,Ee.bool,Ee.bool,Ee.bool;const dL={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},ag=v.exports.forwardRef((l,a)=>{var c=l,{bsPrefix:t,className:e,fluid:n,rounded:r,roundedCircle:o,thumbnail:i}=c,s=Q(c,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);return t=he(t,"img"),f("img",B(L({ref:a},s),{className:ee(e,n&&`${t}-fluid`,r&&"rounded",o&&"rounded-circle",i&&`${t}-thumbnail`)}))});ag.displayName="Image";ag.defaultProps=dL;const xy=()=>{const{pathname:t}=Ci(),[e,n]=v.exports.useState(""),[r,o]=v.exports.useState(""),[i,s]=v.exports.useState(""),a=yo(),{logIn:l}=ko();return _(Re,{children:[_("div",{className:"login-container box",children:[_("h2",{className:"mb-3",children:["Notes Lab ",t==="/student-login"?"Student ":"Faculty ","Login"]}),i&&f(Xt,{variant:"danger",children:i}),_(I,{onSubmit:async u=>{u.preventDefault(),s("");try{await l(e,r),a(t==="/student-login"?"/student":"/faculty")}catch(h){s(h.message)}},children:[f(I.Group,{className:"mb-3",controlId:"formBasicEmail",children:f(I.Control,{type:"email",placeholder:"Email address",onChange:u=>n(u.target.value)})}),f(I.Group,{className:"mb-3",controlId:"formBasicPassword",children:f(I.Control,{type:"password",placeholder:"Password",onChange:u=>o(u.target.value)})}),f("div",{className:"d-grid ",children:f(ue,{id:"login-btn",variant:"primary",type:"Submit",children:"Log In"})})]}),f("hr",{})]}),_("div",{className:"p-4 box mt-3 text-center",children:["Don't have an account? ",f(kp,{to:"/signup",children:"Sign up"})]})]})};const hL=()=>{const[t,e]=v.exports.useState(""),[n,r]=v.exports.useState(""),[o,i]=v.exports.useState(""),[s,a]=v.exports.useState(""),[l,c]=v.exports.useState(""),[u,h]=v.exports.useState(""),[d,p]=v.exports.useState(!0),[m,w]=v.exports.useState(""),x=yo(),{signUp:y,uploadUserName:g,user:b}=ko(),{addFaculty:k,addStudent:C}=Bn();return _(Re,{children:[_("div",{className:" box signup-container",children:[_("h2",{className:"mb-3",children:["Join Notes Lab ",f("i",{className:"fa-solid fa-flask"})]}),n&&f(Xt,{variant:"danger",children:n}),_(I,{onSubmit:async E=>{if(E.preventDefault(),d){if((!u||!o)&&(!l||!m)){alert("Make sure to fill the form");return}}else if(!u||!o){alert("Make sure to fill the form");return}r("");try{const S=await y(t,s);await g(o),d?await C(o,l,S==null?void 0:S.user.uid,u,m):await k(o,S==null?void 0:S.user.uid),x("/")}catch(S){console.log(S),r(S.message)}},children:[f(I.Group,{className:"mb-3",controlId:"formBasicEmail",children:f(I.Control,{type:"email",placeholder:"Email address",onChange:E=>e(E.target.value)})}),f(I.Group,{className:"mb-3",controlId:"formBasicText",children:f(I.Control,{type:"text",placeholder:"User Name",onChange:E=>i(E.target.value),required:"required"})}),f(I.Group,{className:"mb-3",controlId:"formBasicPassword",children:f(I.Control,{type:"password",placeholder:"Password",onChange:E=>a(E.target.value)})}),_("div",{className:"signup-type mb-3",children:[f("input",{type:"radio",name:"reg-type",value:"faculty",id:"fcltyType",checked:!d,onChange:E=>{console.log("yeah "),p(!d)}}),f("label",{htmlFor:"fcltyType",children:"Faculty"}),f("input",{type:"radio",name:"reg-type",value:"student",id:"stdntType",checked:d,onChange:E=>{console.log("not yeah"),p(!d)}}),f("label",{htmlFor:"stdntType",children:"Student"})]}),d&&_("div",{className:"stdnt-detail",children:[_(I.Select,{onChange:E=>h(E.target.value),className:"mb-3",children:[f("option",{children:"Choose Department"}),f("option",{value:"CSE",children:"CSE"}),f("option",{value:"CE",children:"CE"}),f("option",{value:"ME",children:"ME"}),f("option",{value:"EEE",children:"EEE"}),f("option",{value:"ECE",children:"ECE"})]}),_(I.Select,{onChange:E=>w(E.target.value),className:"mb-3",children:[f("option",{children:"Choose Semester"}),f("option",{value:"1",children:"1"}),f("option",{value:"2",children:"2"}),f("option",{value:"3",children:"3"}),f("option",{value:"4",children:"4"}),f("option",{value:"5",children:"5"}),f("option",{value:"6",children:"6"}),f("option",{value:"7",children:"7"}),f("option",{value:"8",children:"8"})]}),f(I.Group,{className:"mb-3",controlId:"formBasicReg",children:f(I.Control,{type:"text",placeholder:"Register Number",onChange:E=>c(E.target.value),required:"required"})})]}),!d&&f("div",{className:"stdnt-detail",children:_(I.Select,{onChange:E=>h(E.target.value),className:"mb-3",children:[f("option",{children:"Choose Department"}),f("option",{value:"CSE",children:"CSE"}),f("option",{value:"CE",children:"CE"}),f("option",{value:"ME",children:"ME"}),f("option",{value:"EEE",children:"EEE"}),f("option",{value:"ECE",children:"ECE"})]})}),f("div",{className:"d-grid ",children:f(ue,{variant:"primary",id:"signup-btn",type:"Submit",children:"Sign up"})})]})]}),_("div",{className:"p-4 box mt-3 text-center",children:["Already have an account? ",f(kp,{to:"/",children:"Log In"})]})]})},Vd=({children:t})=>{const{user:e}=ko();return e?t:f(cC,{to:"/"})};function fL({isStudent:t}){const{profilePic:e,uploadProfilePic:n}=zt(),{user:r,uploadUserName:o,logOut:i}=ko(),{uploadDetails:s}=Bn(),[a,l]=v.exports.useState(r.displayName),[c,u]=v.exports.useState(),[h,d]=v.exports.useState(),[p,m]=v.exports.useState(),[w,x]=v.exports.useState(),y=yo(),g=async k=>{k.preventDefault();try{await o(a),c&&n(c)}catch(C){console.error(C)}try{await s(h,p,w)}catch(C){console.error(C)}alert("successfully updated your profile")},b=async k=>{confirm("Are you sure you want to log out ?")&&await i()};return _("div",{className:"sett_cont",children:[_("div",{id:"sett_pro_pic",children:[f(ag,{size:"sm",src:(r==null?void 0:r.photoURL)||e,roundedCircle:!0,fluid:!0}),r.displayName]}),_(I,{onSubmit:g,children:[_(I.Group,{className:"m-3",children:[f(I.Label,{children:"Change Profile Picture:"}),f(I.Control,{onChange:k=>{u(k.target.files[0])},type:"file"})]}),_(I.Group,{className:"m-3 ",children:[f(I.Label,{children:"User Name: "}),f(I.Control,{onChange:k=>{l(k.target.value)},size:"lg",type:"text"})]}),_(I.Group,{className:"m-3",children:[f(I.Label,{children:"Department:"}),_(I.Select,{onChange:k=>{d(k.target.value)},size:"lg",children:[f("option",{value:"",children:"Select Department"}),f("option",{value:"EEE",children:"EEE"}),f("option",{value:"ECE",children:"ECE"}),f("option",{value:"ME",children:"ME"}),f("option",{value:"CE",children:"CE"}),f("option",{value:"CSE",children:"CSE"})]})]}),t&&_(Re,{children:[_(I.Group,{className:"m-3",children:[f(I.Label,{children:"Semester: "}),_(I.Select,{onChange:k=>{m(k.target.value)},size:"lg",children:[f("option",{value:"",children:"Select Semester"}),f("option",{value:"1",children:"1"}),f("option",{value:"2",children:"2"}),f("option",{value:"3",children:"3"}),f("option",{value:"4",children:"4"}),f("option",{value:"5",children:"5"}),f("option",{value:"6",children:"6"}),f("option",{value:"7",children:"7"}),f("option",{value:"8",children:"8"})]})]}),_(I.Group,{className:"m-3",children:[f(I.Label,{children:"Register Number:"}),f(I.Control,{onChange:k=>{x(k.target.value)},size:"lg",type:"text"})]})]}),_("div",{id:"sett_foot",className:"m-3",children:[f(ue,{type:"submit",variant:"outline-warning",children:"Save Changes"}),f(ue,{onClick:()=>{y(-1)},variant:"outline-secondary",children:"Back"}),f(ue,{variant:"danger",onClick:b,children:"LogOut"})]})]})]})}function pL(){return f(Re,{children:f(pC,{children:f(gD,{children:f(vD,{children:f(yD,{children:_(dC,{children:[f(Gn,{path:"/",element:f(UO,{})}),f(Gn,{path:"/student-login",element:f(xy,{})}),f(Gn,{path:"/faculty-login",element:f(xy,{})}),f(Gn,{path:"/signup",element:f(hL,{})}),f(Gn,{path:"/faculty",element:f(Vd,{children:f(MO,{})})}),f(Gn,{path:"/student",element:f(Vd,{children:f(uL,{})})}),f(Gn,{path:"/settings",element:f(Vd,{children:f(fL,{isStudent:!0})})})]})})})})})})}Hd.createRoot(document.getElementById("root")).render(f(fn.StrictMode,{children:f(pL,{})}));
